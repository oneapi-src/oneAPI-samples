cmake_minimum_required(VERSION 2.8.11)
if("${CMAKE_CXX_COMPILER}" STREQUAL "")
       set(CMAKE_C_COMPILER "clang")
       set(CMAKE_CXX_COMPILER "dpcpp")
endif()
project (oneCCL_Getting_Started)
if("$ENV{EXAMPLE_ROOT}" STREQUAL "")
	message(" - use default examples")
	if($ENV{CCL_CONFIGURATION} MATCHES "cpu_gpu_dpcpp")
		file(COPY $ENV{CCL_ROOT}/examples/sycl DESTINATION src)
	endif()
	file(COPY $ENV{CCL_ROOT}/examples/cpu DESTINATION src)
	file(COPY $ENV{CCL_ROOT}/examples/common DESTINATION src)
	file(COPY $ENV{CCL_ROOT}/examples/benchmark DESTINATION src)
	file(COPY $ENV{CCL_ROOT}/examples/external_launcher DESTINATION src)
	file(COPY $ENV{CCL_ROOT}/examples/include DESTINATION src)
	file(COPY $ENV{CCL_ROOT}/examples/CMakeLists.txt DESTINATION src)
	add_subdirectory (${PROJECT_BINARY_DIR}/src out)
else()
	add_subdirectory ($ENV{EXAMPLE_ROOT} out)
endif()
