cmake_minimum_required(VERSION 3.4)
if("${CMAKE_CXX_COMPILER}" STREQUAL "")
    set(CMAKE_CC_COMPILER "icx")
    set(CMAKE_CXX_COMPILER "icx")
endif()
project (getting_started)
file(COPY $ENV{DNNLROOT}/share/doc/dnnl/examples/ DESTINATION src FILES_MATCHING PATTERN "*.cpp")
file(COPY $ENV{DNNLROOT}/share/doc/dnnl/examples/ DESTINATION src FILES_MATCHING PATTERN "*.h")
file(COPY $ENV{DNNLROOT}/share/doc/dnnl/examples/ DESTINATION src FILES_MATCHING PATTERN "*.hpp")

file(COPY $ENV{DNNLROOT}/share/doc/dnnl/examples/CMakeLists.txt DESTINATION src)
if(WIN32 AND ${CMAKE_CXX_COMPILER_ID} STREQUAL MSVC)
    file(COPY $ENV{DNNLROOT}/share/doc/dnnl/examples/template.vcxproj.user DESTINATION src)
else()
    file(COPY $ENV{DNNLROOT}/share/doc/dnnl/examples/dpcpp_driver_check.cmake DESTINATION src)
endif()
add_subdirectory (${PROJECT_BINARY_DIR}/src bin)
