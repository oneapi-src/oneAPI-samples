set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -g -std=c++17")
set(CMAKE_EXE_LINKER_FLAGS "${CMAKE_EXE_LINKER_FLAGS}")

add_executable(1_guided_jacobi_iterative_solver_cpu 1_guided_jacobi_iterative_solver_cpu)
add_executable(2_guided_jacobi_iterative_solver_gpu 2_guided_jacobi_iterative_solver_gpu.cpp)
add_executable(3_guided_jacobi_iterative_solver_gpu_optimization 3_guided_jacobi_iterative_solver_gpu_optimization.cpp)
add_executable(4_guided_jacobi_iterative_solver_multi_gpu 4_guided_jacobi_iterative_solver_multi_gpu.cpp)

target_link_libraries(1_guided_jacobi_iterative_solver_cpu OpenCL sycl)
target_link_libraries(2_guided_jacobi_iterative_solver_gpu OpenCL sycl)
target_link_libraries(3_guided_jacobi_iterative_solver_gpu_optimization OpenCL sycl)
target_link_libraries(4_guided_jacobi_iterative_solver_multi_gpu OpenCL sycl)

add_custom_target(run_1_cpu 1_guided_jacobi_iterative_solver_cpu)
add_custom_target(run_2_gpu 2_guided_jacobi_iterative_solver_gpu)
add_custom_target(run_3_gpu_optimization 3_guided_jacobi_iterative_solver_gpu_optimization)
add_custom_target(run_4_multi_gpu 4_guided_jacobi_iterative_solver_multi_gpu)
