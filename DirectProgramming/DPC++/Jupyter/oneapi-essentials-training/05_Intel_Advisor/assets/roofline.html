<!DOCTYPE html><html lang=en><head><title>Roofline by Intel Advisor</title><meta http-equiv=Content-type content="text/html; charset=utf-8"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><style>.data_loading>div,.data_loading>button{display:none;}</style><!--
* @license Copyright 2013 - 2019 Intel Corporation All Rights Reserved.
*
* The source code, information and material ("Material") contained herein is owned by Intel Corporation or its
* suppliers or licensors, and title to such Material remains with Intel Corporation or its suppliers or
* licensors. The Material contains proprietary information of Intel or its suppliers and licensors. The
* Material is protected by worldwide copyright laws and treaty provisions. No part of the Material may be used,
* copied, reproduced, modified, published, uploaded, posted, transmitted, distributed or disclosed in any way
* without Intel's prior express written permission. No license under any patent, copyright or other intellectual
* property rights in the Material is granted to or conferred upon you, either expressly, by implication,
* inducement, estoppel or otherwise. Any license under such intellectual property rights must be express and
* approved by Intel in writing.
*
* Unless otherwise agreed by Intel in writing, you may not remove or alter this notice or any other notice
* embedded in Materials by Intel or Intel's suppliers or licensors in any way.
--></head><body class="body_area data_loading"><div class="top_report_area report_only"><span class=background_layer></span> <span id=summary_info_result_path data-tooltip=%roofline_path_to_results% class=path></span> <span class=brand_name><i>Roofline Chart from the </i>Intel<sup>&#xAE;</sup><a href=https://software.intel.com/en-us/advisor data-tooltip=%roofline_product_link_title%>Advisor</a></span></div><div id=summary_info_bar class="br toolbar_item_bar summary_info report_only"><div id=summary_info_control class=roofline_toolbar_control><div id=summary_info_panel class="roofline_toolbar_control_items roofline_popup_shadow text"><ul class=item><li id=summary_info_project></li><li id=summary_collected_on>%roofline_collected_on%</li></ul><div class="roofline_toolbar_control_caption roofline_group_caption_colors">%roofline_summary_program_metrics%</div><ul id=program_metrics_items class=item></ul><div class="roofline_toolbar_control_caption roofline_group_caption_colors">%roofline_summary_loop_metrics%</div><ul id=loop_metrics_items class=item></ul><div class="roofline_toolbar_control_caption roofline_group_caption_colors">%roofline_summary_platform_info%</div><ul id=platform_info_items class=item></ul></div><span class=roofline_toolbar_control_content>%roofline_summary_result%</span><div class="zoom_button icon select"></div></div></div><div class=content><div class="zoom_toolbar hidden4copy" id=roofline_zoom_toolbar><span id=select_point data-tooltip=%roofline_toolbar_select_point% class="zoom_button icon cursor"></span> <span id=select_zoom data-tooltip=%roofline_toolbar_select_zoom% class="zoom_button icon magnifier"></span> <span id=select_hand data-tooltip=%roofline_toolbar_select_move% class="zoom_button icon hand"></span> <span id=undo_zoom data-tooltip=%roofline_toolbar_undo% class="zoom_button icon undo"></span> <span id=redo_zoom data-tooltip=%roofline_toolbar_redo% class="zoom_button icon redo"></span> <span id=cancel_zoom data-tooltip=%roofline_toolbar_cancel_zoom% class="zoom_button icon cross"></span> <label id=copy_content_control class=no_report><span id=copy_content data-tooltip=%roofline_toolbar_html_export% class="zoom_button icon export"></span><div id=copy_content_select class="zoom_button icon select cling_button"><ul id=copy_content_items class="zoom_select_items roofline_popup_shadow radio extra_space"><li id=export_as_html class="selected splitter">%roofline_toolbar_html_export%</li><li id=export_as_svg>%roofline_toolbar_svg_export% <label class=invisible><input type=text class=no_close_popup disabled=disabled></label><br><label class=zoom_select_prop>%roofline_toolbar_svg_width%<input type=text width=true class="zoom_select_prop_input no_close_popup"></label><br><label class=zoom_select_prop>%roofline_toolbar_svg_height%<input type=text class="zoom_select_prop_input no_close_popup"></label></li></ul></div></label> <label id=roofline_cores_bar class="br toolbar_item_bar invisible"><div id=roofline_cores_control class=roofline_toolbar_control><div id=roofline_cores_select_items class="roofline_toolbar_control_items no_close_popup roofline_popup_shadow"><ul id=core_number_items class="zoom_select_items no_close_popup"></ul></div><span class=roofline_cores_caption>%roofline_N_threaded_roofs%</span> <span id=roofline_cores_content class=roofline_toolbar_control_content></span> <label class=explanation_symbol data-tooltip=%roofline_N_threaded_roofs_expl%>?</label><div id=roofline_cores_select class="zoom_button icon select"></div></div></label> <label id=roofline_type_bar class="br no_data_visible toolbar_item_bar invisible"><div id=roofline_type_control class=roofline_toolbar_control><div id=roofline_type_select_items class="roofline_toolbar_control_items no_close_popup roofline_popup_shadow"><div id=roofline_type_select_body class="no_close_popup roofline_type_select_items"><form class=invisible><label><input type=radio class=no_close_popup disabled=disabled></label></form></div><div class="roofline_toolbar_control_btns no_close_popup"><button>%roofline_configuration_default%</button> <button>%roofline_configuration_apply%</button> <button>%roofline_configuration_cancel%</button></div></div><span id=roofline_type_content class="roofline_toolbar_control_content pictured"></span><div id=roofline_type_select class="zoom_button icon select"></div></div></label> <label id=roofline_compare_bar class="br toolbar_item_bar"><div id=roofline_compare_control class=roofline_toolbar_control><div id=roofline_compare_select_items class="roofline_toolbar_control_items no_close_popup roofline_popup_shadow"><span id=load_compare data-tooltip=%roofline_toolbar_load_compare% class="zoom_button icon compare no_close_popup no_report"></span><div class="roofline_toolbar_control_caption roofline_group_caption_colors no_report">%roofline_compare_results_label% <span id=delete_compare data-tooltip=%roofline_toolbar_clear_compare% class="zoom_button icon cross no_close_popup no_report disabled clear_compare"></span></div><ul id=loaded_compare_items class="zoom_select_items pictured no_close_popup"></ul><div class="roofline_toolbar_control_caption roofline_group_caption_colors no_report">%roofline_compare_recent_label%</div><ul id=ready_compare_items class="zoom_select_items no_report no_close_popup"></ul></div><span id=roofline_compare_content class="roofline_toolbar_control_content pictured">%roofline_compare_nodata_label%</span><div id=roofline_compare_select class="zoom_button icon select"></div></div></label> <label id=roofline_guidance_bar class="br toolbar_item_bar"><div id=roofline_guidance_control class=roofline_toolbar_control><div id=roofline_guidance_select_items class="roofline_toolbar_control_items no_close_popup roofline_popup_shadow"><div id=roofline_guidance_select_body class="no_close_popup roofline_type_select_items"></div><div id=roofline_guidance_image_body class="roofline_toolbar_image no_close_popup"></div><div id=roofline_guidance_buttons_body class="roofline_toolbar_control_btns no_close_popup"><button>%roofline_configuration_default%</button> <button>%roofline_configuration_apply%</button> <button>%roofline_configuration_cancel%</button></div></div><span id=roofline_guidance_content class="roofline_toolbar_control_content pictured">%roofline_toolbar_guidance_label%</span><div id=roofline_guidance_select class="zoom_button icon select"></div></div></label><div id=expand_toolbar_content class="expand_button icon expand"></div></div><div class="menu_button hidden4copy" id=roofline_menu_button><div></div><div></div><div></div></div><div class=settings id=roofline_settings><div class="settings_title roofline_group_caption_colors">%roofline_settings_representation_caption%</div><div class="single_settings_item roofline_view_mode_setting" id=roofline_view_mode><label class=radio_settings_item><input type=radio class="" name=rooflineviewmode value=fittoview>%roofline_settings_fit_to_view% <label class=explanation_symbol data-tooltip=%roofline_settings_fit_to_view_expl%>?</label></label> <label class=radio_settings_item><input type=radio class="" name=rooflineviewmode value=onewideview>%roofline_settings_one_view% <label class=explanation_symbol data-tooltip=%roofline_settings_one_view_expl%>?</label></label></div><div class="settings_title roofline_group_caption_colors">%roofline_settings_roofs_caption%</div><label class="single_settings_item roofs_strategy_setting invisible"><input type=checkbox class=toolbar_item_input id=use_single_thread_strategy>%roofline_settings_use_single_thread_strategy% <label class=explanation_symbol data-tooltip=%roofline_settings_use_single_thread_strategy_expl%>?</label></label><table id=roofs_table class=roofs_table><thead><tr><th>%roofline_settings_roof_name%</th><th>%roofline_settings_roof_visible%</th><th>%roofline_settings_roof_selected%</th><th style=white-space:nowrap><label>%roofline_settings_roof_value%</label><button id=revert_roofs_values_settings_button>%roofline_settings_roof_default%</button></th></tr></thead><tbody id=roofs_table_body></tbody></table><div class=settings_buttons_container><button id=load_roofs_settings_button class=loadsave_settings_button>%roofline_settings_roof_load%</button> <button id=save_roofs_settings_button class=loadsave_settings_button>%roofline_settings_roof_save%</button></div><div class="settings_title roofline_group_caption_colors">%roofline_settings_loop_caption%</div><div class="settings_title subtitle">Point Weight Calculation</div><label class="single_settings_item loop_weight_base_value">Base Value: <select id=roofline_loop_weight_base></select></label><div class="single_settings_item loop_weight_formula" id=roofline_loop_weight_formula></div><div class="settings_title subtitle">Point Weight Ranges</div><table id=loops_table><thead><tr><th></th><th align=left>%roofline_settings_loop_size%</th><th align=left>%roofline_settings_loop_color%</th><th>Range (R)</th><th></th></tr></thead><tbody id=loops_table_body></tbody></table><div class=settings_buttons_container><button id=load_loops_settings_button class=loadsave_settings_button>%roofline_settings_roof_load%</button> <button id=save_loops_settings_button class=loadsave_settings_button>%roofline_settings_roof_save%</button> <button id=cancel_loops_settings_button class=loadsave_settings_button>%roofline_settings_loop_cancel%</button> <button id=revert_loops_settings_button class=loadsave_settings_button>%roofline_settings_loop_default%</button></div><div class="settings_title subtitle">Points Colorization</div><div id=roofline_color_mode><label class=radio_settings_item><input type=radio class="" name=rooflinecolormode value=0>Colors of Point Weight Ranges</label> <label class=radio_settings_item><input type=radio class="" name=rooflinecolormode value=1> <span>Vectorized</span> <span class="loop_sample loop_fixed_sample small" style=background-color:#ffa500></span> <span class=settings_item_separator>/ </span><span>Scalar</span> <span class="loop_sample loop_fixed_sample small" style=background-color:#3473d4></span></label></div><div class=no_self_time_item><label class=settings_item_caption>%roofline_settings_loop_color_nst%<div class="loop_sample loop_fixed_sample" id=roofline_nst_loop_color_sample></div><input class=color_input id=roofline_nst_loop_color_edit></label></div></div><div class="summary hidden4copy" id=roofline_summary><label class=br id=cores name=summary_item><span class=summary_caption>%roofline_physical_cores_count%</span> <span id=value class=summary_value></span> <label class=explanation_symbol data-tooltip=%roofline_cores_expl%>?</label></label> <label class=br id=used_threads name=summary_item><span class=summary_caption>%roofline_used_threads_count%</span> <span id=value class=summary_value></span> <label class=explanation_symbol data-tooltip=%roofline_threads_expl%>?</label></label> <label class=br id=self name=summary_item><span id=name class=summary_caption></span> <span id=value class="summary_value flash"></span> <span id=measure class=summary_measure></span></label> <label class=br id=total name=summary_item><span id=name class=summary_caption></span> <span id=value class="summary_value flash"></span> <span id=measure class=summary_measure></span></label><div id=expand_summary_content class="expand_button icon expand"></div></div><div class=top_area></div><div class=main_area id=roofline_content></div><div class=bottom_area></div><div class="zoom_button icon frame_settings hidden4copy" id=roofline_frame_settings></div><div class="frame_settings_cover frame_settings_area"></div><div class="frame_settings_axis vert frame_settings_area"><input class=frame_settings_input id=frame_max_perf> <input class=frame_settings_input id=frame_min_perf></div><div class="frame_settings_axis horz frame_settings_area"><input class=frame_settings_input id=frame_min_intens> <input class=frame_settings_input id=frame_max_intens></div><div class="frame_settings_corner frame_settings_area"><button class="frame_settings_button icon ok" id=frame_apply_btn></button> <button class="frame_settings_button icon cross" id=frame_cancel_btn></button></div></div><div class=data_loading_message id=roofline_data_loading_message>%roofline_loading%</div><div class=no_data_message_container><div class=no_data_message><div class=no_data_message_title></div><div class=no_data_message_content></div></div></div><script type=text/javascript>!function(t){function e(n){if(o[n])return o[n].exports;var i=o[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var o={};e.m=t,e.c=o,e.d=function(t,o,n){e.o(t,o)||Object.defineProperty(t,o,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(o,"a",o),o},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=3)}([function(t,e){function o(t,e){var o=t[1]||"",i=t[3];if(!i)return o;if(e&&"function"==typeof btoa){var r=n(i);return[o].concat(i.sources.map(function(t){return"/*# sourceURL="+i.sourceRoot+t+" */"})).concat([r]).join("\n")}return[o].join("\n")}function n(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=o(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n}).join("")},e.i=function(t,o){"string"==typeof t&&(t=[[null,t,""]]);for(var n={},i=0;i<this.length;i++){var r=this[i][0];"number"==typeof r&&(n[r]=!0)}for(i=0;i<t.length;i++){var a=t[i];"number"==typeof a[0]&&n[a[0]]||(o&&!a[2]?a[2]=o:o&&(a[2]="("+a[2]+") and ("+o+")"),e.push(a))}},e}},function(t,e,o){function n(t,e){for(var o=0;o<t.length;o++){var n=t[o],i=p[n.id];if(i){i.refs++;for(var r=0;r<i.parts.length;r++)i.parts[r](n.parts[r]);for(;r<n.parts.length;r++)i.parts.push(d(n.parts[r],e))}else{for(var a=[],r=0;r<n.parts.length;r++)a.push(d(n.parts[r],e));p[n.id]={id:n.id,refs:1,parts:a}}}}function i(t,e){for(var o=[],n={},i=0;i<t.length;i++){var r=t[i],a=e.base?r[0]+e.base:r[0],s=r[1],l=r[2],c=r[3],d={css:s,media:l,sourceMap:c};n[a]?n[a].parts.push(d):o.push(n[a]={id:a,parts:[d]})}return o}function r(t,e){var o=g(t.insertInto);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=y[y.length-1];if("top"===t.insertAt)n?n.nextSibling?o.insertBefore(e,n.nextSibling):o.appendChild(e):o.insertBefore(e,o.firstChild),y.push(e);else if("bottom"===t.insertAt)o.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=g(t.insertInto+" "+t.insertAt.before);o.insertBefore(e,i)}}function a(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=y.indexOf(t);e>=0&&y.splice(e,1)}function s(t){var e=document.createElement("style");return t.attrs.type="text/css",c(e,t.attrs),r(t,e),e}function l(t){var e=document.createElement("link");return t.attrs.type="text/css",t.attrs.rel="stylesheet",c(e,t.attrs),r(t,e),e}function c(t,e){Object.keys(e).forEach(function(o){t.setAttribute(o,e[o])})}function d(t,e){var o,n,i,r;if(e.transform&&t.css){if(!(r=e.transform(t.css)))return function(){};t.css=r}if(e.singleton){var c=_++;o=v||(v=s(e)),n=u.bind(null,o,c,!1),i=u.bind(null,o,c,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(o=l(e),n=h.bind(null,o,e),i=function(){a(o),o.href&&URL.revokeObjectURL(o.href)}):(o=s(e),n=f.bind(null,o),i=function(){a(o)});return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else i()}}function u(t,e,o,n){var i=o?"":n.css;if(t.styleSheet)t.styleSheet.cssText=x(e,i);else{var r=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(r,a[e]):t.appendChild(r)}}function f(t,e){var o=e.css,n=e.media;if(n&&t.setAttribute("media",n),t.styleSheet)t.styleSheet.cssText=o;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(o))}}function h(t,e,o){var n=o.css,i=o.sourceMap,r=void 0===e.convertToAbsoluteUrls&&i;(e.convertToAbsoluteUrls||r)&&(n=b(n)),i&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var a=new Blob([n],{type:"text/css"}),s=t.href;t.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}var p={},m=function(t){var e;return function(){return void 0===e&&(e=t.apply(this,arguments)),e}}(function(){return window&&document&&document.all&&!window.atob}),g=function(t){var e={};return function(o){if(void 0===e[o]){var n=t.call(this,o);if(n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[o]=n}return e[o]}}(function(t){return document.querySelector(t)}),v=null,_=0,y=[],b=o(6);t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");e=e||{},e.attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=m()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var o=i(t,e);return n(o,e),function(t){for(var r=[],a=0;a<o.length;a++){var s=o[a],l=p[s.id];l.refs--,r.push(l)}if(t){n(i(t,e),e)}for(var a=0;a<r.length;a++){var l=r[a];if(0===l.refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete p[l.id]}}}};var x=function(){var t=[];return function(e,o){return t[e]=o,t.filter(Boolean).join("\n")}}()},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),o.d(e,"version",function(){return n});var n=function(){var t=window.navigator.userAgent,e=t.indexOf("MSIE ")+1,o=t.indexOf("Edge/")+1;if(e>0||o>0){var n=(e||o)-1;return parseInt(t.substring(n+5,t.indexOf(".",n)))}if(t.indexOf("Trident/")>0){var i=t.indexOf("rv:");return parseInt(t.substring(i+3,t.indexOf(".",i)))}return!1}()},function(t,e,o){"use strict";function n(){window.rooflineAdditionalDataLoopData&&window.rooflineData&&window.rooflineData.loops&&(window.rooflineData.selfElapsedTime=0,window.rooflineData.loops.forEach(function(t,e,o){o.findIndex(function(e){return e.key===t.key})===e&&(window.rooflineData.selfElapsedTime+=t.selfElapsedTime)}),window.rooflineData.minX=Math.min(window.rooflineData.minX,window.rooflineAdditionalDataLoopData.minX),window.rooflineData.minY=Math.min(window.rooflineData.minY,window.rooflineAdditionalDataLoopData.minY),window.rooflineData.maxX=Math.max(window.rooflineData.maxX,window.rooflineAdditionalDataLoopData.maxX),window.rooflineData.maxY=Math.max(window.rooflineData.maxY,window.rooflineAdditionalDataLoopData.maxY))}function i(t){if(-1!==t.indexOf("ready4data"))return r(t)}function r(t){function e(t){t.loops&&Array.isArray(t.loops)||(t.loops=[])}function o(t,e,o){var n=o.find(function(e){return t.key===e.key&&e.x===t.x&&e.y===t.y});if(n)n.memoryLevelPref=n.memoryLevelPref+e+r;else{var i=Object.assign({},t);i.memoryLevelPref=e+r,o.push(i)}}function i(t){t.memoryLevelPref.split(r).filter(function(t){return t.length>0}).forEach(function(e){a.some(function(t){return t===e})?o(t,e,l):o(t,e,c)})}if(window.rooflineData&&window.rooflineAdditionalDataLoopData){var r=" ";e(window.rooflineAdditionalDataLoopData),e(window.rooflineData);var a=t.split("-");if(!(a.length<2)){a.shift();var l=[],c=[];window.rooflineData.loops.forEach(i),window.rooflineAdditionalDataLoopData.loops.forEach(i),window.rooflineData.loops=l,window.rooflineAdditionalDataLoopData.loops=c,l.length?(window.rooflineData.noDataMessage&&delete window.rooflineData.noDataMessage,n(),window.idvcGlobalRequest.receiveData("rooflineData",Object.assign({},window.rooflineData))):window.idvcGlobalRequest.receiveData("rooflineData",Object.assign({},s("roofline_no_data_mem_level_report_error_descr"),window.rooflineData)),window.idvcGlobalRequest.receiveData("rooflineAdditionalDataLoopData",Object.assign({},window.rooflineAdditionalDataLoopData))}}}function a(t){if(!t||!t.groups||!Array.isArray(t.groups))return!1;var e=L.I18n.getMessage("roofline_options_mem_levels");return!!e&&(t.groups=t.groups.filter(function(t){return t.caption===e}),!0)}function s(t,e){return e=e||"roofline_no_data_generic_report_error_title",t=t||"roofline_no_data_generic_report_error_descr",{noDataMessage:{title:L.I18n.getMessage(e),descr:L.I18n.getMessage(t)}}}function l(){var t=["guidances-preview-0-170x110.png","guidances-preview-1-170x110.png","guidances-preview-2-170x110.png","guidances-preview-3-170x110.png"],e=document.getElementById("roofline_guidance_image_body");Array.from(e.children).forEach(function(e){var n=t.find(function(t){return-1!==e.style.backgroundImage.indexOf(t)});n&&(e.style.backgroundImage="url("+o(20)("./"+n)+")")})}function c(){try{if(!window.summaryInfo)throw"No summary info present";document.getElementById("summary_info_panel").onclick=function(t){return t.stopPropagation()},document.body.onselectstart=function(){return!0},document.getElementById("copy_content").click=function(){};var t=k(window.summaryInfo)===k(""),e=t?(new DOMParser).parseFromString(window.summaryInfo,"text/xml"):window.summaryInfo,o=m(e),n=document.getElementById("summary_info_result_path");if(n.innerHTML=o.value,"true"==o.snapshot){var i=n.dataset.tooltip.replace(/result/gi,"snapshot");n.dataset.tooltip=o.name||i}o.path&&(document.title="Intel Advisor - "+o.path);var r=document.getElementById("summary_collected_on"),a=g(e),s=a.date,l=a.dateFinished;if(l&&(n.innerHTML=n.innerHTML+" | "+s.toLocaleDateString()),!v("program",e)&&!v("functionsAndLoops",e)&&!v("platform",e)){var c=document.getElementById("summary_info_bar");return c&&c.classList.add("invisible"),void window.dispatchEvent(new Event("resize"))}l?r.innerHTML="<span>"+r.innerHTML+"</span> "+s.toDateString()+", "+s.toLocaleTimeString():r.classList.add("invisible");var d=document.getElementById("summary_info_project");o.name?d.innerHTML="<span>"+o.name.split(":").join(":</span>"):d.classList.add("no_report");f("program",document.getElementById("program_metrics_items"),e);f("functionsAndLoops",document.getElementById("loop_metrics_items"),e);f("platform",document.getElementById("platform_info_items"),e)}catch(t){var u=document.getElementById("summary_info_bar");u.classList.add("no_report"),console.log(""+t)}}function d(t,e,o){for(var n=0;n<t.length;n++)e.call(o,t[n],n,t)}function u(t,e,o){for(var n=0;n<t.length;n++)if(e.call(o,t[n],n,t))return!0;return!1}function f(t,e,o){o instanceof DOMParser?d(o.getElementsByTagName(t),function(t){d(t.getElementsByTagName("item"),function(t){var o=document.createElement("li"),n=t.getAttributeNames();n.some(function(e){return""==t.getAttribute(e)})||(o.innerHTML=n.reduce(function(e,o,n){return e+p(h(o,t.getAttribute(o)),n)},""),e.appendChild(o))})}):o[t].forEach(function(t){if(!S[t.caption]){var o=document.createElement("li");S[t.caption]="<span>"+t.caption+":</span> "+t.value+" "+h("percent",t.timePercent),o.innerHTML=S[t.caption],e.appendChild(o)}})}function h(t,e){return e?-1!=t.toLowerCase().indexOf("percent")?"("+parseFloat(e).toFixed(2)+"%)":e:""}function p(t,e){return(0==e?"<span>":"")+t+(0==e?":</span> ":" ")}function m(t){if(t instanceof DOMParser){var e={caption:null,value:null,name:null,path:null,snapshot:null};return d(t.getElementsByTagName("project"),function(t){t.getAttributeNames().forEach(function(o){for(var n in e)if(-1!==o.indexOf(n)){e[n]=t.getAttribute(o);break}})}),e}return t.project}function g(t){var e=new Date(0),o=!1;if(t instanceof DOMParser)d(t.getElementsByTagName("result"),function(t){t.getAttributeNames().some(function(e){return t.getAttribute(e).match(/(survey|tripcount)/gi)})&&(o=u(t.getElementsByTagName("item"),function(t){if(t.attributes.caption.nodeValue.match(/collection finished/gi)){var o=new Date(t.attributes.value.nodeValue);return o>e&&(e=o),!0}}))});else{var n=function(t,e){if(t){var n=t.findIndex(function(t){return t.caption.match(/collection finished/gi)});if(-1!==n){var i=new Date(t[n].value);i>e&&(e=i),o=!0}}return e};e=n(t.results[0],n(t.results[5],new Date(0)))}return{date:e,dateFinished:o}}function v(t,e){return e instanceof DOMParser&&!!e.getElementsByTagName(t)||t in e}Object.defineProperty(e,"__esModule",{value:!0});var _=o(4),y=(o.n(_),o(7)),b=(o.n(y),o(9)),x=(o.n(b),o(11)),w=(o.n(x),o(13)),C=(o.n(w),o(15)),L=(o.n(C),o(16)),k=(o.n(L),"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t});document.body.classList.add("report"),function(){function t(t){var e=L.Utils.getElementPos(i).height,a=L.Utils.getElementPos(n).height,s=L.Utils.getElementPos(o).height;r.style.top=10+e+a+s+"px",t&&window.dispatchEvent(new Event("resize"))}var e=document.getElementById("summary_info_control"),o=document.getElementById("summary_info_panel"),n=document.getElementById("summary_info_bar"),i=document.querySelector(".top_report_area"),r=document.querySelector(".content");e.addEventListener("click",function(t){return e.classList.toggle("pressed")}),window.addEventListener("resize",function(e){return t()}),new MutationObserver(t).observe(e,{attributes:!0})}(),window.idvcGlobalRequest.sendNotification=function(t){if(-1!==t.indexOf("contentLoaded")){var e=o(18).uiInfo;window.idvcGlobalRequest.receiveData("uiInfo",JSON.stringify(e)),c(),l(),L.Events.recv("rooflineExtraDataUpdated",l)}if(-1!==t.indexOf("ready4data")||-1!==t.indexOf("refresh")){L.I18n.processElement(["data-tooltip","data-caption"]);var r=o(2).version;if(r&&r<12)return void window.idvcGlobalFRequest.receiveData("rooflineData",{noDataMessage:{title:L.Utils(L.I18n.getMessage("roofline_no_data_wrong_browser_error_title"),r),descr:L.I18n.getMessage("roofline_no_data_wrong_browser_error_descr")}});if(window.idvcGlobalRequest.sendNotification=function(){return!0},window.uiInfo&&window.uiInfo.dataOptions&&a(window.uiInfo.dataOptions)&&window.idvcGlobalRequest.receiveData("uiInfo",window.uiInfo),n(),window.idvcGlobalRequest.receiveData("threadsInfo",window.threadsInfo),window.idvcGlobalRequest.receiveData("rooflineData",Object.assign({},window.rooflineData||s())),window.rooflineAdditionalDataLoopData&&window.idvcGlobalRequest.receiveData("rooflineAdditionalDataLoopData",Object.assign({},window.rooflineAdditionalDataLoopData)),window.currentZoom){L.Zooming.get(L.Data.isHierarchical()).setZoom(window.currentZoom)}window.idvcGlobalRequest.sendNotification=i}};try{!function(t){L.Utils.copyObject(t,window)}({"rooflineData":{"nameX":"Arithmetic Intensity","measureX":"FLOP/Byte","nameY":"Performance","measureY":"GFLOPS","namePref":"Self ","minX":0.6590641888412758,"minY":0.9044275079134854,"maxX":0.6590641888412758,"maxY":0.9044275079134854,"attrs":{"selfElapsedTime":{"name":"Self Elapsed Time","measure":"s"},"selfMem":{"name":"Self Memory Traffic","measure":"GB"}},"roofs":[{"val":2.0358937169443029,"isMem":0,"measure":"GFLOPS","name":"DP Vector FMA Peak","desc":"Double vector FMA roof - represents maximal value of FLOPs for your current graphics hardware when using unrolled loop of vector FMA instructions."},{"val":1.7414169720233286,"isMem":0,"measure":"GFLOPS","name":"DP Vector Add Peak","desc":"Double vector ADD roof - represents maximal value of FLOPs for your current graphics hardware when using unrolled loop of vector ADD instructions."},{"val":2.6413077861547178,"isMem":0,"measure":"GFLOPS","name":"SP Vector FMA Peak","desc":"Single vector FMA roof - represents maximal value of FLOPs for your current graphics hardware when using unrolled loop of vector FMA instructions."},{"val":2.3421114584127116,"isMem":0,"measure":"GFLOPS","name":"SP Vector Add Peak","desc":"Single vector ADD roof - represents maximal value of FLOPs for your current graphics hardware when using unrolled loop of vector ADD instructions."},{"val":2.306175792444341,"isMem":1,"measure":"GB/sec","name":"SLM Bandwidth","desc":"SLM cache roof - represents the maximal bandwidth of the Shared Local Memory for your current graphics hardware. Measured using an optimized sequence of load and store operations that work only with SLM."},{"val":2.306594956875495,"isMem":1,"measure":"GB/sec","name":"L3 Bandwidth","desc":"L3 cache roof - represents the maximal bandwidth of the L3 cache for your current graphics hardware. Measured using an with optimized sequence of load operations, iterating over an array that fits entirely into L3 cache."},{"val":1.4723942373265314,"isMem":1,"measure":"GB/sec","name":"DRAM Bandwidth","desc":"DRAM roof - represents the maximal bandwidth of the DRAM memory available to your current graphics hardware. Measured using an with optimized sequence of load operations, iterating over an array that does not fit in GPU caches."},{"val":1.8668778143374994,"isMem":1,"measure":"GB/sec","name":"GTI Bandwidth","desc":"GTI roof - represents the maximum bandwidth between the GPU and the rest of the SoC. This estimate is calculated via analytical formula, based on the maximum frequency of your current graphics hardware."}],"loops":[{"id":5,"memoryLevelPref":"GTI ","name":"Matrix2<float>","vec":1,"selfElapsedTime":0.26761001209999987,"key":63,"y":0.9044275079134854,"x":0.6590641888412758,"selfMem":0.47083168}]},"rooflineAdditionalDataLoopData":{"nameX":"Arithmetic Intensity","measureX":"FLOP/Byte","nameY":"Performance","measureY":"GFLOPS","namePref":"Self ","minX":-1.2105262984265142,"minY":0.9044275079134854,"maxX":-0.630408570332125,"maxY":0.9044275079134854,"attrs":{"selfElapsedTime":{"name":"Self Elapsed Time","measure":"s"},"selfMem":{"name":"Self Memory Traffic","measure":"GB"}},"roofs":[{"val":2.0358937169443029,"isMem":0,"measure":"GFLOPS","name":"DP Vector FMA Peak","desc":"Double vector FMA roof - represents maximal value of FLOPs for your current graphics hardware when using unrolled loop of vector FMA instructions."},{"val":1.7414169720233286,"isMem":0,"measure":"GFLOPS","name":"DP Vector Add Peak","desc":"Double vector ADD roof - represents maximal value of FLOPs for your current graphics hardware when using unrolled loop of vector ADD instructions."},{"val":2.6413077861547178,"isMem":0,"measure":"GFLOPS","name":"SP Vector FMA Peak","desc":"Single vector FMA roof - represents maximal value of FLOPs for your current graphics hardware when using unrolled loop of vector FMA instructions."},{"val":2.3421114584127116,"isMem":0,"measure":"GFLOPS","name":"SP Vector Add Peak","desc":"Single vector ADD roof - represents maximal value of FLOPs for your current graphics hardware when using unrolled loop of vector ADD instructions."},{"val":2.306175792444341,"isMem":1,"measure":"GB/sec","name":"SLM Bandwidth","desc":"SLM cache roof - represents the maximal bandwidth of the Shared Local Memory for your current graphics hardware. Measured using an optimized sequence of load and store operations that work only with SLM."},{"val":2.306594956875495,"isMem":1,"measure":"GB/sec","name":"L3 Bandwidth","desc":"L3 cache roof - represents the maximal bandwidth of the L3 cache for your current graphics hardware. Measured using an with optimized sequence of load operations, iterating over an array that fits entirely into L3 cache."},{"val":1.4723942373265314,"isMem":1,"measure":"GB/sec","name":"DRAM Bandwidth","desc":"DRAM roof - represents the maximal bandwidth of the DRAM memory available to your current graphics hardware. Measured using an with optimized sequence of load operations, iterating over an array that does not fit in GPU caches."},{"val":1.8668778143374994,"isMem":1,"measure":"GB/sec","name":"GTI Bandwidth","desc":"GTI roof - represents the maximum bandwidth between the GPU and the rest of the SoC. This estimate is calculated via analytical formula, based on the maximum frequency of your current graphics hardware."}],"loops":[{"id":5,"memoryLevelPref":"L3 ","name":"Matrix2<float>","vec":1,"selfElapsedTime":0.26761001209999987,"key":63,"y":0.9044275079134854,"x":-0.630408570332125,"selfMem":9.169347584},{"id":5,"memoryLevelPref":"SLM ","name":"Matrix2<float>","vec":1,"selfElapsedTime":0.26761001209999987,"key":63,"y":0.9044275079134854,"x":-1.07802000354987,"selfMem":25.700990976},{"id":5,"memoryLevelPref":"L3+SLM ","name":"Matrix2<float>","vec":1,"selfElapsedTime":0.26761001209999987,"key":63,"y":0.9044275079134854,"x":-1.2105262984265142,"selfMem":34.87033856}]},"uiInfo":{"enableIntRoofline":1,"dataOptions":{"groups":[{"caption":"Memory Level","isCertainValue":1,"options":[{"caption":"CARM","value":"CARM","expl":"Memory traffic generated by all execution units. Includes traffic between EUs and the corresponding GPU cache or direct traffic to main memory. For each retired instruction with memory arguments, the size of each memory operand in bytes is added to this metric."},{"caption":"L3","value":"L3","expl":"Data transferred directly between execution units and Level-3 (L3) data caches."},{"caption":"SLM","value":"SLM","expl":"Memory access to/from Shared Local Memory (SLM), a dedicated structure within the L3 cache."},{"caption":"GTI (Memory)","value":"GTI","expl":"Traffic between the GPU, chip uncore (LLC), and main memory. This metric counts all memory accesses that miss the internal GPU L3 cache or bypass it and are serviced either from uncore or main memory."},{"caption":"L3 + SLM","value":"L3+SLM","expl":"Sum of L3 and SLM data traffic."}],"defRooflineTypes":["GTI"]}],"defConfigurationCaption":"Default: GTI (Memory)"},"defaultRooflineType":"GTI"},"rooflineState":{"linkAllMemoryLevels":true,"useZoneColoring":false,"showHistogram":false,"rooflineType":"GTI"},"summaryInfo":{"project":{"caption":"Project information","value":"/opt/work/_run/matrix_multiply_final_new/adv/e000","name":"Project: adv","path":"/opt/work/_run/matrix_multiply_final_new/adv","snapshot":false},"results":{"0":[{"caption":"Collection started","value":"27 September 2019, 16:48:10"},{"caption":"Collection finished","value":"27 September 2019, 16:48:12"},{"caption":"Collection time","value":"00 min 02 sec"},{"caption":"Finalization time","value":"00 min 03 sec"},{"caption":"Full time","value":"00 min 05 sec"},{"caption":"Collection Log","value":"See log","path":"","resultLogFileType":0},{"caption":"Application Output","value":"See output","path":"","resultLogFileType":1},{"caption":"Collection Command Line","value":"See command line","path":"","resultLogFileType":2}],"5":[{"caption":"Collection started","value":"27 September 2019, 16:48:16"},{"caption":"Collection finished","value":"27 September 2019, 16:48:51"},{"caption":"Collection time","value":"00 min 35 sec"},{"caption":"Finalization time","value":"00 min 03 sec"},{"caption":"Full time","value":"00 min 38 sec"},{"caption":"Collection Log","value":"See log","path":"","resultLogFileType":0},{"caption":"Application Output","value":"See output","path":"","resultLogFileType":1},{"caption":"Collection Command Line","value":"See command line","path":"","resultLogFileType":2}]}}})}catch(t){console.log(""+t)}!o(2).version&&Element.prototype.getAttributeNames||(Element.prototype.getAttributeNames=function(){for(var t=[],e=0;e<this.attributes.length;e++)t.push(this.attributes[e].nodeName);return t.sort(),t});var S={};window.addEventListener("keydown",function(t){if(t.ctrlKey)switch(t.keyCode){case 61:case 107:case 173:case 109:case 187:case 189:t.preventDefault()}},!1),window.addEventListener("mousewheel",function(t){t.ctrlKey&&t.preventDefault()},!1),window.addEventListener("DOMMouseScroll",function(t){t.ctrlKey&&t.preventDefault()},!1),document.firstElementChild.style.zoom="reset"},function(t,e,o){var n=o(5);"string"==typeof n&&(n=[[t.i,n,""]]);var i={hmr:!0};i.transform=void 0;o(1)(n,i);n.locals&&(t.exports=n.locals)},function(t,e,o){e=t.exports=o(0)(!1),e.push([t.i,"*{-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:-moz-none;-o-user-select:none;user-select:none}input{-webkit-user-select:text!important;-khtml-user-select:text!important;-moz-user-select:text!important;-o-user-select:text!important;user-select:text!important}.body_area{font:caption;margin:0;padding:0;-moz-user-focus:ignore;background-color:#fff;color:#000;overflow:hidden;outline:none}.body_area.data_loading{overflow:auto}.main_area{top:2.4em;bottom:1.2em;border:none;outline:none}.main_area,.top_area{position:absolute;left:0;right:0}.top_area{top:0;height:2em;padding-top:.6em;padding-left:.6em;pointer-events:none}.vert_text{transform:rotate(90deg);transform-origin:left bottom 0;display:inline-block;white-space:nowrap;padding-left:0}.bottom_area{position:absolute;left:2em;bottom:0;height:1.2em;right:0;text-align:right;padding-right:4px;pointer-events:none}.axis_caption{position:absolute;color:#555;font-size:90%}.axis_caption_expl{color:#777;font-size:90%;white-space:pre}.axis_caption:hover{color:#000;background-color:#fff}.axis_caption.vert{left:10.5ch;top:-.85em}.axis_caption.horz{right:.2em;bottom:2.5em}.legend_area{position:absolute;right:.5em;bottom:4em;height:14em;width:24em;padding:.5em;border:1px solid #aaa;background:#fff;-moz-transform:scale(1);transform:scale(1);-moz-transition:-moz-transform .2s ease-in-out,border .2s ease-in-out;transition:transform .2s ease-in-out,border .2s ease-in-out;-moz-transform-origin:right bottom;transform-origin:right bottom}.legend_area.collapsed{-moz-transform:scale(.2);transform:scale(.2);border-width:4px;cursor:pointer}.legend_area .legend_axis_caption{position:absolute;height:1.1em;width:100%;left:0;bottom:0;text-align:center;color:GrayText;cursor:default;padding-bottom:.1em;font-size:.8em}.legend_area.collapsed *{pointer-events:none!important}.legend_area .idvcchart_body{left:.5em!important;right:.5em;top:1.2em;bottom:3.1em}.legend_area .idvcchart_horzaxis{left:.5em!important;right:.5em;bottom:1.1em}.legend_area:before{content:\"\";position:absolute;left:.1em;top:.1em;border-width:.35em;border-style:solid;border-top-color:transparent;border-right-color:currentColor;border-bottom-color:currentColor;border-left-color:transparent;cursor:pointer;-moz-transition:border-width .2s ease-in-out;transition:border-width .2s ease-in-out}.legend_area.collapsed:before{border-top-color:currentColor;border-right-color:transparent;border-bottom-color:transparent;border-left-color:currentColor;border-width:1.75em}.legend_area .idvcchart_horzaxis:after{content:\"%\";position:absolute;right:.1em;top:.3em;cursor:default;pointer-events:none}.legend_area .idvcchart_axis_text,.legend_area .idvcchart_axis_tick{fill:currentColor;font-size:90%;cursor:pointer}.legend_area .idvcchart_axis_text:hover{font-weight:700}.legend_area .legend_total_line{stroke:GrayText;stroke-width:1;stroke-dasharray:3,2;vector-effect:non-scaling-stroke;shape-rendering:crispEdges}.legend_area .legend_total_text{fill:gray;font-size:100%}.legend_area .histogram_slider{stroke:#333;fill:#bbb}.legend_area .histogram_slider_active{stroke:#00f;fill:#87cefa}.main_area .idvcchart_vertaxis{width:9ch;pointer-events:none}.main_area .idvcchart_body{left:9ch}.main_area .idvcchart_horzaxis{left:9ch;pointer-events:none}.main_area .idvcchart_axis_text{fill:#333;font-size:95%}.main_area .total_value_tick{stroke:#777;stroke-width:1;fill:none}.main_area .total_value_tick_active{stroke:#00f;stroke-width:1;fill:#87cefa}.main_area .idvcchart_axis_text_secondary{fill:gray}.main_area .idvcchart_roofline_text{fill:gray;font-size:90%}.main_area .idvcchart_roofline_text.selected:not(.hidden){fill:#000}.main_area .idvcchart_roofline_text.hidden{fill:transparent}.main_area .idvcchart_roofline_text_active{fill:#00f!important;visibility:visible!important}.main_area .idvcchart_roofline_explanation{font-size:.9em;font-weight:700}.main_area .idvcchart_roofline_explanation:hover{fill:#00f!important;font-weight:700}.main_area .idvcroofline_point{stroke:#000;fill:#d3d3d3}.main_area .idvcroofline_point_current.idvcroofline_point_selected{stroke:#000!important}.main_area .idvcroofline_point_selected{stroke:#00f!important;stroke-width:3px!important}.main_area .roofline_child_line{stroke:#000;fill:transparent}.main_area .roofline_parent_line{stroke:#00f;fill:transparent}.main_area .loops_matching_line{stroke:#000;stroke-dasharray:4,4;fill:transparent}.main_area .stroke-dasharray{fill:#fff;stroke:#000}.main_area .roofline_parent_arrow{fill:#add8e6;stroke:#000}.main_area .loops_matching_arrow{fill:#000;stroke:#000}.main_area .loops_matching_label{font-size:100%}.main_area .roofline_loop{stroke:#000;stroke-width:1;fill:#d3d3d3}.main_area .roof_crossing,.main_area .roofline_loop{vector-effect:non-scaling-stroke;shape-rendering:geometricPrecision}.main_area .roof_crossing{stroke:#000;stroke-width:2}.main_area .roof_crossing_line{stroke:#000;stroke-width:1;stroke-dasharray:2,4;vector-effect:non-scaling-stroke;shape-rendering:geometricPrecision}.main_area .roof_crossing_label{font-size:100%;fill:#000}.main_area .roof_crossing_label_gain,.main_area .roof_crossing_label_value{font-weight:700}.main_area .roofline_loop.no_loop_position{stroke:#a9a9a9!important;fill:#eee!important}.main_area .roofline_loop.no_loop_position.flashed{fill:#add8e6!important}.main_area .roofline_loop.loop_inactive_result{opacity:.4}.main_area .idvcroofline_line{stroke:GrayText;stroke-dasharray:4,4}.main_area .idvcroofline_grid_line{stroke:#ddd}.main_area .idvcroofline_total_line{stroke:#bbb}.main_area .idvcroofline_line.selected{stroke:#000;shape-rendering:auto;stroke-dasharray:none}.main_area .idvcroofline_line_hover{stroke:#00f!important;stroke-width:1.5}.main_area .idvc_hidden.idvcroofline_line_hover{stroke-dasharray:2,6;visibility:visible}.main_area .line_hotarea{stroke:transparent;fill:none;stroke-width:10}.main_area .line_hotarea,.main_area .roofline_roofs_cross{vector-effect:non-scaling-stroke;shape-rendering:crispEdges}.main_area .roofline_roofs_cross{stroke:gray;fill:transparent;stroke-width:1}.main_area .idvcroofline_roofs_cross:hover,.main_area .idvcroofline_roofs_cross_hover{stroke:#00f!important;fill:#00f!important}.main_area .roofline_roofs_cross.selected{stroke:#000}.main_area .roofline_coord_line{stroke:transparent;fill:transparent;stroke-width:1;vector-effect:non-scaling-stroke;shape-rendering:crispEdges}.main_area .roofline_coord_line_hover{stroke:gray;stroke-dasharray:2,4}.main_area .roofline_coord_line.selected{stroke:gray;stroke-dasharray:none!important}.main_area .idvcchart_selection{fill:rgba(51,102,204,.5);stroke:#36c;opacity:1}.main_area .roofline_expander{fill:#fff;stroke:#555}.main_area .roofline_expander_vert_line{fill:transparent;stroke:#000}.main_area .expanded>.roofline_expander_vert_line{fill:transparent;stroke:transparent}.main_area .roofline_expander_horz_line{fill:transparent;stroke:#000}.main_area .idvcsplitter_horz_splitter{background-color:#eee}.main_area .idvcsplitter_horz_splitter:hover{background-color:ThreeDShadow}.main_area .idvcsplitter_sash{background-color:#bbb}.main_area .idvcgrid_body,.main_area .idvcsplitter_horz_primary{outline:none}.roofline_stack_view{margin-top:1.5em!important;margin-bottom:.4em!important;border-top:1px solid #ddd}.roofline_stack_view:before{content:attr(data-caption);position:absolute;top:-1.3em;left:.2em;font-weight:700;white-space:nowrap;cursor:default}.roofline_stack_view .idvcgrid_body{overflow-x:hidden;background-color:#fff;color:#000}.roofline_stack_view .idvcgrid_column{width:100%!important;min-width:100%!important}.roofline_stack_view .idvcgrid_cell{border-color:#ddd;border-style:none none solid;background-color:#fff;padding-left:2em;color:#000;background-position:.1em -.1em;background-repeat:no-repeat;background-origin:border-box}.roofline_stack_view .idvcgrid_cell.hidden_loop:not(.idvcgrid_selected_row){color:gray}.roofline_stack_view .idvcgrid_selected_row{background-color:#d3d3d3;color:#000}.roofline_stack_view .idvcgrid_focused .idvcgrid_current_row{border-style:dashed solid dashed none;border-top-color:#000;border-bottom-color:#000}.zoom_toolbar{position:absolute;left:.2em;top:0;padding-top:.3em;height:2.2em;z-index:5000;cursor:default;white-space:nowrap;right:2rem}.toolbar_expansion{position:absolute;right:.4em;margin-top:.3em;border:1px solid #555;background-color:#fff;padding:.5em;display:none}.toolbar_expansion>div{padding:.2em}.toolbar_expansion .toolbar_item_caption{border:none;margin-left:0;padding-left:0}.toolbar_expansion .toolbar_item_caption.br:before{display:none}@media screen and (max-width:30em){.toolbar_expansion{right:-2rem}}.summary_expansion{position:absolute;right:.2em;bottom:1.5em;border:1px solid #555;background-color:#fff;padding:.5em;display:none;z-index:1}.summary_expansion>div{padding:.2em}.summary_expansion .summary_caption{margin-left:0}.expand_button{cursor:pointer;border-style:none;display:none;background-color:#fff;border:.2em solid #fff;margin-top:-.3em;height:1.2em;background-color:#777;border-radius:50%;-moz-transition:background-color .2s ease-in-out;-webkit-transition:background-color .2s ease-in-out;transition:background-color .2s ease-in-out,transform .3s ease-in-out}.expand_button:hover{background-color:#333}.expand_button.expanded{transform:rotate(180deg)}.summary.expandable>.expand_button,.zoom_toolbar.expandable>.expand_button{display:inline-block}.zoom_button{padding:.2em;opacity:.5;cursor:pointer;border-radius:.3em;border:1px solid transparent;-moz-transition:opacity .2s ease-in-out;-webkit-transition:opacity .2s ease-in-out;transition:opacity .2s ease-in-out}.cling_button{margin-left:-.2em;margin-right:.2em}.zoom_button:not(.select).pressing{position:relative}.zoom_button:not(.select).pressing:before{content:\"\";position:absolute;width:.1em;height:.1em;box-sizing:border-box;left:50%;top:50%;transform:translate(-50%,-50%);border-style:solid;border-width:0;border-radius:50%;animation:visible_click .1s;animation-fill-mode:forwards;animation-timing-function:ease-in-out;background-color:#bbb;opacity:.15;pointer-events:none}.zoom_button:not(.select).pressing.waiting:before{width:1.5em;height:1.5em;box-shadow:0 0 1em .5em #777;animation:visible_pressing .1s;animation-fill-mode:forwards;animation-delay:.3s}.clear_animation:before{content:\"\";position:absolute;width:0;height:0;box-sizing:border-box;left:50%;top:50%;animation:click_clear .1s;opacity:0;pointer-events:none}.zoom_button:not(.select).pressing2pressed{animation:gradient_pressed .2s;background-color:#ddd}.zoom_button.select{position:relative;border-radius:0;display:inline-block}.zoom_button.disabled{opacity:.2;cursor:default}.zoom_button.pressed{opacity:1;background:#ddd;border-color:#bbb}.zoom_button:not(.disabled):hover{opacity:1}.simple_click:not(.disabled):active{background-color:#eee}.zoom_select_items{display:none;position:absolute;top:1.5em;right:-2em;min-width:6em;background:#fff;color:#000;list-style-type:none;padding:0;margin:0;border:1px solid gray;overflow-y:auto;max-height:80vh;z-index:1}.zoom_select_prop{font-size:90%;margin-top:.3em;pointer-events:none;float:right}.zoom_select_prop_input{font-size:90%;margin-left:.3em;margin-top:.3em;max-width:3em;pointer-events:auto}.roofline_popup_shadow{box-shadow:3px 4px 8px #d3d3d3}.zoom_button.select.pressed{background:#fff;border-color:gray;border-style:solid;box-shadow:3px 5px 8px #d3d3d3}.idvcjs_span{display:none;background:#fff;position:absolute;left:0;height:3px;width:100%;z-index:1}.zoom_button.select.pressed>.idvcjs_span,.zoom_button.select.pressed>.zoom_select_items{display:block}.zoom_select_items li{position:relative;padding:.3em .6em;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.zoom_select_items li.splitter,ul.zoom_select_items.splitter{box-shadow:0 15px 0 -14px silver;margin-bottom:1px}.zoom_select_items li:hover{background-color:Highlight!important;color:HighlightText!important}.zoom_select_items.extra_space li{padding:.6em}.zoom_select_items.radio li:before{content:\"\";width:.5em;height:.5em;border-radius:50%;display:inline-block;text-align:left;vertical-align:middle;margin-right:.5em;margin-bottom:.1em;background-color:transparent}.zoom_select_items.radio li.selected:before{background-color:#000}.zoom_select_items.radio li.selected:hover:before{background-color:HighlightText}.zoom_select_items.checkboxes li{padding-left:1.6em!important}.zoom_select_items.checkboxes li:before{content:\"\";position:absolute;left:.3em;top:.4em;width:.8em;height:.8em;border:1px solid ThreeDShadow;background-color:Window;z-index:100}.zoom_select_items.checkboxes li.empty:not(.loading):before{opacity:0!important}.zoom_select_items.checkboxes li.checked:after{content:\"\";position:absolute;left:.6em;top:.4em;width:.35em;height:.55em;background-color:transparent;box-shadow:.1em .1em 1px 0 WindowText;transform:rotate(45deg);z-index:200}.zoom_select_items.checkboxes li.empty:after{opacity:0!important}.zoom_select_items.pictured li{padding-left:2.2em!important;background-position:.2em .05em;background-repeat:no-repeat}.zoom_select_items li.comparing,.zoom_select_items li.loading{animation:loading 1.5s infinite ease-in-out}.zoom_select_items li.loading{opacity:.6}.zoom_select_items li.empty:not(.loading){background-size:0}.zoom_select_items li>.zoom_button{display:none}.zoom_select_items li:hover:not(:first-child)>.zoom_button{display:inline}.zoom_button.clear_compare{position:absolute;top:.2em;right:.2em;padding:0;border-radius:50%;background:#fff;pointer-events:auto}.zoom_button.clear_compare:not(.disabled){opacity:1}.menu_button{position:absolute;right:0;top:0;height:1.4rem;width:1.4rem;z-index:4000;padding:.4rem .4rem .6rem;border-style:solid solid none;border-width:1px;border-color:transparent;background-color:transparent;display:inline-block;cursor:pointer}.menu_button.close{border-color:gray;background-color:#fff}.menu_button:hover>div{opacity:1}.menu_button>div{width:1.4rem;height:.2rem;opacity:.5;background-color:#000;margin:.2rem 0;-moz-transition:.3s;transition:.3s;pointer-events:none}.menu_button.close>div{background-color:green}.menu_button.close>div:first-child{-moz-transform:rotate(45deg) translate(.4rem,-.2rem) scaleX(.6);transform:rotate(45deg) translate(.4rem,-.2rem) scaleX(.6)}.menu_button.close>div:nth-child(3){-moz-transform:rotate(-45deg) translate(.4rem,.2rem) scaleX(.6);transform:rotate(-45deg) translate(.4rem,.2rem) scaleX(.6)}.summary{position:absolute;left:3em;bottom:0;right:.3em;height:1.2em;white-space:nowrap}.summary label .tmp{pointer-events:none}.summary>.icon:after{width:1em;height:1em}.summary>.icon{height:1em!important}.summary_caption{margin-left:1em}.summary_caption:after{content:\":\"}.summary_value{padding-left:.1em;padding-right:.1em;font-weight:700}.summary_measure{margin-left:-.05em}.frame_settings{position:absolute;bottom:1px;left:0;background:#fff;border-radius:0}.frame_settings_area{z-index:10000}.frame_settings~.frame_settings_area{display:none}.frame_settings.expanded~.frame_settings_area{display:block}.frame_settings_corner{position:absolute;bottom:0;left:0;width:11ch;height:3.2em;padding-left:.3em;background:#333;box-sizing:border-box;white-space:nowrap}.frame_settings_cover{position:absolute;top:0;right:0;left:9ch;bottom:3em;background:#fff;opacity:.6}.frame_settings_axis{position:absolute;background:#333}.frame_settings_axis.vert{top:0;left:0;bottom:3.2em;width:9ch;box-shadow:5px 0 10px 0 rgba(0,0,0,.5);border-right:1px solid #000}.frame_settings_axis.horz{left:9ch;bottom:0;right:0;height:3.2em;box-shadow:0 -5px 10px 0 rgba(0,0,0,.5);border-top:1px solid #000}.frame_settings_button{font-size:105%;padding:.2em;margin-top:.3em}.frame_settings_axis>.frame_settings_input{position:absolute;opacity:1;font-size:1.1em}.frame_settings_axis.vert>.frame_settings_input{left:4px;width:-webkit-calc(100% - 12px);width:-moz-calc(100% - 12px);width:calc(100% - 12px)}.frame_settings_axis.horz>.frame_settings_input{top:4px;width:9ch}.frame_settings_axis.vert>.frame_settings_input:first-child{top:10%}.frame_settings_axis.vert>.frame_settings_input:nth-child(2){bottom:8%}.frame_settings_axis.horz>.frame_settings_input:first-child{left:6%}.frame_settings_axis.horz>.frame_settings_input:nth-child(2){right:6%}.settings{position:absolute;right:0;top:2.4rem;bottom:1px;width:56ch;overflow-x:hidden;overflow-y:auto;padding:.5em;border:1px solid gray;background:#fff;-moz-transform:translateX(100%);transform:translateX(100%);-moz-transition:-moz-transform .2s ease-in-out;transition:transform .2s ease-in-out;z-index:3000;box-sizing:border-box;will-change:transform}.settings.visible{-moz-transform:none;transform:none}.no_data_message_container{display:none;text-align:center}.no_data_message{display:inline-block;margin-top:3em;max-width:60%;border:1px solid #000;border-radius:1em;text-align:left;overflow:hidden;box-shadow:0 1em 2em 0 rgba(90,90,90,.3)}.no_data_message_title{font-weight:700;min-height:2em;line-height:2em;border-bottom:1px solid #000;background:Highlight;color:HighlightText;padding:.5rem 1.5rem}.no_data_message_content{min-height:3em;background:Window;color:WindowText;padding:1rem 1.5rem}.data_loading_message{display:none;margin:auto;margin-top:2em;width:60%;border:none;padding:1rem;text-align:center;font-size:1.5em}.no_data>.content{display:block}.no_data>.content>div{display:none}.no_data>.content>.zoom_toolbar,.no_data>.idvcgrid_popup,.no_data>.no_data_message_container{display:block}.no_data>.content>.zoom_toolbar>:not(.no_data_visible){display:none!important}.no_data .hierarchy_item_caption.br:before{display:none}.data_loading>div{display:none!important}.data_loading>.data_loading_message{display:block!important}.data_loading>.data_loading_message>span.stack_item{font-size:1rem;text-align:left;display:inline-block;padding:.2rem .5rem;width:100%}.data_loading>.data_loading_message>span.message_btn{right:18%}.data_loading>.data_loading_message>span.message_btn:hover{opacity:1}.data_loading>.data_loading_message>span.message_btn{position:absolute;top:2em;font-size:1rem;text-align:left;display:block;padding:.3em;background-color:#000!important;opacity:.6;border-radius:50%;cursor:pointer}.data_loading>.data_loading_message>span.close_btn{right:18%}.data_loading>.data_loading_message>span.copy_btn{right:-webkit-calc(18% + 2.1em);right:-moz-calc(18% + 2.1em);right:calc(18% + 2.1em)}.data_loading>.data_loading_message>span.close_btn:after{content:url(\"data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\" fill=\"#fff\"><rect x=\"7\" y=\"2.34\" width=\"2\" height=\"11.31\" transform=\"translate(-3.31 8) rotate(-45)\"/><rect x=\"2.34\" y=\"7\" width=\"11.31\" height=\"2\" transform=\"translate(-3.31 8) rotate(-45)\"/></svg>\")}.data_loading>.data_loading_message>span.copy_btn:after{content:url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 12 12' fill='white'><rect x='1' width='8' height='1'/><rect x='1' y='1' width='1' height='9'/><path d='M3,2v10h5l3-3V2H3z M8,9H5V8h3V9z M9,7H5V6h4V7z M9,5H5V4h4V5z'/></svg>\")}.data_loading>.data_loading_message>span:first-of-type{margin-top:1rem}.data_loading>.data_loading_message>span:nth-of-type(2n){background-color:#eee}.summary_updated .summary_value.flash{-webkit-animation:update_summary 1s 1 ease-in-out!important;-moz-animation:update_summary 1s 1 ease-in-out!important;animation:update_summary 1s 1 ease-in-out!important;border-radius:5px}.icon:after{display:inline-block;width:1.2em;height:1.2em;vertical-align:text-top}.icon.cross:after{content:url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='black'><line x1='4' y1='4' x2='12' y2='12'/><rect x='7' y='2.34' width='2' height='11.31' transform='translate(-3.31 8) rotate(-45)'/><line x1='12' y1='4' x2='4' y2='12'/><rect x='2.34' y='7' width='11.31' height='2' transform='translate(-3.31 8) rotate(-45)'/></svg>\")}.icon.sync:after{content:url(\"data:image/svg+xml;utf8, <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20' fill='black' stroke='none'><polygon points='5.036,3.509 5.036,6.509 14.036,6.509 14.036,10.009 19.036,5.009 14.036,0.009 14.036,3.509 '/><polygon points='16.036,14.509 16.036,11.509 7.036,11.509 7.036,8.009 2.036,13.009 7.036,18.009 7.036,14.509 '/></svg>\")}.icon.compare:after{content:url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='black'><rect x='2' y='7' width='12' height='2'/><rect x='7' y='2' width='2' height='12'/></svg>\");width:1.5em;height:1.5em}.icon.save_compare:after{content:url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20' fill='black'><rect x='2' y='14' width='16' height='4'/><polygon points='8,0 8,7 5,7 10,14 15,7 12,7 12,0'/></svg>\")}.icon.magnifier:after{content:url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20' fill='black'><path d='M14.8,12.8C15.6,11.7,16,10.4,16,9c0-3.9-3.1-7-7-7S2,5.1,2,9s3.1,7,7,7c1.4,0,2.7-0.4,3.8-1.2L17,19l2-2L14.8,12.8z M9,14c-2.8,0-5-2.2-5-5c0-2.8,2.2-5,5-5c2.8,0,5,2.2,5,5C14,11.8,11.8,14,9,14z'/></svg>\")}.icon.cursor:after{content:url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20' fill='black'><path d='M11,11l3.1,6.7c0.3,0.6,0,1.4-0.6,1.7c-0.6,0.3-1.4,0-1.7-0.6l-3-6.6L5,16H4V0h2l10,10v1H11z'/></svg>\")}.icon.menu:after{content:url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20' fill='black'><rect x='3' y='3' width='14' height='3'/><rect x='3' y='13' width='14' height='3'/><rect x='3' y='8' width='14' height='3'/></svg>\")}.icon.export:after{content:url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='black'><path d='M9 4H11L8 1L5 4H6H7L7 12H8H9V4ZM12 8H15H16V9V10V15H15H14H2H1H0V10V9V8H4V9V10H2L2 13H14V10H12V9V8Z'/></svg>\")}.icon.select:after{content:url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 6' fill='black'><polygon points='0,1 3,5 6,1'/></svg>\");width:.6em;height:auto;transition:transform .3s ease-in-out;vertical-align:baseline}.icon.select.pressed:after{transform:rotate(180deg);transform-origin:50% 50%}.icon.hand:after{content:url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20' fill='none' stroke='black' stroke-linejoin='round' stroke-miterlimit='10'><path d='M7.564,19.5c0,0-1.726-2.309-2.451-3.031c-0.858-0.854-2.718-2.349-3.286-4.277C1.377,10.661,2.85,10.266,3.616,10.8c1.087,0.76,2.655,1.971,2.655,1.971C5.667,9,4.875,5.688,4.688,4.167C4.535,2.927,4.9,2.105,5.66,1.864c1.25-0.396,1.727,0.523,1.903,1.23c0.184,0.74,1.101,5.375,1.101,5.375s-0.221-5.135-0.172-6.01C8.538,1.618,9.198,0.5,9.733,0.5c0.535,0,1.502,0.563,1.559,1.375c0.057,0.813,0.542,6.667,0.542,6.667s0.712-4.189,0.917-5.458c0.197-1.229,0.679-1.957,1.578-1.794c0.724,0.131,1.175,1.11,1.089,2.127c-0.079,0.942-0.448,6.114-0.448,6.114s0.534-2.663,0.843-3.72c0.263-0.898,0.657-1.78,1.594-1.686c0.518,0.052,0.758,1.116,0.719,2.148c-0.05,1.312-0.392,3.713-0.524,5.407c-0.114,1.451,0.015,4.934-0.601,6.539c-0.212,0.555-3.719,1.281-3.719,1.281H7.564z'/></svg>\")}.icon.redo:after{content:url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20' fill='black'><path d='M18,9v1l-6,6h-1v-4c0,0-4-0.6-7.7,3.5C3.3,7.6,11,7,11,7V3h1L18,9z'/></svg>\")}.icon.undo:after{content:url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20' fill='black'><path d='M3,9v1l6.3,6H10v-4c0,0,4-0.6,7.7,3.5C17.7,7.6,10,7,10,7V3H9.3L3,9z'/></svg>\")}.icon.expand:after{content:url(\"data:image/svg+xml;utf8, <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20' fill='white' stroke='none'><polygon points='4,3 11,10 4,17 4,14 8,10 4,6'/><polygon points='11,3 18,10 11,17 11,14 15,10 11,6'/></svg>\")}.icon.frame_settings:after{content:url(\"data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\"><defs><style>.cls-1{fill:none;stroke:black;stroke-miterlimit:10;}</style></defs><path d=\"M14,2V14H2V2H14m2-2H0V16H16V0Z\"/><line class=\"cls-1\" x1=\"4\" y1=\"12\" x2=\"12\" y2=\"4\"/><rect x=\"7\" y=\"3\" width=\"6\" height=\"1\"/><rect x=\"3\" y=\"12\" width=\"6\" height=\"1\"/><rect x=\"9.5\" y=\"5.5\" width=\"6\" height=\"1\" transform=\"translate(18.5 -6.5) rotate(90)\"/><rect x=\"0.5\" y=\"9.5\" width=\"6\" height=\"1\" transform=\"translate(13.5 6.5) rotate(90)\"/></svg>\");width:2em;height:2em}.icon.frame_settings.expanded:after{content:\"\"}button.icon:after{width:1em;height:1em}.frame_settings_corner button.icon:after{margin:2px 2px 0}.icon.minus:after{content:url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20' fill='black'><rect x='2' y='10' width='16' height='4'/></svg>\")}.icon.plus:after{content:url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20' fill='black'><rect x='2' y='10' width='16' height='4'/><rect x='8' y='4' width='4' height='16'/></svg>\")}.icon.ok:after{content:url(\"data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\"><polygon fill=\"#000\" points=\"6 14.41 1.29 9.71 2.71 8.29 6 11.59 13.29 4.29 14.71 5.71 6 14.41\"/></svg>\")}.toolbar_item_caption{padding-left:.5em;white-space:nowrap;display:inline-block}.toolbar_item_caption.br:before{content:\"\";display:inline-block;height:1.2em;width:.3em;vertical-align:text-bottom;border-left:1px solid gray}div.toolbar_item_caption{display:inline-block}.no_roofs .roofs_bar{display:none}.no_hierarchy .hierarchy_item_caption{display:none!important}.plain_data .hr_settings_item{visibility:hidden}.plain_data .hr_zoom_button,.plain_data .idvcsplitter_horz_secondary,.plain_data .idvcsplitter_horz_splitter{display:none}.toolbar_item_input{vertical-align:middle;margin-top:-1px;margin-right:.5em}.toolbar_select{margin-right:.5em;max-width:12em}.roofline_group_caption_colors{background-color:#dcdcdc;color:#000}.roofline_toolbar_control{position:relative;display:inline-block;border:1px solid gray;padding-left:.5em;padding-right:.2em;background-color:#f5f5f5;color:#000}.roofline_toolbar_control.simple_click:hover{background-color:#fff!important;color:#000!important}.roofline_toolbar_control.simple_click{background-color:#f5f5f5!important;color:#000!important}.roofline_toolbar_control.simple_click.pressed{background-color:#fff!important;color:#000!important}.roofline_toolbar_control>.roofline_toolbar_control_content{margin-left:.2em;vertical-align:text-bottom}.roofline_toolbar_control>.roofline_toolbar_control_content.pictured{margin-left:1.2em}.roofline_toolbar_control>.roofline_toolbar_control_content.pictured:before{position:absolute;left:.3em;top:.3em;width:1em;height:1em;opacity:.5}.roofline_cores_caption{font-size:90%}.roofline_cores_caption+span{font-weight:700}.roofline_toolbar_control>.roofline_toolbar_control_content#roofline_compare_content:before{content:url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 16 16' fill='black'><path d='M11,9c0,1.1,1.1,2,2.5,2S16,10.1,16,9l-2-5V3h1V2h-1h-1H9H7H3H2H1v1h1v1L0,9c0,1.1,1.1,2,2.5,2S5,10.1,5,9L3,4V3h4v11c-3,0-4,1.1-4,2h10c0-1-1-2-4-2V3h4v1L11,9z M4,9H1l1-2h1L4,9z M15,9h-3l1-2h1L15,9z'/><path d='M8,0C7.4,0,7,0.4,7,1h2C9,0.4,8.6,0,8,0z'/></svg>\")}.roofline_toolbar_control>.roofline_toolbar_control_content#roofline_type_content:before{content:url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 16 16' fill='black'><polygon class='st1' points='0,2 0,3 7,10 7,15 9,16 9,10 16,3 16,2 '/></svg>\");top:.3em}.roofline_toolbar_control_items{display:none;position:absolute;box-sizing:border-box;top:1.5em;left:-1px;min-width:6em;background:#fff;color:#000;padding:.3em;margin:0;border:1px solid gray;z-index:1}.roofline_toolbar_control_items .roofline_type_select_items{max-height:-webkit-calc(100vh - 4.5em);max-height:-moz-calc(100vh - 4.5em);max-height:calc(100vh - 4.5em);overflow-x:hidden;overflow-y:auto}.roofline_toolbar_control_items .zoom_select_items{display:block;position:relative;top:auto;right:auto;border:none;min-height:2em;max-height:40vh;overflow-x:hidden}.roofline_toolbar_control_items .zoom_select_items:empty:after{content:attr(data-noitems);position:absolute;top:.4em;width:100%;text-align:center;color:#aaa}.roofline_toolbar_control_items .zoom_select_items.scrolled{max-height:40vh;overflow-y:scroll}#roofline_cores_control .roofline_toolbar_control_items{padding:0}.roofline_toolbar_control_btns{text-align:right;margin-top:.2em}.roofline_toolbar_control_btns>button{font-size:90%}.roofline_toolbar_control_caption{position:relative;padding:.3em;font-size:90%;box-sizing:border-box;margin-top:.3em;margin-bottom:.2em;pointer-events:none}.roofline_toolbar_control.pressed{box-shadow:3px 5px 8px #d3d3d3;border-color:gray!important;background-color:#fff!important;border-radius:0!important}.roofline_toolbar_control.pressed>.icon.select:after{transform:rotate(180deg);transform-origin:50% 50%}.roofline_toolbar_control.pressed>.idvcjs_span,.roofline_toolbar_control.pressed>.roofline_toolbar_control_items{display:block}.roofline_type_group{position:relative;margin-bottom:.7em}.roofline_type_group.with_caption{margin-top:1.6em;margin-bottom:0;padding-top:.5em;padding-bottom:.6em}.roofline_type_group.with_caption:before{content:attr(data-caption);position:absolute;top:-1.6em;width:100%;background-color:#dcdcdc;color:#000;padding:.2em;font-size:90%;box-sizing:border-box}.roofline_toolbar_image{position:relative;text-align:center;margin:.5em auto;border:1px solid gray;width:170px;height:110px}.roofline_toolbar_image>.roofline_toolbar_image_top{position:absolute;top:0;left:0;right:0;bottom:0;display:none}.roofline_toolbar_image>.roofline_toolbar_image_base{position:relative;width:170px;height:110px}.roofline_toolbar_control>.roofline_toolbar_control_content#roofline_guidance_content:before{content:url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 12 12' fill='black'><polygon points='0.5,10.5 1.5,11.5 8,5 8,7 9,7 9.5,4.5 12,4 12,3 9.5,2.5 9,0 8,0 7.5,2.5 5,3 5,4 7,4 '/><polygon points='1.5,3.5 2.5,4.5 3.5,3.5 2.5,2.5 '/><polygon points='4.5,1.5 5.5,2.5 6.5,1.5 5.5,0.5 '/><polygon points='9.5,9.5 10.5,10.5 11.5,9.5 10.5,8.5 '/></svg>\")}.roofline_type_select_caption:not(:first-child){margin-left:.7em}.roofline_type_select_caption:last-child{margin-right:.7em}.roofline_toolbar_select_caption{margin-right:.8em}.settings table{border-collapse:collapse;width:100%}.settings .roofs_table tr:nth-child(2n){background-color:#eee}.no_roofs .roofs_table{display:none}.settings .settings_buttons_container{display:flex;justify-content:flex-end;margin:.5em .1em}.settings .loadsave_settings_button{margin-top:.5em}.settings .loadsave_settings_button,.settings .roofs_table button{width:auto;margin-left:.3em;font-size:85%;font-weight:400}.no_roofs .first_settings_title{display:none!important}.no_roofs .settings_title{margin-top:0!important}.settings th{color:graytext}.settings td,.settings th{padding:2px 5px;cursor:default;white-space:nowrap}.settings td.roof_settings_input{text-align:center;cursor:pointer}.settings td.roof_settings_input>input{cursor:pointer}.settings tr:first-child{border-top:8px solid #fff}.settings .roof_memory+.roof_calculation{border-top:10px solid #fff}.settings .settings_title{position:relative;margin:1em 0 .3em;white-space:nowrap;text-align:left;padding:.3em;padding-left:.6em}.settings .settings_title.subtitle{position:relative;margin:.7em 0 .5em;padding-bottom:.2em;padding-left:1em;border-bottom:1px solid #d3d3d3}.settings .settings_title:first-child{margin-top:0}.settings .cancel_loops_settings_button{margin-left:1em}.settings .settings_item_separator{font-weight:700;font-size:140%;vertical-align:middle}.settings .settings_item_caption{margin:.3em 1em .3em 0;white-space:nowrap;vertical-align:middle}.settings .single_settings_item{white-space:nowrap}.settings .single_settings_item.loop_weight_formula{background-color:#ffffe0;margin:.1em;padding:.2em .4em}.settings .single_settings_item.loop_weight_base_value{margin:.4em .1em;padding:.2em .4em;display:block}.settings .settings_item{margin-right:.4em;vertical-align:middle}.settings .settings_item.combo{position:relative;max-width:8em;width:8em;margin-top:.2em}.settings .color_mode_combo{font-size:100%}.settings .loop_row>td{padding:5px}.roofs_strategy_setting{margin-bottom:.5em}.roofline_view_mode_setting{margin-top:.5em}.radio_settings_item{display:block;margin-top:.2em;margin-bottom:.1em}.loop_sample{border-radius:50%;border:1px solid #000;margin:.1em .5em;display:inline-block}.loop_fixed_sample{width:.8em;height:.8em;vertical-align:text-bottom}.loop_fixed_sample.small{width:.7em;height:.7em;margin:.1em}.settings input{font-size:1em}.settings .size_input{max-width:3em}.settings .color_input{max-width:4em}.settings .visibility_input,.settings .visibility_setting_caption{visibility:hidden}.settings .no_self_time_item{margin:.5em}.settings .value_input{max-width:5em}.settings .threshold_row>td{background-color:#eee;padding-bottom:4px}.settings .threshold_label{font-size:90%;margin:0 .5em 0 .3em}.settings .threshold_value_label{font-size:100%;font-weight:700;margin:0}.settings .measure_label{font-size:85%;margin-left:.3em}.settings .threshold_input{max-width:4em}.settings button{font-size:1em;font-weight:700}.settings_title button{display:inline-block;width:auto;font-weight:400;font-size:85%}.settings td.loop_sample_cell{vertical-align:bottom;text-align:center}.settings .wrong_input{outline:2px solid red}.explanation_symbol{position:absolute;width:1.2em;height:1.2em;text-align:center;background-color:red;color:#fff;border-radius:50%;border:1px solid currentColor;font-weight:700;z-index:4990;cursor:default}.settings .explanation_symbol,.summary .explanation_symbol,.zoom_toolbar .explanation_symbol{background-color:gray;width:1em;height:1em;font-size:80%;position:relative;display:inline-block;vertical-align:top;line-height:1em;margin-left:.2em;margin-top:-.2em;z-index:0}#roofline_cores_control .explanation_symbol{margin-top:0!important}.simple_view .legend_area,.simple_view .menu_button,.simple_view .settings,.simple_view .summary,.simple_view .zoom_toolbar>span{display:none!important}.simple_view .toolbar_item_caption.br:before{border-left:none!important}.roofline_popup{display:none;position:absolute;background:#fff;color:#000;list-style-type:none;border:1px solid #a9a9a9;padding:0;margin:0;box-shadow:0 5px 20px 0 rgba(0,0,0,.75);z-index:5000;font-size:90%;max-height:12.5em;overflow-x:hidden;overflow-y:auto}.roofline_popup li{padding:.1em .3em .1em 0;white-space:nowrap;cursor:pointer}.roofline_popup li:hover{background-color:#add8e6}.roofline_popup li.selected{background-color:#87cefa!important}.roofline_toast{position:relative;display:inline-block;padding:.4em 1.2em;color:#fff;background:#0071c5;border:1px solid #555;border-radius:.5em;height:auto;cursor:default;box-shadow:0 5px 10px 0 rgba(0,0,0,.5);opacity:0;-moz-transition:opacity .25s ease-in-out;-webkit-transition:opacity .25s ease-in-out;transition:opacity .25s ease-in-out}.roofline_toast.toast-show{opacity:1}.roofline_toast_holder{background-color:transparent!important;font-size:1em!important;padding-top:3em!important}.roofline_flash:after{content:\"\";left:0;right:0;top:0;bottom:0;position:absolute;animation:flash 2s infinite ease-in-out;background:#00f;box-shadow:0 0 7px 5px #00f;opacity:0;pointer-events:none}.idvcsplitter_horz_splitter{width:.4em!important}.idvc_context_menu{position:absolute;font:caption;background:menu;color:menutext;border:1px solid #d3d3d3}.idvc_context_menu_item{padding:.3em 2em .3em 1.4em;cursor:default}.idvc_context_menu_item.disabled{color:gray}.idvc_context_menu_separator{margin-top:.2em;padding:0;padding-bottom:.2em;height:0;border-style:solid none none;border-width:1px;border-color:#d3d3d3}.idvc_context_menu_item:hover{background:highlight;color:highlighttext}.idvc_context_menu_item.disabled:hover{background:#d3d3d3;color:gray}.report .loadsave_settings_button,.report .no_report,body:not(.report) .report_only{display:none}label .disabled{color:#ccc}.main_area .stairs_delta_line{stroke-width:2}.main_area .stairs_connection_line,.main_area .stairs_delta_line{vector-effect:non-scaling-stroke;shape-rendering:geometricPrecision}.main_area .stairs_connection_line{stroke:#000;stroke-width:1;stroke-dasharray:2,2}.main_area .stairs_delta_ends{stroke-width:3;vector-effect:non-scaling-stroke;shape-rendering:geometricPrecision}.invisible{display:none}@-moz-keyframes gradient_pressed{0%{background:radial-gradient(circle at center,#ddd 0,#fff 0,#fff 100%)}25%{background:radial-gradient(circle at center,#ddd 20%,#fff 25%,#fff 100%)}50%{background:radial-gradient(circle at center,#ddd 40%,#fff 45%,#fff 100%)}75%{background:radial-gradient(circle at center,#ddd 70%,#fff 75%,#fff 100%)}to{background:radial-gradient(circle at center,#ddd 99%,#fff 100%,#fff 0)}}@-webkit-keyframes gradient_pressed{0%{background:radial-gradient(circle at center,#ddd 0,#fff 0,#fff 100%)}25%{background:radial-gradient(circle at center,#ddd 20%,#fff 25%,#fff 100%)}50%{background:radial-gradient(circle at center,#ddd 40%,#fff 45%,#fff 100%)}75%{background:radial-gradient(circle at center,#ddd 70%,#fff 75%,#fff 100%)}to{background:radial-gradient(circle at center,#ddd 99%,#fff 100%,#fff 0)}}@-o-keyframes gradient_pressed{0%{background:radial-gradient(circle at center,#ddd 0,#fff 0,#fff 100%)}25%{background:radial-gradient(circle at center,#ddd 20%,#fff 25%,#fff 100%)}50%{background:radial-gradient(circle at center,#ddd 40%,#fff 45%,#fff 100%)}75%{background:radial-gradient(circle at center,#ddd 70%,#fff 75%,#fff 100%)}to{background:radial-gradient(circle at center,#ddd 99%,#fff 100%,#fff 0)}}@keyframes gradient_pressed{0%{background:radial-gradient(circle at center,#ddd 0,#fff 0,#fff 100%)}25%{background:radial-gradient(circle at center,#ddd 20%,#fff 25%,#fff 100%)}50%{background:radial-gradient(circle at center,#ddd 40%,#fff 45%,#fff 100%)}75%{background:radial-gradient(circle at center,#ddd 70%,#fff 75%,#fff 100%)}to{background:radial-gradient(circle at center,#ddd 99%,#fff 100%,#fff 0)}}@-moz-keyframes gradient_click{0%{background:radial-gradient(circle at center,#ddd 0,#fff 0,#fff 100%)}25%{background:radial-gradient(circle at center,#ddd 10%,#fff 15%,#fff 100%)}50%{background:radial-gradient(circle at center,#ddd 30%,#fff 35%,#fff 100%)}75%{background:radial-gradient(circle at center,#ddd 50%,#fff 55%,#fff 100%)}to{background:radial-gradient(circle at center,#ddd 60%,#fff 68%,#fff 100%)}}@-webkit-keyframes gradient_click{0%{background:radial-gradient(circle at center,#ddd 0,#fff 0,#fff 100%)}25%{background:radial-gradient(circle at center,#ddd 10%,#fff 15%,#fff 100%)}50%{background:radial-gradient(circle at center,#ddd 30%,#fff 35%,#fff 100%)}75%{background:radial-gradient(circle at center,#ddd 50%,#fff 55%,#fff 100%)}to{background:radial-gradient(circle at center,#ddd 60%,#fff 68%,#fff 100%)}}@-o-keyframes gradient_click{0%{background:radial-gradient(circle at center,#ddd 0,#fff 0,#fff 100%)}25%{background:radial-gradient(circle at center,#ddd 10%,#fff 15%,#fff 100%)}50%{background:radial-gradient(circle at center,#ddd 30%,#fff 35%,#fff 100%)}75%{background:radial-gradient(circle at center,#ddd 50%,#fff 55%,#fff 100%)}to{background:radial-gradient(circle at center,#ddd 60%,#fff 68%,#fff 100%)}}@keyframes gradient_click{0%{background:radial-gradient(circle at center,#ddd 0,#fff 0,#fff 100%)}25%{background:radial-gradient(circle at center,#ddd 10%,#fff 15%,#fff 100%)}50%{background:radial-gradient(circle at center,#ddd 30%,#fff 35%,#fff 100%)}75%{background:radial-gradient(circle at center,#ddd 50%,#fff 55%,#fff 100%)}to{background:radial-gradient(circle at center,#ddd 60%,#fff 68%,#fff 100%)}}@-moz-keyframes visible_click{0%{box-shadow:0 0 0 .5em #999;width:.1em;height:.1em}to{box-shadow:0 0 1em .5em #777;width:1.5em;height:1.5em}}@-webkit-keyframes visible_click{0%{box-shadow:0 0 0 .5em #999;width:.1em;height:.1em}to{box-shadow:0 0 1em .5em #777;width:1.5em;height:1.5em}}@-o-keyframes visible_click{0%{box-shadow:0 0 0 .5em #999;width:.1em;height:.1em}to{box-shadow:0 0 1em .5em #777;width:1.5em;height:1.5em}}@keyframes visible_click{0%{box-shadow:0 0 0 .5em #999;width:.1em;height:.1em}to{box-shadow:0 0 1em .5em #777;width:1.5em;height:1.5em}}@-moz-keyframes visible_pressing{0%{box-shadow:0 0 1em .5em #777;border-radius:50%;background-color:#bbb}to{box-shadow:0 0 0 0 #bbb;border-radius:0;background-color:#777}}@-webkit-keyframes visible_pressing{0%{box-shadow:0 0 1em .5em #777;border-radius:50%;background-color:#bbb}to{box-shadow:0 0 0 0 #bbb;border-radius:0;background-color:#777}}@-o-keyframes visible_pressing{0%{box-shadow:0 0 1em .5em #777;border-radius:50%;background-color:#bbb}to{box-shadow:0 0 0 0 #bbb;border-radius:0;background-color:#777}}@keyframes visible_pressing{0%{box-shadow:0 0 1em .5em #777;border-radius:50%;background-color:#bbb}to{box-shadow:0 0 0 0 #bbb;border-radius:0;background-color:#777}}@-moz-keyframes click_clear{0%{box-shadow:0 0 0 1px #fff}to{box-shadow:0 0 0 1.2em #fff}}@-webkit-keyframes click_clear{0%{box-shadow:0 0 0 1px #fff}to{box-shadow:0 0 0 1.2em #fff}}@-o-keyframes click_clear{0%{box-shadow:0 0 0 1px #fff}to{box-shadow:0 0 0 1.2em #fff}}@keyframes click_clear{0%{box-shadow:0 0 0 1px #fff}to{box-shadow:0 0 0 1.2em #fff}}@-moz-keyframes update_summary{0%{background-color:transparent;color:#000;box-shadow:0 0 6px transparent}50%{background-color:#00f;color:#fff;box-shadow:0 0 6px 3px #00f}to{background-color:transparent;color:#000;box-shadow:0 0 6px 3px transparent}}@-webkit-keyframes update_summary{0%{background-color:transparent;color:#000;box-shadow:0 0 6px transparent}50%{background-color:#00f;color:#fff;box-shadow:0 0 6px 3px #00f}to{background-color:transparent;color:#000;box-shadow:0 0 6px 3px transparent}}@-o-keyframes update_summary{0%{background-color:transparent;color:#000;box-shadow:0 0 6px transparent}50%{background-color:#00f;color:#fff;box-shadow:0 0 6px 3px #00f}to{background-color:transparent;color:#000;box-shadow:0 0 6px 3px transparent}}@keyframes update_summary{0%{background-color:transparent;color:#000;box-shadow:0 0 6px transparent}50%{background-color:#00f;color:#fff;box-shadow:0 0 6px 3px #00f}to{background-color:transparent;color:#000;box-shadow:0 0 6px 3px transparent}}@-moz-keyframes flash{0%{opacity:0}50%{opacity:1}to{opacity:0}}@-webkit-keyframes flash{0%{opacity:0}50%{opacity:1}to{opacity:0}}@-o-keyframes flash{0%{opacity:0}50%{opacity:1}to{opacity:0}}@keyframes flash{0%{opacity:0}50%{opacity:1}to{opacity:0}}@-moz-keyframes loading{0%{background-size:100% 100%}50%{background-size:10% 10%}to{background-size:100% 100%}}@-webkit-keyframes loading{0%{background-size:100% 100%}50%{background-size:10% 10%}to{background-size:100% 100%}}@-o-keyframes loading{0%{background-size:100% 100%}50%{background-size:10% 10%}to{background-size:100% 100%}}@keyframes loading{0%{background-size:100% 100%}50%{background-size:10% 10%}to{background-size:100% 100%}}",""])},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var o=e.protocol+"//"+e.host,n=o+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var i=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(i))return t;var r;return r=0===i.indexOf("//")?i:0===i.indexOf("/")?o+i:n+i.replace(/^\.\//,""),"url("+JSON.stringify(r)+")"})}},function(t,e,o){var n=o(8);"string"==typeof n&&(n=[[t.i,n,""]]);var i={hmr:!0};i.transform=void 0;o(1)(n,i);n.locals&&(t.exports=n.locals)},function(t,e,o){e=t.exports=o(0)(!1),e.push([t.i,'.idvcgrid_body{border-spacing:0;left:0;right:0;overflow-y:hidden;overflow-x:auto;background-color:Window;color:WindowText;-moz-user-select:none;user-select:none;outline:none}.idvcgrid_body,.idvcgrid_column{position:absolute;top:0;bottom:0}.idvcgrid_column{width:400px;min-width:20px;cursor:default}.idvcgrid_header_section{position:relative;background-color:ThreeDFace;color:ButtonText;padding:.3em;border-width:0 1px 1px 0;border-style:solid;line-height:1em;height:1em;border-color:ThreeDShadow;overflow:hidden;text-overflow:ellipsis;box-sizing:content-box;display:flex;justify-content:center;align-items:center}.idvcgrid_hidden_header .idvcgrid_header_section{display:none}.idvcgrid_header_section:hover{background-color:ThreeDHighlight}.idvcgrid_header_section.idvc_grid_notsortable:hover{background-color:ThreeDFace}.idvcgrid_ownerdraw .idvcgrid_header_section{text-overflow:clip!important}.idvcgrid_header_section_active{padding:.36em .24em .24em .36em;background:-webkit-linear-gradient(top,ThreeDFace,ThreeDHighlight)!important;background:-moz-linear-gradient(to bottom,ThreeDFace 0,ThreeDHighlight 100%)!important;background:linear-gradient(180deg,ThreeDFace 0,ThreeDHighlight)!important}.idvcgrid_header_section_hover{background-color:ThreeDHighlight}.idvcgrid_header_section_moving{position:absolute;background-color:ThreeDShadow!important;border-color:currentColor;box-sizing:border-box;opacity:.6}.idvcgrid_header_section_moving_container{position:absolute;background-color:transparent;z-index:5000;overflow:hidden}.idvcgrid_header_section_text{text-align:center;pointer-events:none;overflow:hidden;text-overflow:ellipsis;padding:.1em 0;max-height:100%}.idvcgrid_header_expand_collapse{padding-right:1.11em}.idvcgrid_header_section_active.idvcgrid_header_expand_collapse{padding-right:1.05em}.idvcgrid_expand_collapse_column{position:absolute;top:.3em;right:.3em;width:.8em;height:.8em;line-height:.8em;border-style:none;border-radius:.3em;color:GrayText;box-sizing:content-box}.idvcgrid_expand_collapse_column:active{background-color:ThreeDLightShadow}.idvcgrid_header_section_active .idvcgrid_expand_collapse_column{top:.36em;right:.22em}.idvcgrid_expand_collapse_column:hover{color:WindowText}.idvcgrid_collapsed_column:after,.idvcgrid_expanded_column:after{position:absolute;top:-.1em;right:.125em}.idvcgrid_expanded_column:after{content:"\\AB"}.idvcgrid_collapsed_column:after{content:"\\BB"}.idvcgrid_column_scrolled{overflow:hidden;position:absolute;top:-webkit-calc(1.6em + 1px);top:-moz-calc(1.6em + 1px);top:calc(1.6em + 1px);left:0;right:0;bottom:0}.idvcgrid_inactive_column{bottom:auto;height:-webkit-calc(1.6em + 1px);height:-moz-calc(1.6em + 1px);height:calc(1.6em + 1px)}.idvcgrid_inactive_column .idvcgrid_column_scrolled{display:none}.idvcgrid_hidden_header .idvcgrid_column_scrolled{top:0!important}.idvcgrid_visible_footer .idvcgrid_column_scrolled{bottom:-webkit-calc(1em + 7px)!important;bottom:-moz-calc(1em + 7px)!important;bottom:calc(1em + 7px)!important}.idvcgrid_header_container{flex-direction:column;justify-content:space-around;max-width:100%}.idvcgrid_header_caption{overflow:hidden}.idvcgrid_header_caption,.idvcgrid_header_legend{position:relative;display:flex;flex-direction:row;justify-content:center;align-items:center}.idvcgrid_header_legend{padding-top:2px}.idvcgrid_legend_color{background-color:currentColor;width:1em;height:1em;margin-left:.3em;margin-right:.3em;border:1px solid #333;border-radius:3px}.idvcgrid_legend_text{pointer-events:none;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.idvcgrid_column_sorting{color:ThreeDDarkShadow;padding:0 0 0 .24em}.idvcgrid_column_sorting:after{content:"\\25BC"}.idvcgrid_column_sorting.idvcgrid_sorting_backward:after{content:"\\25B2"}.idvcgrid_column_sorting.idvcgrid_sorting_waiting:after{content:"\\25C6";-webkit-animation:idvcgrid_wait 1.5s infinite ease-in-out!important;-moz-animation:idvcgrid_wait 1.5s infinite ease-in-out!important;animation:idvcgrid_wait 1.5s infinite ease-in-out!important;font-size:1.2em}.idvcgrid_footer_section{position:absolute;padding:3px 4px;margin:0;border:1px;border-style:solid solid solid none;border-color:ThreeDShadow;background-color:ThreeDFace;color:WindowText;line-height:1em;height:1em;vertical-align:middle;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;box-sizing:content-box;display:none;left:0;right:0;bottom:0}.idvcgrid_visible_footer .idvcgrid_footer_section{display:block!important}.idvcgrid_cell{position:relative;padding:3px 4px 2px;margin:0;border:1px;border-style:solid solid solid none;border-color:ThreeDLightShadow ThreeDLightShadow transparent transparent;background-color:Window;color:WindowText;line-height:1em;height:1em;vertical-align:middle;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;box-sizing:content-box}.idvcgrid_cell:first-child{border-top-color:transparent}.idvcgrid_cell:last-child{border-bottom-color:ThreeDLightShadow}.idvcgrid_cell_content_container{display:flex;align-items:center;flex-wrap:nowrap;pointer-events:none}.idvcgrid_ownerdraw .idvcgrid_cell{text-overflow:clip!important}.idvcgrid_selected_row{background-color:ThreeDLightShadow;color:ButtonText}.idvcgrid_focused .idvcgrid_selected_row{background-color:Highlight;color:HighlightText}.idvcgrid_focused .idvcgrid_current_row{border-style:dashed solid dashed none;border-top-color:WindowText;border-bottom-color:WindowText}.idvcgrid_focused .idvcgrid_current_row+.idvcgrid_cell{border-top-color:transparent!important}.idvcgrid_vertical_scroll{width:1pc;position:absolute;right:0;top:0;bottom:0;overflow-x:hidden;overflow-y:auto;visibility:hidden;pointer-events:auto!important}.idvcgrid_scroll_size{width:1px;height:1px}.idvcgrid_expand_collapse{margin:0 .4em 0 0;padding:0;left:1em;width:0;height:0;display:inline-block;vertical-align:-10%;border-style:solid;border-width:.4em 0 .4em .6em;border-color:transparent transparent transparent currentColor;-webkit-transition:-webkit-transform .2s ease-in-out;-moz-transition:-moz-transform .2s ease-in-out;transition:transform .2s ease-in-out;opacity:.6}.idvcgrid_expand_collapse:hover{opacity:1}.idvcgrid_expanded{-webkit-transform:rotate(90deg);-moz-transform:rotate(90deg);transform:rotate(90deg)}.idvcgrid_empty{margin-right:.44em;border-width:.3em!important;border-color:transparent!important}.idvcgrid_waiting{margin-right:.34em;border-width:.34em!important;border-color:currentColor!important;border-radius:.34em;vertical-align:3%;-webkit-animation:idvcgrid_wait 1.5s infinite ease-in-out!important;-moz-animation:idvcgrid_wait 1.5s infinite ease-in-out!important;animation:idvcgrid_wait 1.5s infinite ease-in-out!important}.idvcgrid_more{margin:0 .4em 0 0;padding:0;left:1em;border:.34em solid transparent;display:inline-block;vertical-align:middle;-webkit-transition:all .2s ease-in-out;-moz-transition:all .2s ease-in-out;transition:all .2s ease-in-out}.idvcgrid_more_text{opacity:.6}.idvcgrid_more_text:hover{opacity:1;-webkit-animation:idvcgrid_pulse 1.5s infinite ease-in-out;-moz-animation:idvcgrid_pulse 1.5s infinite ease-in-out;animation:idvcgrid_pulse 1.5s infinite ease-in-out}.idvcgrid_search_str{background-color:#90ee90}.idvcgrid_current_search_str{background-color:#ffa07a}.idvcgrid_line_num{color:GrayText;font-size:-webkit-calc(100% - 2px);font-size:-moz-calc(100% - 2px);font-size:calc(100% - 2px);margin:0 6px 0 2px}.idvcgrid_line_num,.idvcgrid_source_line{white-space:pre;display:inline-block;font-family:Consolas!important}.idvcgrid_leftgrid_holder{margin:0;position:absolute;top:0;bottom:0;left:0;width:20em;border-bottom:1px solid ThreeDShadow}.idvcgrid_splitter_holder{margin:0;position:absolute;top:0;bottom:0;left:0;right:0;z-index:1}.idvcgrid_splitter{margin:0;border-width:1px;border-style:none solid;border-color:ThreeDShadow;position:absolute;top:0;bottom:0;width:2px;left:40%;cursor:ew-resize;box-sizing:content-box}.idvcgrid_splitter:hover{border-color:ThreeDDarkShadow;background-color:ThreeDShadow}.idvcgrid_splitter_hover{border-color:ThreeDDarkShadow;background-color:ThreeDShadow!important}.idvcgrid_central_column{margin:0;position:absolute;left:0;top:0;bottom:0;width:40%}.idvcgrid_central_column .idvcgrid_header_section{border-width:0 0 1px}.idvcgrid_central_column .idvcgrid_cell{border-right-style:none}.idvcgrid_central_column .idvcgrid_footer_section{border-style:solid none}.idvcgrid_right_grid{margin:0;position:absolute;left:-webkit-calc(40% + 4px);left:-moz-calc(40% + 4px);left:calc(40% + 4px);right:0;top:0;bottom:0}.idvcgrid_global_cursor{width:100%;height:100%;background-color:transparent;cursor:ew-resize}.idvcgrid_arrow_up,.idvcgrid_global_cursor{position:absolute;left:0;top:0;z-index:5000}.idvcgrid_arrow_up{width:0;height:0;border-left:.8em solid transparent;border-right:.8em solid transparent;border-bottom:.8em solid red;box-sizing:content-box}.idvcgrid_hierarchical_line{position:absolute;left:0;top:0;width:3px;height:0;z-index:5000;border-left:1px solid ThreeDShadow;border-bottom:1px solid ThreeDDarkShadow;border-top:1px solid ThreeDShadow;box-sizing:content-box}.idvcgrid_popup{position:absolute;left:0;top:0;z-index:5000;box-shadow:0 0 0 1px currentColor,3px 3px 5px 0 #555;pointer-events:none;white-space:normal;word-wrap:break-word}.idvcgrid_tooltip{background-color:InfoBackground;color:InfoText;font:caption;border-width:1px;padding:2px 4px;margin-top:2em;box-sizing:content-box;-moz-appearance:none!important}.idvcgrid_tooltip_ellipsis{margin-top:0!important;overflow:hidden}.idvcgrid_tooltip_ellipsis:after{content:"...";position:absolute;right:4px;bottom:2px;height:1em;line-height:1em;background-color:inherit;font-weight:700}.idvcgrid_cell_item{background:currentColor;border:1px solid #333;border-radius:3px;min-height:1em;box-sizing:content-box;pointer-events:none}.idvcgrid_cell_text{width:6ch;text-align:right;flex-shrink:0;pointer-events:none}.idvcgrid_cell_items_container{margin-left:8px;min-width:5em;display:flex;align-items:center;flex-grow:1;pointer-events:none}.idvcgrid_disabler{position:absolute;left:0;top:0;width:100%;height:100%;color:ThreeDFace;background-color:rgba(0,0,0,.7);z-index:5000;text-align:center;padding-top:1em;font-size:xx-large;text-shadow:0 0 .5em #fff}.idvc_disable_hover,.idvc_disable_hover *{pointer-events:none}.idvc_disable,.idvc_disable *{pointer-events:none;color:GrayText!important}.idvc_disable .idvcgrid_selected_row{background-color:Window!important}.idvc_disable .idvcgrid_current_row{border-color:transparent!important}.idvc_disable .idvcgrid_current_row+.idvcgrid_cell{border-top-color:ThreeDLightShadow!important}.idvcsplitter_horz_primary{margin:0;position:absolute;left:0;top:0;bottom:0}.idvcsplitter_horz_splitter{position:absolute;top:0;bottom:0;width:.3em;cursor:ew-resize;box-sizing:border-box}.idvcsplitter_horz_secondary{margin:0;position:absolute;right:0;top:0;bottom:0}.idvcsplitter_vert_primary{margin:0;position:absolute;left:0;top:0;right:0}.idvcsplitter_vert_splitter{position:absolute;left:0;height:.3em;right:0;cursor:ns-resize;box-sizing:border-box}.idvcsplitter_vert_secondary{margin:0;position:absolute;right:0;left:0;bottom:0}.idvcsplitter_folded,.idvcsplitter_sash{cursor:pointer}.idvcsplitter_vert_splitter>.idvcsplitter_sash{position:relative;width:2em;margin:auto;height:100%}.idvcsplitter_vert_splitter>.idvcsplitter_sash:after{content:"";position:absolute;display:block;left:0;right:0;top:1px;bottom:1px;background:repeating-linear-gradient(90deg,GrayText,GrayText 2px,transparent 0,transparent 4px);border:0;margin:0}.idvcsplitter_horz_splitter>.idvcsplitter_sash{position:absolute;width:100%;height:2em;top:50%;margin-top:-1em}.idvcsplitter_horz_splitter>.idvcsplitter_sash:after{content:"";position:absolute;display:block;top:0;bottom:0;left:1px;right:1px;background:repeating-linear-gradient(180deg,GrayText,GrayText 2px,transparent 0,transparent 4px);border:0;margin:0}.idvc_hierarchy_caption{position:relative;cursor:pointer;margin-left:1.1em}.idvc_hierarchy_caption:before{content:"";position:absolute;padding:0;width:0;height:0;margin:-.2em .32em 0 0;border-style:solid;border-width:.34em 0 .34em .68em;border-color:transparent transparent transparent currentColor;-webkit-transition:all .2s ease-in-out;-moz-transition:all .2s ease-in-out;transition:all .2s ease-in-out;left:-1em;top:.45em;color:GrayText}.idvc_hierarchy_caption:hover:before{color:WindowText}.idvc_hierarchy_caption.idvc_hierarchy_expanded:before{-webkit-transform:rotate(90deg);-moz-transform:rotate(90deg);transform:rotate(90deg)}.idvc_hierarchy_body{display:none;overflow:hidden;cursor:default;margin-left:1.1em}.idvc_hierarchy_item{display:flex;justify-content:space-between}.idvc_hierarchy_caption.idvc_hierarchy_expanded+.idvc_hierarchy_body,.idvc_hierarchy_container{display:flex;flex-direction:column}@-moz-keyframes idvcgrid_pulse{0%{text-shadow:0 0 0 currentColor}50%{text-shadow:0 0 .8em currentColor}to{text-shadow:0 0 0 currentColor}}@-webkit-keyframes idvcgrid_pulse{0%{text-shadow:0 0 0 currentColor}50%{text-shadow:0 0 .8em currentColor}to{text-shadow:0 0 0 currentColor}}@-o-keyframes idvcgrid_pulse{0%{text-shadow:0 0 0 currentColor}50%{text-shadow:0 0 .8em currentColor}to{text-shadow:0 0 0 currentColor}}@keyframes idvcgrid_pulse{0%{text-shadow:0 0 0 currentColor}50%{text-shadow:0 0 .8em currentColor}to{text-shadow:0 0 0 currentColor}}@-moz-keyframes idvcgrid_wait{0%{opacity:1}50%{opacity:.2}to{opacity:1}}@-webkit-keyframes idvcgrid_wait{0%{opacity:1}50%{opacity:.2}to{opacity:1}}@-o-keyframes idvcgrid_wait{0%{opacity:1}50%{opacity:.2}to{opacity:1}}@keyframes idvcgrid_wait{0%{opacity:1}50%{opacity:.2}to{opacity:1}}',""])},function(t,e,o){var n=o(10);"string"==typeof n&&(n=[[t.i,n,""]]);var i={hmr:!0};i.transform=void 0;o(1)(n,i);n.locals&&(t.exports=n.locals)},function(t,e,o){e=t.exports=o(0)(!1),e.push([t.i,".idvcroofline_point{stroke:#0ff;fill:#add8e6;stroke-width:1;vector-effect:non-scaling-stroke;shape-rendering:geometricPrecision}.idvcroofline_point_selected{stroke:#d3d3d3;fill:#4169e1}.idvcroofline_point_current{stroke:#fff}.idvcroofline_point_current.idvcroofline_point_selected{fill:#00bfff}.idvcroofline_line{stroke:#ff0;stroke-width:1}.idvcroofline_grid_line,.idvcroofline_line{fill:none;vector-effect:non-scaling-stroke;shape-rendering:crispEdges}.idvcroofline_grid_line{stroke:#d3d3d3;stroke-width:1}.idvcchart_roofline_text{cursor:default}.idvcchart_roofline_center_marker{fill:none;stroke-width:1;stroke:#000}.idvcchart_roofline_center_marker.active{stroke:#00f}",""])},function(t,e,o){var n=o(12);"string"==typeof n&&(n=[[t.i,n,""]]);var i={hmr:!0};i.transform=void 0;o(1)(n,i);n.locals&&(t.exports=n.locals)},function(t,e,o){e=t.exports=o(0)(!1),e.push([t.i,".idvcchart_content{overflow-x:hidden!important;overflow-y:hidden!important;-moz-user-select:-moz-none;user-select:none}.idvcchart_vertaxis{position:absolute;left:0;top:0;bottom:0;width:11ch}.idvcchart_right .idvcchart_vertaxis{left:auto;right:0}.idvcchart_horzaxis{position:absolute;left:11ch;bottom:0;height:2em;right:0}.idvcchart_right .idvcchart_horzaxis{left:0;right:11ch}.idvcchart_top .idvcchart_horzaxis{top:0;bottom:auto}.idvcchart_body{position:absolute;left:11ch;top:0;bottom:2em;right:0}.idvcchart_right .idvcchart_body{left:0;right:11ch}.idvcchart_top .idvcchart_body{top:2em;bottom:0}.idvc_canvas{position:absolute;left:0;top:0;width:100%;height:100%;pointer-events:none}.idvc_active{pointer-events:auto}.idvc_hidden{visibility:hidden}.idvcchart_axis{stroke:gray;stroke-width:1}.idvcchart_axis,.idvcchart_axis_hot{fill:none;vector-effect:non-scaling-stroke;shape-rendering:crispEdges}.idvcchart_axis_hot{stroke:transparent;stroke-width:5}.idvcchart_axis_text{fill:#fff;stroke:none;stroke-width:1;vector-effect:non-scaling-stroke}.idvcchart_axis_text_secondary{font-size:90%}.idvcchart_roofline_text{fill:#fff;stroke:none;stroke-width:1;vector-effect:non-scaling-stroke}.idvcchart_empty{fill:none;stroke:none}.idvcchart_tooltip{margin-top:2em!important;margin-left:1em;padding:4px!important}.idvcchart_selection{pointer-events:none;fill:#00f;stroke:#00f;stroke-width:1;opacity:.15}",""])},function(t,e,o){var n=o(14);"string"==typeof n&&(n=[[t.i,n,""]]);var i={hmr:!0};i.transform=void 0;o(1)(n,i);n.locals&&(t.exports=n.locals)},function(t,e,o){e=t.exports=o(0)(!1),e.push([t.i,"body{width:100%;height:100%;position:fixed}body.body_area{font-size:1rem}body div.content{position:absolute;top:4.2rem;bottom:0;left:0;right:0;border-top:1px solid #555}.summary_info{white-space:nowrap;cursor:pointer}.summary_info .roofline_toolbar_control_content{margin:0;color:#2c3035;font-weight:700}.summary_info .roofline_toolbar_control{margin-top:.2rem;margin-right:.2rem;border-color:transparent;display:block;border:none;box-shadow:none}.summary_info .roofline_toolbar_control_caption{text-align:center;background:none;font-style:italic;color:gray;padding:0;font-size:90%;box-sizing:border-box;margin-top:.75em;margin-bottom:0}.summary_info .item{padding:0;margin:0}.summary_info .item>li{list-style-type:none;padding-top:.3rem}.summary_info .item li>span{min-width:50%;display:inline-block}.summary_info .item li>span:first-child{text-align:right}.summary_info .text{-moz-user-select:text;-webkit-user-select:text;user-select:text;cursor:text;top:1.7rem;box-shadow:none;right:-1px;border:none}.summary_info .icon{width:.9em;height:1.2rem}.summary_info .icon.select:after{width:.6rem}.no_data>.summary_info{display:none}.top_report_area{display:flex;position:relative;top:0;left:0;right:0;color:#fff;background-color:#b5bac1;padding:.3em;align-items:center}.top_report_area .path{opacity:.5;font-family:monospace;position:relative;overflow:hidden;white-space:nowrap;padding-left:.5em;text-overflow:ellipsis;font-size:large}.top_report_area .path:before{content:\"\";background:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Cpath fill='%23FFF' xmlns='http://www.w3.org/2000/svg' d='M50 40c-8.285 0-15 6.718-15 15 0 9.285 6.715 15 15 15 8.283 0 15-6.715 15-15 0-8.282-6.717-15-15-15zm40-15H78c-1.65 6-3.428-1.28-3.949-2.846l-3.102-9.309C70.426 11.28 68.65 10 67 10H33c-1.65 0-3.428 1.28-3.949 2.846l-3.102 9.309C25.426 23.72 23.65 25 22 25H10C4.5 25 0 29.5 0 35v45c0 5.5 4.5 10 10 10h80c5.5 0 10-4.5 10-10V35c0-5.5-4.5-10-10-10zM50 80c-13.807 0-25-11.193-25-25 0-13.806 11.193-25 25-25 13.805 0 25 11.194 25 25 0 13.807-11.195 25-25 25zm36.5-38.007c-1.932 1.568-3.5 3.5-3.5a3.5 3.5 0 0 1 3.5 3.5c-3.5-1.566-5.067 0-7 0z'/%3E%3C/svg%3E\") no-repeat;display:inline-block;width:20px;height:20px;vertical-align:bottom;margin:0 6px 0 0}.top_report_area .brand_name{position:relative;flex-grow:1;text-align:right;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.top_report_area .brand_name sup{font-size:.5em;opacity:.5}.top_report_area .brand_name a{color:inherit}.top_report_area .background_layer{position:absolute;left:0;right:0;top:0;bottom:0;overflow:hidden}.top_report_area .background_layer:after{content:\"\";position:absolute;z-index:0;top:-21px;right:20px;width:305px;height:106px;background:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 305 106'%3E%3Cpath fill='%23a2a6ad' d='M0 106L157 5l68 34 77-39-75 52-67-29-119 83z'/%3E%3Cpath fill='%23a2a6ad' d='M75 106l87-68 67 28 75-61-73 73-66-24-55 52z'/%3E%3Cpath fill='%23a2a6ad' d='M134 106l33-36 66 22 72-80-70 91-65-16-11 20z'/%3E%3C/svg%3E\") no-repeat}.combo{padding-left:.5ch}.no_roofs .roofs_table{display:table}.idvcgrid_tooltip{background-color:#fbfcc5;color:#000}",""])},function(t,e){var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};if(Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(t,e){"use strict";if(void 0===t||null===t)throw new TypeError("Cannot convert first argument to object");for(var o=Object(t),n=1;n<arguments.length;n++){var i=arguments[n];if(void 0!==i&&null!==i)for(var r=Object.keys(Object(i)),a=0,s=r.length;a<s;a++){var l=r[a],c=Object.getOwnPropertyDescriptor(i,l);void 0!==c&&c.enumerable&&(o[l]=i[l])}}return o}}),!window.Promise){var n=function(){},i=function(t,e){return function(){t.apply(e,arguments)}},r=function t(e){if(!(this instanceof t))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],u(e,this)},a=function(t,e){for(;3===t._state;)t=t._value;if(0===t._state)return void t._deferreds.push(e);t._handled=!0,r._immediateFn(function(){var o=1===t._state?e.onFulfilled:e.onRejected;if(null===o)return void(1===t._state?s:l)(e.promise,t._value);var n;try{n=o(t._value)}catch(t){return void l(e.promise,t)}s(e.promise,n)})},s=function(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"===(void 0===e?"undefined":o(e))||"function"==typeof e)){var n=e.then;if(e instanceof r)return t._state=3,t._value=e,void c(t);if("function"==typeof n)return void u(i(n,e),t)}t._state=1,t._value=e,c(t)}catch(e){l(t,e)}},l=function(t,e){t._state=2,t._value=e,c(t)},c=function(t){2===t._state&&0===t._deferreds.length&&r._immediateFn(function(){t._handled||r._unhandledRejectionFn(t._value)});for(var e=0,o=t._deferreds.length;e<o;e++)a(t,t._deferreds[e]);t._deferreds=null},d=function(t,e,o){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=o},u=function(t,e){var o=!1;try{t(function(t){o||(o=!0,s(e,t))},function(t){o||(o=!0,l(e,t))})}catch(t){if(o)return;o=!0,l(e,t)}},f=setTimeout;r.prototype.catch=function(t){return this.then(null,t)},r.prototype.then=function(t,e){var o=new this.constructor(n);return a(this,new d(t,e,o)),o},r.prototype.finally=function(t){var e=this.constructor;return this.then(function(o){return e.resolve(t()).then(function(){return o})},function(o){return e.resolve(t()).then(function(){return e.reject(o)})})},r.all=function(t){return new r(function(e,n){function i(t,s){try{if(s&&("object"===(void 0===s?"undefined":o(s))||"function"==typeof s)){var l=s.then;if("function"==typeof l)return void l.call(s,function(e){i(t,e)},n)}r[t]=s,0==--a&&e(r)}catch(t){n(t)}}if(!t||void 0===t.length)throw new TypeError("Promise.all accepts an array");var r=Array.prototype.slice.call(t);if(0===r.length)return e([]);for(var a=r.length,s=0;s<r.length;s++)i(s,r[s])})},r.resolve=function(t){return t&&"object"===(void 0===t?"undefined":o(t))&&t.constructor===r?t:new r(function(e){e(t)})},r.reject=function(t){return new r(function(e,o){o(t)})},r.race=function(t){return new r(function(e,o){for(var n=0,i=t.length;n<i;n++)t[n].then(e,o)})},r._immediateFn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){f(t,0)},r._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},window.Promise=r}},function(t,e,o){function n(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var i,r,i,a,i,s,i,l,i,c,i,d,i,u,i,f,i,h,i,p,i,m,i,g,i,v,i,_,i,y,i,b,i,x,i,w,i,C,i,L,i,k,i,S,i,P,i,R,i,E,i,M,i,T,i,A,i,I,i,z,i,D,i,B,i,V,Y,X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};i=[],r=function(){}.apply(e,i),i=[],a=function(){}.apply(e,i),i=[],s=function(){function t(t){var e=document.createElement("link");e&&(e.setAttribute("href",t),e.setAttribute("rel","stylesheet"),e.setAttribute("type","text/css")),document.getElementsByTagName("head")[0].appendChild(e)}function e(t,e,o){var n=document.getElementsByTagName("head")[0],i=document.createElement("script");i.setAttribute("src",t),i.setAttribute("type","text/javascript"),e&&(i.onload=e),o&&(i.onerror=o),n.appendChild(i)}function o(t){var e=v(t)||document.body,o=document.createElement("button");o.style.position="absolute",o.style.left="0",o.style.top="0",e.appendChild(o),I(e,window.getComputedStyle(o,null),!0),e.removeChild(o)}function n(t,e,o){var n=Math.pow(10,e);return Math[o](t*n)/n}function i(t,e){return n(t,e,"round")}function r(t,e){return n(t,e,"floor")}function a(t,e){return n(t,e,"ceil")}function s(t,e){return t<=10&&t>=1||t<=-1&&t>=-10?i(t,e):t.toExponential(e)}function l(t){function e(t){return t.preventDefault(),!1}t&&(t.addEventListener("dragstart",e),t.addEventListener("drop",e))}function c(t,e,o,n,i,r){i=i||"div";var a=document.createElement(i);return l(a),e&&(a.className=e),o&&(a.id=o),t&&(a.innerHTML=t),r&&r(a),n&&n.appendChild(a),a}function d(t){if(t){var e=t.getBoundingClientRect(),o=document.documentElement,n=window.pageYOffset||o.scrollTop,i=window.pageXOffset||o.scrollLeft,r=e.top+n-o.clientTop;return{x:e.left+i-o.clientLeft,y:r,width:e.width,height:e.height}}}function u(t,e){return"number"==typeof t||"boolean"==typeof t?e-t:"string"==typeof t?e.localeCompare(t):0}function f(){var t=arguments,e=arguments[0];if(e)return e=e.replace(/\{\d+\}/g,function(e){return t[parseInt(e.slice(1,-1),10)]})}function h(t,e){var o=[].slice.call(arguments,2);return function(){return t.apply(e,o.concat([].slice.call(arguments)))}}function p(t){var e=[].slice.call(arguments,1);return e.unshift(void 0),e.unshift(t),h.apply(void 0,e)}function m(t){var e=[].slice.call(arguments,1);return function(){var o=[].slice.call(arguments),n=e.shift();if(n){var i=n.apply(t,o);return e.forEach(function(e){i=e.call(t,i)}),i}}}function g(){var t=[].slice.call(arguments);return t.unshift(void 0),m.apply(void 0,t)}function v(t){return"string"==typeof t?document.getElementById(t):t}function _(t,e){if(t){var o;if(t.hasAttribute(rt)?o=!0:t.refreshSize&&(o=t.refreshSize(e)),!o&&t.children)for(var n=0,i=t.children.length;n<i;n++)_(t.children[n],e)}}function y(t,e,o,n){function i(t){var n=5;e.getDeltaThreshold&&(n=e.getDeltaThreshold());var i={x:t.pageX,y:t.pageY},r=e.getDelta.call(o,i,s.mousePos,s.startMousePos);s.isStarted?(t.preventDefault(),e.onProcess.call(o,r),s.mousePos=i):Math.abs(r)>n&&(s.isStarted=!0)}function r(t){s.globalCursor&&(document.body.removeChild(s.globalCursor),s.globalCursor=null),s={},window.removeEventListener("mousemove",i,!0),window.removeEventListener("mouseup",r,!0),a&&++a.count>1&&(e.onDblClick.call(o),clearTimeout(a.timeout),a=void 0),e.onEnd.call(o),"moz"===et.engine&&H({x:t.pageX,y:t.pageY},"mousemove")}o=o||e,void 0===n&&(n=0);var a,s={},l=v(t);l.addEventListener("mousedown",function(t){t.button===n&&e.accepted.call(o,t.target)&&(s.isStarted=!1,s.startMousePos={x:t.pageX,y:t.pageY},s.mousePos={x:t.pageX,y:t.pageY},s.globalCursor=document.createElement("div"),s.globalCursor.className="idvcgrid_global_cursor",s.globalCursor.style.cursor=e.getCursor(),document.body.appendChild(s.globalCursor),window.addEventListener("mousemove",i,!0),window.addEventListener("mouseup",r,!0),t.preventDefault(),t.stopPropagation(),e.onDblClick&&!a&&(a={count:0,timeout:setTimeout(function(){a=void 0},800)}))},!1)}function b(t,e,o,n){function i(e,o){var n,i=t[e];return i&&(n=v(i),n.classList.add(o),u=n.offsetParent||u),n}function r(t){var e=document.createElement("div");return e.className=t,e.idvcCreatedBySplitter=!0,u.appendChild(e),e}function a(t){if(t||!n.refreshSizeByUserAction){var e={};e[n.size]=!0,_(f,e),_(p,e),L&&L.onRefreshSize&&L.onRefreshSize()}}function s(t,e,o){if("100%"===t)t=et.browserPrefix+"calc(100% - "+e+"px)",f.style[n.size]=t,h.style[n.pos]=t,p.style[n.pos]="100%";else{f.style[n.size]=t,h.style[n.pos]=t;var i=et.browserPrefix+"calc("+t+" + "+e+"px)";p.style[n.pos]=i}a(o)}function l(t,e,o){f.style[n.size]=t+"px",h.style[n.pos]=t+"px",t+=e,p.style[n.pos]=t+"px",a(o)}function c(){w||(w=f.style[n.size],h.classList.add("idvcsplitter_folded"),g.dragged&&x())}function d(){var t=h[n.offsetSize];return t<0&&(t=0),function(){return h&&"none"===h.style.display}()||t||(t=C),t}if(o=o||.3,t){var u,f=i("primaryDiv",n.primaryDivClass),h=i("splitterDiv",n.splitterDivClass),p=i("secondaryDiv",n.secondaryDivClass);if(u||(u=v(t)),u){f||(f=r(n.primaryDivClass)),h||(h=r(n.splitterDivClass)),p||(p=r(n.secondaryDivClass)),h.onselectstart=function(){return!1};var m=function(t,e,o){var i=d();if(function(t){var e=t.style[n.size];return e&&"%"===e[e.length-1]||!e}(f)){s(100*t/(e+i)+"%",i,o)}else l(t,i,o)},g={pos:-1,dragged:!1},y=null,b=function(t){if(!w&&g.dragged){e=e||100;var o=t[n.eventPos],i=f[n.offsetSize],r=p[n.offsetSize],a=i+r,s=o-g.pos;n.backward&&(s=-s),i+=s,i>=e&&r-s>=e&&(m(i,a,!0),g.pos=o)}},x=function t(){document.body.removeChild(y),y=null,g.pos=-1,g.dragged=!1,h.classList.remove("idvcgrid_splitter_hover"),window.removeEventListener("mousemove",b,!0),window.removeEventListener("mouseup",t,!0),L&&L.onStopUpdateSplitter&&L.onStopUpdateSplitter()};h.onmousedown=function(t){if(t=t||event,w)return void L.unfold(!0);if(!t.ctrlKey&&!t.shiftKey&&t.target===h){t.preventDefault(),y=document.createElement("div"),y.className="idvcgrid_global_cursor";var e=window.getComputedStyle(h,null);y.style.cursor=e.cursor,document.body.appendChild(y),h.classList.add("idvcgrid_splitter_hover"),g.pos=t[n.eventPos],g.dragged=!0,window.addEventListener("mousemove",b,!0),window.addEventListener("mouseup",x,!0),L&&L.onStartUpdateSplitter&&L.onStartUpdateSplitter()}};var w,C=D(o),L={primaryDiv:f,splitterDiv:h,secondaryDiv:p,setSize:function(t,e){if(w)return void(w=t);var o=d();"%"===t[t.length-1]?s(t,o,e):l(parseInt(t,10),o,e)},getSize:function(){return f.style[n.size]},foldPrimary:function(t,e){c(),f.style.display="none",f.setAttribute(rt,"1"),p.style.display="block",p.removeAttribute(rt),t&&(h.style.display="none"),l(0,d(),e),this.afterFoldPrimary&&this.afterFoldPrimary(e)},isPrimaryFolded:function(){return"none"===f.style.display},foldSecondary:function(t,e){c(),p.style.display="none",p.setAttribute(rt,"1"),f.style.display="block",f.removeAttribute(rt),h.style.display=t?"none":"block",s("100%",d(),e),this.afterFoldSecondary&&this.afterFoldSecondary(e)},isSecondaryFolded:function(){return"none"===p.style.display},isSplitterHidden:function(){return"none"===h.style.display},unfold:function(t){if(w){f.style.display="block",f.removeAttribute(rt),p.style.display="block",p.removeAttribute(rt),h.style.display="block";var e=w;w=void 0,this.setSize(e,t),h.classList.remove("idvcsplitter_folded"),this.afterUnfold&&this.afterUnfold(t)}},addSash:function(t,e){e=e||"idvcsplitter_sash";var o=document.createElement("div");return o.className=e,o.onmousedown=function(e){w?this.unfold(!0):t?this.foldPrimary(!1,!0):this.foldSecondary(!1,!0),e.stopPropagation(),e.preventDefault()}.bind(this),h.appendChild(o),this.sashDiv=o,o},removeSash:function(){K(h),delete this.sashDiv},remove:function(){function t(t){t.idvcCreatedBySplitter&&t.parentNode.removeChild(t)}f.classList.remove(n.primaryDivClass),p.classList.remove(n.secondaryDivClass),h.classList.remove(n.splitterDivClass),f.style[n.size]="",h.style[n.pos]="",p.style[n.pos]="",t(f),t(p),t(h)}};return L.setSize("50%"),L}}}function x(t,e,o){o=o||{};var n=!o.backward,i={primaryDivClass:o.primaryDivClass||(n?"idvcsplitter_vert_primary":"idvcsplitter_vert_secondary"),splitterDivClass:o.splitterDivClass||"idvcsplitter_vert_splitter",secondaryDivClass:o.secondaryDivClass||(n?"idvcsplitter_vert_secondary":"idvcsplitter_vert_primary"),size:"height",pos:n?"top":"bottom",offsetSize:"offsetHeight",eventPos:"pageY",backward:!n,refreshSizeByUserAction:o.refreshSizeByUserAction};return b(t,e,o.splitterSize,i)}function w(t,e,o){o=o||{};var n=!o.backward,i={primaryDivClass:o.primaryDivClass||(n?"idvcsplitter_horz_primary":"idvcsplitter_horz_secondary"),splitterDivClass:o.splitterDivClass||"idvcsplitter_horz_splitter",secondaryDivClass:o.secondaryDivClass||(n?"idvcsplitter_horz_secondary":"idvcsplitter_horz_primary"),size:"width",pos:n?"left":"right",offsetSize:"offsetWidth",eventPos:"pageX",backward:!n,refreshSizeByUserAction:o.refreshSizeByUserAction};return b(t,e,o.splitterSize,i)}function C(t,e,o){function n(t){f.elem&&f.elem!==t&&f.elem!==s&&i(),t&&t!==f.elem&&t!==s&&t.addEventListener("mouseout",p,!1),f.elem=t}function i(){f.elem&&f.elem!==s&&(f.elem.removeEventListener("mouseout",p,!1),f.elem=null)}function r(t){c&&clearTimeout(c),c=void 0,t>0&&(c=setTimeout(function(){c=void 0,h()},t))}function a(t){var i=e.needUpdate||function(t,e){return t!==e};if(t=t||event,l=t,i(f.elem,t.target,t.pageX,t.pageY)){var a=e.getInfo(t.target,t.pageX,t.pageY);if(a){if(a.keepCurrent&&f.tooltip)a.tracking&&(a.text&&(f.tooltip.innerHTML=a.text),g(f.tooltip,t.pageX,t.pageY));else if(h(),a.text){var s=void 0!==a.delay?a.delay:o;n(a.target),f.timer=window.setTimeout(m.bind(a.target,a.text,a.x,a.y,a.style),s)}f.tooltip&&G(f.tooltip.style,a.style),c||r(a.autoHideDelay)}else f.tooltip&&h()}}if(e){var s=v(t);if(s){var l,c,d,u,f={tooltip:null,timer:null},h=function(t){c&&(clearTimeout(c),c=void 0),f.tooltip&&document.body.removeChild(f.tooltip),t&&(d=!0,u||(u=U(function(){d=void 0},window,t)),u.call()),f.timer&&(window.clearTimeout(f.timer),f.timer=null),f.tooltip=null,i()},p=function(){h(),e.getInfo(void 0,0,0)},m=function(t,o,n,i){if(!d){f.timer=void 0;var r=e.create(this,t);r&&(G(r.style,i),g(r,o,n),f.tooltip=r)}},g=function(t,o,n){void 0===o&&(o=l.pageX),void 0===n&&(n=l.pageY),e.simpleMode||(t.classList.remove("idvcgrid_tooltip_ellipsis"),t.style.height=""),t.offsetWidth>.8*window.innerWidth&&(t.style.height="auto",t.style.width=Math.floor(.8*window.innerWidth)+"px");var i=window.getComputedStyle(t,null),r=parseInt(i.getPropertyValue("margin-left"),10),a=o;a<0?a=0:a+r+t.offsetWidth+6>window.innerWidth+window.scrollX&&(a=window.innerWidth+window.scrollX-t.offsetWidth-r-6);var s=parseInt(i.getPropertyValue("margin-top"),10),c=n;if(c<0&&(c=0),c+t.offsetHeight+s+2>window.innerHeight+window.scrollY&&(c=window.innerHeight+window.scrollY-t.offsetHeight-s-2,!e.simpleMode&&c<3)){c=1;var d=window.innerHeight-c-2*(parseInt(i.getPropertyValue("padding-top"),10)+2);if(t.style.height=d+"px",t.classList.add("idvcgrid_tooltip_ellipsis"),t.style.lineHeight){parseInt(t.style.lineHeight)>d&&(t.style.lineHeight=t.style.height)}}if(!e.ignoreOverlapping&&a<o-.5*r&&c<n-.5*s){var u=o-6-1.5*r-t.offsetWidth;if(u>=0)a=u;else{var f=n-2-1.5*s-t.offsetHeight;f>=0&&(c=f)}}t.style.left=a+"px",t.style.top=c+"px"};return s.addEventListener("mouseout",p,!1),s.addEventListener("mousemove",a,!1),{show:function(t,e,o,i,a,s){n(t),f.tooltip?(f.tooltip.innerHTML=e,G(f.tooltip.style,s),g(f.tooltip,o,i)):m(e,o,i,s),r(a)},hide:function(t){h(t)},update:function(){f.tooltip&&setTimeout(a.bind(this,l),0)},getTooltipDOMElement:function(){if(f)return f.tooltip},getParentDOMElement:function(){if(f)return f.elem}}}}}function L(t,e){if(t&&t.length){var o=document.createElement("div");return o.className="idvcgrid_popup idvcgrid_tooltip",e&&o.classList.add(e),o.innerHTML=t,document.body.appendChild(o),o}}function k(t,e,o,n){return C(t,{needUpdate:function(t,e,n,i){return(o=o||function(t,e){return t!==e})(t,e)},getInfo:function(t,o,n){var i,r;return r="function"==typeof e?e(t,o,n):e,r&&("object"===(void 0===r?"undefined":X(r))?(i={},G(i,r)):i={text:r,target:t}),i},create:function(t,e){var o=L(e,n);return I(o,window.getComputedStyle(document.body,null)),o}},250)}function S(t,e,o){t&&e&&(I(t,e),t.style.paddingLeft=e.paddingLeft,t.style.paddingTop=e.paddingTop,t.style.paddingRight=e.paddingRight,t.style.paddingBottom=e.paddingBottom,t.style.borderTopStyle=e.borderTopStyle,t.style.borderTopWidth=e.borderTopWidth,t.style.borderRightStyle=e.borderRightStyle,t.style.borderRightWidth=e.borderRightWidth,t.style.borderBottomStyle=e.borderBottomStyle,t.style.borderBottomWidth=e.borderBottomWidth,t.style.borderLeftStyle=e.borderLeftStyle,t.style.borderLeftWidth=e.borderLeftWidth,t.style.color=e.color,t.style.borderColor=o||e.backgroundColor,t.style.backgroundColor=o||e.backgroundColor,t.style.backgroundImage=e.backgroundImage,t.style.backgroundRepeat=e.backgroundRepeat,t.style.backgroundPosition=e.backgroundPosition,t.style.backgroundOrigin=e.backgroundOrigin)}function P(t,e,o,n,i){if(t&&e){n=n||function(t,e){e.innerHTML=t.innerHTML},n(t,e);var r=window.getComputedStyle(t,null);e.style.boxSizing=r.boxSizing,e.style.lineHeight=r.lineHeight,i?e.style.width=r.width:e.style.height=r.height,S(e,r,o)}}function R(t,e,o,n){e=e||function(t){return t};var i;i=n?{check:function(t,e){if(!t||!e)return!1;var o=d(t),n=t.offsetHeight;return o.y+n>window.innerHeight+window.scrollY&&(n=window.innerHeight+window.scrollY-o.y),e.offsetHeight-1>n}}:{check:function(t,e){if(!t||!e)return!1;var o=d(t),n=t.offsetWidth;return o.x+n>window.innerWidth+window.scrollX&&(n=window.innerWidth+window.scrollX-o.x),e.offsetWidth-1>n}};var r=C(t,{ignoreOverlapping:!0,simpleMode:!0,needUpdate:function(t,e){return t!==e},getInfo:function(t,o,n){if(t=e(t,o,n)){var i=d(t);return{x:i.x,y:i.y,target:t,text:"exp"}}},create:function(t){if(t.innerHTML.length){var e=document.createElement("div");return e.className="idvcgrid_popup",P(t,e,o,a.processContent,n),document.body.appendChild(e),a.afterCreateTooltip&&a.afterCreateTooltip(e),i.check(t,e)?e:void document.body.removeChild(e)}}},50),a={update:function(){P(r.getParentDOMElement(),r.getTooltipDOMElement())},hide:function(){r.hide()}};return a}function E(t,e,o,n,i){function r(t,e,o){function n(t,e){var o,n,i,r=document.createElement("div");return e?(r.className=l,n=document.createElement("div"),n.className=s,n.appendChild(r),o=document.createElement("div"),o.className=d,n.appendChild(o),i=n):(r.className=c,i=r),t.appendChild(i),{expand:r,body:o,container:n}}if(t&&e){var i=e.children;Array.isArray(i)&&i.forEach(function(i){var s=n(t,i.hasChildren||i.children&&i.children.length),l=o(s,i,e),c=s.expand;l||(i.expanded&&c.classList.add(u),i.className&&c.classList.add(i.className)),i.expanded?r(s.body,a(i),o):c.hierarchicalObj=i})}}function a(t){var o=t;return"function"==typeof e&&(o=e(t)),o}var s="idvc_hierarchy_container",l="idvc_hierarchy_caption",c="idvc_hierarchy_leaf",d="idvc_hierarchy_body",u="idvc_hierarchy_expanded",f=v(t);o=o||function(t,e){if(t&&t.expand&&e){var o=t.expand;(e.html||e.displayName)&&(o.innerHTML=e.html||e.displayName)}};var h=a(e);Array.isArray(h)&&(h={children:h}),r(f,h,o),function(t,e,n){e=e||function(){return!1},n=n||function(){},t=t||document,t.addEventListener("click",function(t){t=t||window.event;for(var i=t.target;i&&i.classList&&!i.classList.contains(l);)i=i.parentNode;i&&i.classList&&i.classList.contains(l)&&!e(i,i.classList.contains(u))&&(i.hierarchicalObj&&(r(i.nextElementSibling,a(i.hierarchicalObj),o),delete i.hierarchicalObj),i.classList.toggle(u),n(i))})}(f,n,i)}function M(t,e){var o=document.createElement("div");o.className="idvcgrid_popup",P(t,o),document.body.appendChild(o);var n=o.offsetWidth;return document.body.removeChild(o),n}function T(t,e,o,n){if(o=o||function(){return!0},n=n||!1,!o())return{disabler:i,disabled:r,end:function(){}};var i=null,r=v(t);return r&&(n&&(i=r.getElementsByClassName("idvcgrid_disabler")[0]),i||(i=document.createElement("div"),i.className="idvcgrid_disabler",r.appendChild(i)),e&&(i.innerText=e),i.getBoundingClientRect()),{disabler:i,disabled:r,end:function(){i.parentNode&&i.parentNode.removeChild(i)}}}function A(t,e){var o="<b>"+t+"</b>";return e&&(o+=" ("+e+")"),o}function I(t,e,o){if(t&&e){if(o){var n=parseInt(e.fontSize);n=2*Math.floor(n/2),t.style.fontSize=n+"px"}else t.style.fontFamily=e.fontFamily,t.style.fontSize=e.fontSize;t.style.fontStyle=e.fontStyle,t.style.fontWeight=e.fontWeight,t.style.fontVariant=e.fontVariant}}function z(t){var e=document.createElement("div");e.style.overflow="hidden",e.style.position="absolute",e.style.left="0",e.style.top="0",e.style.width="100%",e.style.height="100%";var o=document.createElement("div");o.style.width="120%",o.style.height="120%",e.appendChild(o),document.body.appendChild(e),o.style.cursor=t,e.scrollLeft=1,e.scrollLeft=0,document.body.removeChild(e)}function D(t,e){return e=e||document.documentElement,t*parseFloat(getComputedStyle(e).fontSize)}function B(t,e){if(t&&e){var o=t.className.split(" "),n=e.split(" ").filter(function(t){return-1===o.indexOf(t)}).join(" ");n.length&&(t.className+=" "+n)}}function V(t,e){if(t&&e){var o=e.split(" ");t.className=t.className.split(" ").filter(function(t){return-1===o.indexOf(t)}).join(" ")}}function Y(t,e){for(;t&&t.classList&&!t.classList.contains(e);)t=t.parentElement;return t}function O(t,e){function o(r){if(i){var a=r-i;t(a)?n(o):e&&e(a)}else i=r,n(o)}var n=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;if(n){var i;n(o)}}function H(t,e,o,n){e=e||"click",t=t||{x:0,y:0},void 0===t.x&&(t.x=0),void 0===t.y&&(t.y=0);var i={view:window,bubbles:!0,cancelable:!0,screenX:t.x,screenY:t.y,clientX:t.x,clientY:t.y};G(i,n),o=o||document.elementFromPoint(t.x,t.y)||window;var r;try{r=new MouseEvent(e,i)}catch(o){r=document.createEvent("MouseEvents"),r.initMouseEvent(e,!0,!0,window,0,t.x,t.y,t.x,t.y,!1,!1,!1,!1,0,null)}r.simulation=!0,o.dispatchEvent(r)}function N(t,e){if(e){var o=d(e);H({x:o.x+o.width/2,y:o.y+o.height/2},t,e)}}function W(t){t&&!t.classList.contains(at)&&t.classList.add(at)}function F(t){t&&t.classList.remove(at)}function U(t,e,o){o=o||0,e=e||window,t=t||function(){};var n;return{call:function(){this.cancel();var i=arguments;n=setTimeout(function(){t.apply(e,i),n=void 0},o)},cancel:function(){n&&(clearTimeout(n),n=void 0)},isCalled:function(){return!!n},setFunction:function(e){t=e||function(){}},setThisArg:function(t){e=t||window},setDelay:function(t){o=t}}}function j(){"function"==typeof ot&&ot.apply(this,arguments)}function G(t,e){t&&e&&"object"===(void 0===e?"undefined":X(e))&&Object.getOwnPropertyNames(e).forEach(function(o){"object"!==X(e[o])||Q(e[o])?"className"===o&&t.classList?t.classList.add(e.className):t[o]=e[o]:(t[o]||(Array.isArray(e[o])?t[o]=[]:t[o]={}),G(t[o],e[o]))})}function Z(t,e,o){t&&e&&"object"===(void 0===e?"undefined":X(e))&&(o=o||function(){return!0},Object.getOwnPropertyNames(t).forEach(function(n){if(!J(n)){var i=t[n];if("function"!=typeof i&&o(i,n))if("object"===(void 0===i?"undefined":X(i))){if(Q(i))return;e[n]||(Array.isArray(i)?e[n]=[]:e[n]={}),Z(i,e[n],o)}else e[n]=i}}))}function Q(t){return t instanceof Node&&void 0!==t.nodeType&&void 0!==t.nodeName}function J(t){var e=t.length;return e>4&&("_"===t[0]&&"_"===t[1]&&"_"===t[e-1]&&"_"===t[e-2])}function q(){function t(){l.length=0,i=r=-1,s=!1,n=void 0,a=!1}function e(t){t&&(s=!1,a=!0,i++,r=i,void 0!==n?t(n):t())}function o(t){t(),this.end()}var n,i=-1,r=-1,a=!1,s=!1,l=[];return{do:function(t){if(t)return l.splice(r+1,0,t),r++,a||e(t),this},do_:function(t){return this.do(o.bind(this,t))},end:function(o){if(a)return n=o,a=!1,i<l.length-1?e(l[i+1]):t(),this},end_:function(t){return setTimeout(this.end.bind(this,t),0),this},nextStep:function(t){return s?this.end():(setTimeout(t,0),this)},cancel:function(){return a?(s=!0,l.splice(i+1)):t(),this},canceled:function(){return s},forEach:function(t,e,o){function n(){if(s)return void this.end();i(),r-=o,a+=o,r>0?this.nextStep(n.bind(this)):this.end()}function i(){for(var n=a,i=a+Math.min(r,o);n<i;n++)e(t[n],n,t)}if(Array.isArray(t)){o=o||t.length;var r=t.length,a=0;r>o?n.call(this):(i(),this.end())}}}}function $(t){t=t||0;var e=t;return{next:function(){return++e,e<t&&(e=++t),e},get:function(){return e}}}function K(t){if(t)for(;t.firstChild;)t.removeChild(t.firstChild)}function tt(t,e){e=e||{height:!0,width:!0};var o=_.bind(void 0,t,e);return window.addEventListener("resize",o,!1),{remove:function(){window.removeEventListener("resize",o,!1),o=void 0}}}var et={browserPrefix:"-webkit-",engine:"webkit"};!function(){if(-1===navigator.userAgent.indexOf("WebKit")){et.engine="moz",et.browserPrefix="-moz-";var t=navigator.userAgent.lastIndexOf("/");if(-1!==t){parseInt(navigator.userAgent.substr(t+1))>=54&&(et.browserPrefix="")}}}();var ot,nt=function(){var t;return function(e){if(!t||e){var o=document.createElement("div");o.style.overflow="scroll",o.style.position="absolute",o.style.top="0",o.style.left="0",o.style.width="100px",o.style.height="100px",document.body.appendChild(o),t={width:o.offsetWidth-o.clientWidth,height:o.offsetHeight-o.clientHeight},document.body.removeChild(o)}return t}}(),it=function(){var t={};return function(e,o){var n;return o||!t[e]?(n=document.getElementById(e))&&(t[e]=n):n=t[e],n}}(),rt="data-stopRefreshSize",at="idvc_disable_hover",st=function(){};return j.enable=function(){ot=console.log.bind(console)},j.disable=function(){ot=st},j.set=function(t){ot=t},j.disable(),{Consts:et,appendCSS:t,appendScript:e,applyUAFont:o,getScrollbarSize:nt,disableDragging:l,createElement:c,getElementById:it,round:i,floor:r,ceil:a,roundExp:s,getElementPos:d,defaultCompareItems:u,format:f,curry:p,curryThis:h,compose:g,composeThis:m,getDomElement:v,refreshSize:_,createResizeProcess:y,createVertSplitter:x,createHorzSplitter:w,addTooltip:k,copyAppearance:S,addExpansion:R,buildHierarchy:E,getTextWidth:M,disableElement:T,makeCaption:A,setFont:I,changeCursor:z,em2px:D,addClass:B,removeClass:V,getParentByClass:Y,animate:O,dispatchMouseEvent:H,dispatchElementMouseEvent:N,disableHover:W,enableHover:F,createAsyncCall:U,consoleLog:j,applyObjectProperties:G,copyObject:Z,isHTMLNode:Q,createSequence:q,createCounter:$,removeAllChildren:K,addWindowResizeListener:tt}}.apply(e,i),i=[s],l=function(t){function e(e,o,n){o=o||4;if(n||e>=-4&&e<=4){o=e>-1?2:Math.ceil(Math.abs(e))+1;var i=t.round(Math.pow(10,e),o);return n&&(e<-4||e>4)&&(i=+i.toFixed(o)),i}return t.roundExp(Math.pow(10,e),1)}function o(e,o,n){o=o||4;var i=t.round(e,o);if(n){var r=Math.pow(10,-o);i<r&&(i="<"+r)}return i}function n(t){return t=t||0,t.toFixed(3)}function i(t){return Math.log(t)/Math.LN10}function r(t,e){var o=t.x-e.x;if(0===o)return function(){};var n=(t.y-e.y)/o,i=t.y-t.x*n;return function(t){return n*t+i}}return{pref:": <b>",post:"</b> ",formatVal:e,simpleFormat:o,formatTime:n,log10:i,getLine:r}}.apply(e,i),i=[s],c=function(t){function e(t,e,o){var n;return!y.some(function(i){if(i)return!!i.accept(t,e,o)&&(n=i.getText(t,e,o),!0)})&&_.accept(t,e,o)?_.getText(t,e,o):n}function o(e,o){var n=t.getElementPos(e);o.style.left=n.x+n.width+2+"px",o.style.top=n.y-2+"px"}function i(e,n){if(n){var i=t.createElement("?","explanation_symbol","",document.body,"div",function(o){var i=window.getComputedStyle(e,null);o.setAttribute(b,n),t.setFont(o,i)});return o(e,i),i}}function r(){var t=document.activeElement;t&&t.rooflineExplanation&&o(t,t.rooflineExplanation),t&&t.rooflinePopup&&a(t,t.rooflinePopup)}function a(e,o){var n=t.getElementPos(e),i=t.getElementPos(o);o.style.left=n.x+"px";var r=n.y+n.height+1;r+i.height<window.innerHeight+window.scrollY?o.style.top=r+"px":o.style.top=n.y-i.height-1+"px",o.style.minWidth=n.width+"px"}function s(t,e){if(t){var o=t.rooflineIndex;if(o>=0){var n=t.children[o];n&&n.classList.remove("selected")}if(e>=0){var i=t.children[e];i&&(i.classList.add("selected"),i.offsetTop<t.scrollTop?i.scrollIntoView(!0):i.offsetTop+i.offsetHeight>t.offsetHeight+t.scrollTop&&i.scrollIntoView(!1),window.scrollY&&window.scrollTo(0,0))}t.rooflineIndex=e}}function l(t){function e(t){if(t){var e=t.rooflineIndex;e>0&&s(t,--e)}}function o(t){if(t){var e=t.rooflineIndex;e<t.children.length-1&&s(t,++e)}}function n(t){if(t){var e=t.rooflineIndex;if(e>=0){var o=t.children[e];o&&o.click()}}}t.addEventListener("keydown",function(i){var r=t.rooflinePopup;if(r)switch(i.keyCode){case 13:n(r),i.preventDefault();break;case 27:L(t,[]),i.preventDefault();break;case 38:e(r),i.preventDefault();break;case 40:o(r),i.preventDefault()}},!1),t.addEventListener("blur",function(e){var o=t.rooflinePopup;o&&o.idvcClicked||L(t,[])},!1)}function c(t,e){t&&(e=e||function(){return!0},t.addEventListener("input",function(o){var n=o.target.value,i=k.filter(function(t){return-1!==t.toLowerCase().indexOf(n.toLowerCase())});L(t,e(n,i)?i:[],function(e){t.value=e,t.oninput({target:t}),t.focus()},function(t){return'<div class="loop_sample loop_fixed_sample" style="background-color:'+t+'"></div>'+t})},!1),l(t))}function d(e){function o(){n.classList.remove("toast-show"),setTimeout(function(){i&&(i.end(),i=void 0)},400)}var n=t.createElement(e,"roofline_toast","",document.body),i=t.disableElement(document.body,"",void 0,!0);i.disabler.classList.add("roofline_toast_holder"),i.disabler.appendChild(n),setTimeout(function(){n.classList.add("toast-show")},0);var r=setTimeout(o,5400);i.disabler.addEventListener("click",function(t){clearTimeout(r),o(),t.stopPropagation(),t.preventDefault()},!1)}function u(t){var e=t.key||String.fromCharCode(t.charCode);if(t.charCode){var o=t.target.value,n=t.target.selectionStart,i=t.target.selectionEnd,r=function(t,e,o,n){return t.substr(0,e)+n+t.substr(o)}(o,n,i,e);return!isNaN(r)&&+r>=0}}function f(t,e,o){t=t||function(){},e=e||function(){},setTimeout(function(){t(),setTimeout(function(){e()},o)},50)}function h(e,o){function n(){i(),l=[],[].forEach.call(f.children,function(t){t!==h&&t!==s&&l.push(t.offsetLeft+t.offsetWidth)})}function i(){d.forEach(function(t){t.remove(),f.insertBefore(t,h)}),d=[]}function r(){s=document.createElement("div"),s.className=e.expansionClassName,f.appendChild(s)}function a(){var e=f.clientWidth-h.clientWidth-p,o=-1;if(l.some(function(t,n){if(t>e)return o=n,c=f.scrollWidth-e,!0}),o!==l.length-d.length)if(i(),t.removeAllChildren(s),o>=0)for(var n,r=o,a=f.children.length-2;r<a;r++){var u=f.children[o];!function(t){return t&&t.classList.contains("br")}(u)&&s.children.length||(n=document.createElement("div"),s.appendChild(n)),f.removeChild(u),n.appendChild(u),d.push(u)}else c=0}o=o||function(){return!0};var s,l=[],c=0,d=[],u=!1,f=document.getElementById(e.bodyId);f.refreshSize=function(t){if(!o())return void i();(t&&t.recalcSizes||!l.length)&&n();var e=f.scrollWidth+c>f.clientWidth;e&&(f.classList.add("expandable"),s||r(),a()),e&&d.length||(f.classList.remove("expandable"),u&&h.click())};var h=document.getElementById(e.expandBtnId);h.onclick=function(){u=!u,u?(s||(r(),a()),s.style.display="block",h.classList.add("expanded")):(s.style.display="none",h.classList.remove("expanded"))};var p=t.em2px(.3,f);return{refreshSize:function(){f.refreshSize({recalcSizes:!0})}}}function p(e,o,n){function i(t){t?o():++s>1&&setTimeout(o,50)}function r(t){return t.classList&&t.classList.contains("disabled")}if(e&&o){var a;a="function"==typeof n?n:function(e){function o(t){c===l.none&&(t.classList.remove(i),t.classList.remove(r),t.classList.add(a))}function n(t){t.classList.add(r),c=l.end}var i,r,a,s;"string"==typeof e?i=e:"object"===(void 0===e?"undefined":X(e))&&(i=e.className,a=nimation.clearClassName,r=nimation.endAnimationClassName,s=e.duration),i=i||"pressing",a=a||"clear_animation",r=r||"waiting",s=s||200;var l={begin:"begin",end:"end",none:"none"},c=l.begin,d=function(){},u=t.createAsyncCall(function(){c!==l.begin?(o(this),d()):(n(this),u.call())},void 0,s);return function(t,e){e?(c=l.begin,d=e||function(){},t.classList.remove(a),t.classList.add(i),u.setThisArg(t),u.call()):c!==l.begin?(c=l.none,o(t)):c=l.none}}(n);var s=0,l=function t(o){a(e),o.target===e&&i(),window.removeEventListener("mouseup",t,!1)};e.addEventListener("mousedown",function(){r(e)||(s=0,window.addEventListener("mouseup",l,!1),a(e,i))},!1),e.addEventListener("click",function(t){r(e)||t.isTrusted||i(!0)},!1)}}function m(t,e,o,n,i){var r=o.centralPart.graphicsRoot.getDefs("line_arrows");n=n||1;var a=9*n,s=1*n,l=Math.ceil(a/2);void 0===i&&(i=a),r.createMarker(t).setMarkerWidth(a).setMarkerHeight(a).setRefX(i).setRefY(l).setOrient("auto").createPath().moveToAbs(s,s).lineToAbs(s,a-s).lineToAbs(a-s,l).lineToAbs(s,s).setD().setClass(e)}function g(t,e){t&&t.classList.toggle("invisible",!e)}var v,_,y=[],b="data-tooltip",x=t.addTooltip(document.body,function(t){if(t)return t.getAttribute(b)});window.addEventListener("resize",function(){r(),t.refreshSize(document.body)},!1);var w=t.getElementById("roofline_settings");w.onscroll=r;var C=document.getElementById("roofline_menu_button");C.onclick=function(){var t=document.activeElement;t&&t.rooflineExplanation&&t.blur(),w.classList.toggle("visible"),C.classList.toggle("close")};var L=function(){function e(){o.style.display="none",o.rooflineElement&&(delete o.rooflineElement.rooflinePopup,delete o.rooflineElement)}var o;return document.addEventListener("click",function(t){o&&o.rooflineElement&&o.rooflineElement!==t.target&&e()},!1),function(n,i,r,l){n&&(r=r||function(){},l=l||function(t){return t},o?o.rooflineElement&&o.rooflineElement!==n&&delete o.rooflineElement.rooflinePopup:(o=t.createElement("","roofline_popup","",document.body,"ul"),o.addEventListener("mousedown",function(t){o.idvcClicked=!0}),o.addEventListener("click",function(t){if(o.idvcClicked=!1,t.target&&"li"===t.target.nodeName.toLowerCase()){var n=t.target.getAttribute("data-value");o.rooflinePopupCallback&&o.rooflinePopupCallback(n),e()}})),o.rooflinePopupCallback=r,o.innerHTML=i.map(function(t){return'<li data-value="'+t+'">'+l(t)+"</li>"}).join(""),i.length?(n.rooflinePopup=o,o.rooflineElement=n,o.style.display="block",a(n,o),s(o,0)):e())}}(),k=["AliceBlue","AntiqueWhite","Aqua","Aquamarine","Azure","Beige","Bisque","Black","BlanchedAlmond","Blue","BlueViolet","Brown","BurlyWood","CadetBlue","Chartreuse","Chocolate","Coral","CornflowerBlue","Cornsilk","Crimson","Cyan","DarkBlue","DarkCyan","DarkGoldenRod","DarkGray","DarkGrey","DarkGreen","DarkKhaki","DarkMagenta","DarkOliveGreen","Darkorange","DarkOrchid","DarkRed","DarkSalmon","DarkSeaGreen","DarkSlateBlue","DarkSlateGray","DarkSlateGrey","DarkTurquoise","DarkViolet","DeepPink","DeepSkyBlue","DimGray","DimGrey","DodgerBlue","FireBrick","FloralWhite","ForestGreen","Fuchsia","Gainsboro","GhostWhite","Gold","GoldenRod","Gray","Grey","Green","GreenYellow","HoneyDew","HotPink","IndianRed","Indigo","Ivory","Khaki","Lavender","LavenderBlush","LawnGreen","LemonChiffon","LightBlue","LightCoral","LightCyan","LightGoldenRodYellow","LightGray","LightGrey","LightGreen","LightPink","LightSalmon","LightSeaGreen","LightSkyBlue","LightSlateGray","LightSlateGrey","LightSteelBlue","LightYellow","Lime","LimeGreen","Linen","Magenta","Maroon","MediumAquaMarine","MediumBlue","MediumOrchid","MediumPurple","MediumSeaGreen","MediumSlateBlue","MediumSpringGreen","MediumTurquoise","MediumVioletRed","MidnightBlue","MintCream","MistyRose","Moccasin","NavajoWhite","Navy","OldLace","Olive","OliveDrab","Orange","OrangeRed","Orchid","PaleGoldenRod","PaleGreen","PaleTurquoise","PaleVioletRed","PapayaWhip","PeachPuff","Peru","Pink","Plum","PowderBlue","Purple","Red","RosyBrown","RoyalBlue","SaddleBrown","Salmon","SandyBrown","SeaGreen","SeaShell","Sienna","Silver","SkyBlue","SlateBlue","SlateGray","SlateGrey","Snow","SpringGreen","SteelBlue","Tan","Teal","Thistle","Tomato","Turquoise","Violet","Wheat","White","WhiteSmoke","Yellow","YellowGreen"];return window.onscroll=function(){document.body.classList.contains("data_loading")||document.body.classList.contains("no_data")||window.scrollTo(0,0)},document.body.onselectstart=function(){return!1},v={getTooltipText:e,addTooltipProcessor:function(t){return y&&y.push(t),t},addDefTooltipProcessor:function(t){return _=t,t},hideStdTooltip:function(){x.hide()},tooltipAttr:b,addExplanation:i,markWrong:function(t,e){if(t&&(t.classList.add("wrong_input"),!t.rooflineExplanation)){var o=i(t,e);t.rooflineExplanation=o}},markNormal:function(t){t&&(t.classList.remove("wrong_input"),t.rooflineExplanation&&(document.body.removeChild(t.rooflineExplanation),delete t.rooflineExplanation))},setPopup:L,addPopupNavigation:l,addColorPicker:c,toast:d,filterNumberInput:u},n(v,"tooltipAttr",b),n(v,"flashElement",f),n(v,"addExpansion",h),n(v,"setAnimatedClick",p),n(v,"updatePopupPos",function(e,o){if(o&&o.offsetParent){var n=t.getElementPos(o),i=t.getElementPos(e);n.x+n.width>window.innerWidth&&(o.style.left=window.innerWidth-i.x-n.width-1+"px"),n.x+n.width<i.x+i.width&&(o.style.left=i.width-n.width-1+"px")}}),n(v,"updatePopupWidth",function(t,e){e&&e.offsetParent&&t&&e.offsetWidth<t.offsetWidth&&(e.style.minWidth=t.offsetWidth+1+"px")}),n(v,"getChartAreaPadding",function(){return.05}),n(v,"createLineArrowMarker",m),n(v,"lineBreak","<br/>"),n(v,"setVisible",g),v}.apply(e,i),i=[],d=function(){function t(t,e){var i=o[t];if(i&&i.process)try{i.process(function(t){return"string"==typeof t?new Function("return "+t)():t}(e))}catch(t){n={message:t.message,stack:t.stack,data:e},i.onerror&&i.onerror(t,e),console.error(t)}else"executeScript"===t&&new Function(e)()}var e,o={},n=null;!function(){var o=document.createElement("div");o.style.display="none",o.id="idvc_global_request",o.onclick=function(){var e=o.getAttribute("data-consumer-id");e&&t(e,o.getAttribute("data-consumer-data")),o.setAttribute("data-consumer-id",""),o.setAttribute("data-consumer-data","")},document.body.appendChild(o),e=document.createElement("a"),e.style.display="none",document.body.appendChild(e)}();var i={addConsumer:function(t,e){o[t]=e},receiveData:t,sendNotification:function(t){e&&t&&(window.idvcGlobalSender?window.idvcGlobalSender.sendNotification(t):(e.setAttribute("href","callbackdata:"+t),e.click()))},getLastError:function(){return n},clearLastError:function(){n=null},getLastErrorMessage:function(){function t(t){return t?t+"\n":""}return n?t(n.message)+t(n.stack)+t(n.data):""},isRequestClick:function(t){return t&&(t===e||"idvc_global_request"===t.id)}};return window.idvcGlobalRequest=i,i}.apply(e,i),i=[s,d],u=function(t,e){function o(t,e,n,i){t=t||[],i=i||document.body,e=e||function(){},n=n||function(){};var r=i.childNodes;r&&[].forEach.call(r,function(i){if("svg"!==i.nodeName)switch(i.nodeType){case 1:t.forEach(function(t){e(i,t)}),o(t,e,n,i);break;case 3:n(i)}})}function n(e,n){n=t.getDomElement(n)||document.body,o(e,r,a,n),d()}function i(t){var e=m.exec(t);if(e&&e.length>1)return e[1]}function r(t,e){var o=i(t.getAttribute(e));if(o){var n=f.get(o);n?s(t,e,n):h.set(o,s.bind(window,t,e))}}function a(t){var e=i(t.nodeValue);if(e){var o=f.get(e);o?l(t,o):h.set(e,l.bind(window,t))}}function s(t,e,o){t.setAttribute(e,o)}function l(t,e){t.nodeValue=e}function c(t){t&&(Array.isArray(t)||(t=[t]),t.forEach(function(t){if(t&&t.id){var e=p.get(t.id);e&&(e(t.message),p.delete(t.id)),f.set(t.id,t.message)}}))}function d(){var t="i18n-";h.forEach(function(e,o){t+=o+",",p.set(o,e)}),h.clear(),e.sendNotification(t)}function u(t){e.sendNotification("i18n-"+t)}var f=new Map,h=new Map,p=new Map,m=/^%(\w+)%/;return e.addConsumer("i18n",{process:c}),{processElement:n,processId:function(t,e){var o=f.get(t);o?e(o):(p.set(t,e),u(t))},addMessage:function(t,e){f.set(t,e)},getMessage:function(t){return f.get(t)||""}}}.apply(e,i),i=[],f=function(){function t(t){this._roofsMap=t||{},this._strategyId=void 0,this._threadCount=void 0,this._packageCount=0,this._allRoofsLoaded=!1}function e(t,e){if(t=t||this._threadCount,e=e||this._packageCount,!t)return 0;if(!e||e<=0)return t;var o=parseFloat(t+"."+e);return o||0}function o(t){return Math.floor(t)}function n(t){return t%1}return t.prototype.add=function(t,o,n,i){t&&(o=o||this._threadCount,n=n||this._strategyId,i=i||this._packageCount,this._roofsMap[n]||(this._roofsMap[n]={}),this._roofsMap[n][e(o,i)]=t)},t.prototype.get=function(t,o,n){if(t=t||this._threadCount,o=o||this._strategyId,n=n||this._packageCount,!this._roofsMap[o])return null;var i=e(t,n);return this._roofsMap[o][i]?this._roofsMap[o][i]:null},t.prototype.removeIfEmpty=function(t,o,n){var i=this.get(t,o,n);i&&("object"!==(void 0===i?"undefined":X(i))||Object.keys(i).length||delete this._roofsMap[o][e(t,n)]),this._roofsMap[o]&&(Object.keys(this._roofsMap[o]).length||delete this._roofsMap[o])},t.prototype.forEach=function(t){for(var e in this._roofsMap)for(var i in this._roofsMap[e]){var r=this._roofsMap[e][i];threadCount=o(i),packageCount=n(i);for(var a in r)t(r[a],threadCount,e,packageCount)}},t.prototype.clear=function(){this._roofsMap={},this._strategyId=void 0,this._threadCount=void 0,this._allRoofsLoaded=!1,this._packageCount=void 0},t.prototype.empty=function(){return!Object.keys(this._roofsMap).length},t.prototype.setStrategyId=function(t){t&&(this._strategyId=t)},t.prototype.getStrategyId=function(){return this._strategyId},t.prototype.setThreadCount=function(t){t&&(this._threadCount=t)},t.prototype.getThreadCount=function(t){return this._threadCount},t.prototype.setAllRoofsLoaded=function(t){this._allRoofsLoaded=t},t.prototype.areAllRoofsLoaded=function(){return this._allRoofsLoaded},t.prototype.setPackageCount=function(t){this._packageCount=t||0},t.prototype.getPackageCount=function(){return this._packageCount},{create:function(e){return new t(e)}}}.apply(e,i),i=[s,u,f],h=function(t,e,o){function n(t){return t&&t.resultInfo?t.resultInfo.path||t.resultInfo.caption.toLowerCase():""}function i(){return H?"-":"+"}function r(){return H?"+":"-"}function a(t){if(t){var e=[];return t.forEach(function(t,o){t&&t.state===r()&&e.push({i:o,n:t.name})}),e}}function s(t){function e(t,e){return t.name===e.n}Y&&(Y.forEach(function(o){if(o){var n=t[o.i];n&&e(n,o)&&n.state===i()&&(n.state=r())}}),Y=void 0)}function l(t,e){function o(t){r=Math.min(r,t),a=Math.max(a,t)}function n(t){s=Math.min(s,t),l=Math.max(l,t)}if(t&&Array.isArray(t.loops)){if(e&&!t.wholeMinMax&&void 0!==t.minX&&void 0!==t.maxX&&void 0!==t.minY&&void 0!==t.maxY){var i={minX:t.minX,maxX:t.maxX,minY:t.minY,maxY:t.maxY};t.wholeMinMax=i}if(t.loops.length){var r=Number.MAX_VALUE,a=-Number.MAX_VALUE,s=Number.MAX_VALUE,l=-Number.MAX_VALUE;if(t.loops.forEach(function(t){void 0!==t.x&&void 0!==t.y&&(o(t.x),n(t.y)),void 0!==t.x1&&void 0!==t.y1&&(o(t.x1),n(t.y1))}),t.minX=r,t.maxX=a,t.minY=s,t.maxY=l,e&&!t.fitMinMax&&void 0!==t.minX&&void 0!==t.maxX&&void 0!==t.minY&&void 0!==t.maxY){var c={minX:t.minX,maxX:t.maxX,minY:t.minY,maxY:t.maxY};t.fitMinMax=c}}else t.minX=t.maxX=t.minY=t.maxY=void 0}}function c(t,e){t&&t.forEach(function(t){e(t,void 0)})}function d(t,e,o,n){function i(t,o,n){if(t){var i=!o;t.forEach(function(t){var s;(s="number"==typeof t?a[t]:t)&&(i&&void 0!==s.parent||(e(s,o,n),r.push({loop:s,isHidden:n})))})}}if(t&&X&&X.loops){var r=[],a=X.loops,s=!!n&&"-"!==n.state;i(t,n,s);for(var l=0;l<r.length;l++){var c=r[l];s=c.isHidden||"-"!==c.loop.state,!o&&s||i(c.loop.children,c.loop,s)}}}function u(){O=t.createAsyncCall(window.saveLocalProperty.bind(window,"hierarchy"),window,1e4)}function f(t){t&&t.sort(function(t,e){var o=0;return t.isMem&&!e.isMem?o=-1:!t.isMem&&e.isMem&&(o=1),o||(o=e.val-t.val),o})}function h(t){return!t||(t.state&&"+"!==t.state||!t.state)&&(void 0===t.x||void 0===t.y)}function p(t,e){if(!t)return{};void 0===e&&(e=h(t));var o=e||"+"===t.state?t.x1:t.x,n=e||"+"===t.state?t.y1:t.y;return{x:void 0!==o?o:t.x,y:void 0!==n?n:t.y}}function m(t,e,o){if(!t||!e)return!1;var n=p(t),i=p(e);return Math.abs(n.x1-i.x1)<=o.x&&Math.abs(n.y1-i.y1)<=o.y}function g(t){if(t>=0)return X.loops[t]}function v(t,e){if(t&&e&&(void 0!==t.parent&&(t.parent+=e),t.children))for(var o=0,n=t.children.length;o<n;o++)t.children[o]+=e}function _(t,e,o,n){if(t&&n){for(var i=e,r=U.items.length;i<r;i++)U.items[i].resultInfo.baseIndex+=n;for(i=o,r=t.loops.length;i<r;i++)v(t.loops[i],n)}}function y(){U.items.length||(X.resultInfo?(X.resultInfo.baseIndex=0,X.resultInfo.loopCount=X.loops.length):X.resultInfo={caption:e.getMessage("roofline_compare_current_result_label"),id:"cr",baseIndex:0,loopCount:X.loops.length},X.resultInfo.id=X.resultInfo.id||j(),U.items.push(X))}function b(t){t&&t.length&&(U.items.length||y(),t.forEach(function(t){t&&t.resultInfo&&(t.resultInfo.pointConstructor=F.use()),U.items.push(t)}))}function x(t,e){if(t&&t.loops&&t.resultInfo){U.items.length||y();var o=U.getIndexByPath(t.resultInfo.path);if(o>=0&&(e=U.items[o].resultInfo.baseIndex),e>=0){var n=o>=0?o:U.items.length;t.loops.forEach(function(t){t.resIndex=n,v(t,e)}),t.resultInfo.baseIndex=e,t.resultInfo.loopCount=t.loops.length,t.resultInfo.id=t.resultInfo.id||j(),l(t);var i;return o>=0?(i=U.items[o],t.resultInfo.pointConstructor=i.resultInfo.pointConstructor,U.items[o]=t,i.replasedResultIndex=o):(t.resultInfo.pointConstructor=F.use(),U.items.push(t)),i}}}function w(t){if(t){if(l(t,!0),U.items.length&&void 0!==U.originalLoopsCount){var e=t.loops.length,o=U.originalLoopsCount,n=e-o,i=U.items[0],r=[];X.loops.length>o&&(r=X.loops,r.splice(0,o)),i.resultInfo.loopCount=U.originalLoopsCount=e,r.length&&(t.loops=t.loops.concat(r)),_(t,1,e,n),i.loops&&delete i.loops}X=t,X.compareData&&(b(X.compareData),delete X.compareData),H=!!t.withCallstacks,f(N.get()),t.isFiltered&&M(t.loops)}}function C(t){return t.objId||t.id}function L(t){return t.key}function k(t){var e;if(t.resIndex){var o=U.getItem(t.resIndex);o&&(e=n(o))}return e||t.resIndex||0}function S(t){return C(t)+k(t)}function P(t){return L(t)+k(t)}function R(t){d(t,function(t,e,o){t&&o&&!t.filtered&&(t.filtered=!0)})}function E(t,e,o){function n(t,e,o,n){function i(t,e){var o=P(t);return e.has(o)}function r(t){s.add(t)}if(t&&e&&e.keys){predicate=Z[o]||Z.out;var a=[];e.processing&&(a=e.processing(e.keys,t));var s=new Set;e.keys.forEach(r),a&&a.forEach(r),t.forEach(function(t){predicate(i(t,s))&&(n?t.filtered?t.filtered++:t.filtered=1:(t.filtered||console.error("Filtering undo failed"),--t.filtered||delete t.filtered))})}}t&&o&&(n(t,o[G.in],G.in,e),n(t,o[G.out],G.out,e),n(t,o[G.insubtree],G.insubtree,e))}function M(t){R(t),W.forEach(E.bind(void 0,t,!0))}function T(t){if(X&&t&&t.loops&&t.resultInfo){var e=X.loops.length,o=x(t,e);if(t.isFiltered&&M(t.loops),o){var n=t.loops.length-o.resultInfo.loopCount,i=o.resultInfo.baseIndex+o.resultInfo.loopCount,r=X.loops.slice(0,o.resultInfo.baseIndex),a=X.loops.slice(i);X.loops=r.concat(t.loops,a),i+=n,_(X,o.replasedResultIndex+1,i,n),V(t.resultInfo.path)}else X.loops=X.loops.concat(t.loops);delete t.loops,void 0==U.originalLoopsCount&&(U.originalLoopsCount=e)}}function A(t,e,o){t.matchingLoops&&t.matchingLoops.forEach(e,o||this)}function I(t,e){function o(t,e){t.compared?t.compared.add(e):t.compared=new Set([e])}function n(t){return!!(t.compared.size>=U.items.findIndex(function(e){return e===t})&&t.resultInfo)&&(delete t.resultInfo.comparing,!0)}var i=t.resultInfo&&t.resultInfo.path?t.resultInfo.path:"current";return o(t,e.resultInfo&&e.resultInfo.path?e.resultInfo.path:"current"),o(e,i),n(t)|n(e)}function z(t){var e=t.path1,o=t.path2,n="current"===e?0:U.getIndexByPath(e);if(!(n<0)){var i="current"===o?0:U.getIndexByPath(o);if(!(i<0)&&n!==i){var r=function(t,e,o){return C(t)===C(e)&&Q(t.resIndex,o)};return t.comparison&&t.comparison.length>0?t.comparison.forEach(function(t){var a=X.loops.find(function(o){return r(o,t[e],n)});if(a){var s=X.loops.find(function(e){return r(e,t[o],i)});if(s){a.matchingLoops||(a.matchingLoops=[]),s.matchingLoops||(s.matchingLoops=[]);var l=a.matchingLoops.findIndex(function(t){return Q(s.resIndex,t.resIndex)});a.matchingLoops.splice(l,l>-1?1:0,s);var c=s.matchingLoops.findIndex(function(t){return Q(a.resIndex,t.resIndex)});s.matchingLoops.splice(c,c>-1?1:0,a)}}},this):X.loops.forEach(function(t){function e(e,o){t&&Q(t.resIndex,e)&&D(t,o)}e(n,i),e(i,n)}),I(U.items[n],U.items[i])}}}function D(t,e){if(t&&t.matchingLoops&&t.matchingLoops.length){var o=t.matchingLoops.filter(function(t){return!(t&&Q(t.resIndex,e))});delete t.matchingLoops,o.length&&(t.matchingLoops=o)}}function B(t){A(t,function(e){if(e.matchingLoops){var o=e.matchingLoops.indexOf(t);o>-1&&e.matchingLoops.splice(o,1)}}),delete t.matchingLoops}function V(t){U.items.forEach(function(e){return e&&e.compared&&e.compared.delete(t)})}var Y,X,O,H=!1,N=o.create(),W=[],F=function(){var t,e;return{init:function(o){e=o,t=e.concat()},use:function(){if(t&&t.length){var e=t.shift();return t.push(e),e}},unUse:function(e){if(t&&t.length){var o=t.indexOf(e);o>0&&(t.splice(o,1),t.unshift(e))}},revert:function(){t=e.concat()}}}(),U={items:[],originalLoopsCount:void 0,clear:function(){this.items=[],this.originalLoopsCount=void 0,this.minMax&&delete this.minMax},getIndexByPath:function(t){var e=-1;return this.items.some(function(o,n){var i=o.resultInfo.path===t;return i&&(e=n),i}),e},getItem:function(t){return t<this.items.length&&t>=0?this.items[t]:void 0}},j=function(){var t=0;return function(e){return t++,(e=e||"id")+t}}(),G={in:"in",out:"out",insubtree:"insubtree"},Z={in:function(t){return!t},out:function(t){return t},insubtree:function(t){return!t}},Q=function(t,e){return!t&&!e||t===e};return{isNewData:function(t){return!!(!X||!t.resultInfo||t.resultInfo.isNew||!U.items.length&&t.resultInfo&&t.resultInfo.replase&&X.resultInfo&&t.resultInfo.id===X.resultInfo.id)},setRooflineData:function(t,e,o,n){t&&(this.isNewData(t)?(N.clear(),e&&o&&(N.setThreadCount(e),N.setStrategyId(o),N.setPackageCount(n),t.allRoofs?(t.allRoofs.forEach(function(t){N.add(t.roofs,t.threadCount,t.strategyId,t.packageCount)}),delete t.allRoofs):t.roofs&&t.roofs.length&&(N.add(t.roofs),delete t.roofs)),w(t)):T(t),U.minMax&&delete U.minMax)},updateComparisonResults:function(t){var e=z(t);return t.isLastComparison&&this.isFiltered()&&(this.forEachLoopsSimple(this.getLoops(),function(t){t.filtered&&delete t.filtered}),M(this.getLoops())),e},getRooflineData:function(){return X},getRooflineData4Loop:function(t){if(t)return t.resIndex?U.items[t.resIndex]:X},getMemoryLevelPrefix:function(t,e){return e=e||this.getRooflineData4Loop(t),t&&t.memoryLevelPref||(e&&e.memoryLevelPref?e.memoryLevelPref:"L1 ")},isHierarchical:function(){return H},getProp:function(t){if(X)return X[t]},getProgramTotalValue:function(t,e){var o=0;return X&&e&&(t=t||0,o=t>0&&t<U.items.length?U.items[t][e]:X[e]),o||0},getLoops:function(){return X&&X.loops?X.loops:[]},getRoofs:function(t,e,o){return N.get(t,e,o)||[]},getParent:function(t,e){if(t&&X&&X.loops&&void 0!==t.parent){if(e)for(var o;(o=g(t.parent))&&m(t,o,e);)t=o;return g(t.parent)}},setHierarchicalData:function(t){Y=t},addRoofs:function(t,e,o,n){t&&(f(t),N.add(t,e,o,n))},setRoofsStrategyId:function(t){N.setStrategyId(t)},getRoofsStrategyId:function(){return N.getStrategyId()},setThreadCount:function(t){N.setThreadCount(t)},getThreadCount:function(){return N.getThreadCount()},setPackageCount:function(t){N.setPackageCount(t)},getPackageCount:function(){return N.getPackageCount()},setAllRoofsLoaded:function(t){N.setAllRoofsLoaded(t)},areAllRoofsLoaded:function(){return N.areAllRoofsLoaded()},applySavedHierarchy:s,saveHierarchy:function(){X&&(O||u(),O.call(a(X.loops)))},isNoLoopPosition:h,getLoopPosition:p,forEachLoops:d,forEachLoopsSimple:c,forEachChildren:function(t,e,o){if(t&&t.children&&X&&X.loops){for(var n;o&&t.children&&1===t.children.length&&(n=g(t.children[0]))&&n.children&&n.children.length&&m(t,n,o);)t=n;t&&t.children&&t.children.forEach(function(t){var o=g(t);o&&e(o)})}},forEachChildrenEx:function(t,e,o){t&&this.forEachLoops(t.children,e,o,t)},forEachRoofs:function(t){this.getRoofs().forEach(t)},forEachAllRoofs:function(t){N.forEach(t)},isResultEmpty:function(t){var e=U.items[t];return!(e&&0!==e.resultInfo.loopCount)},getResultCount:function(){return U.items.length},getResultCaption:function(t){var e=U.items[t];if(e&&e.resultInfo)return e.resultInfo.caption},getResultInfo:function(t){var e=U.items[t];return e&&e.resultInfo},getResultIndex:function(t){return U.getIndexByPath(t)},setExtraData:function(t,e,o){function n(o){o&&(o.extraData||(o.extraData={}),o.extraData[t]=e)}n(o?U.items[o]:X)},getExtraData:function(t,e){function o(e){if(e&&e.extraData)return e.extraData[t]}return o(e?U.items[e]:X)},removeResult:function(t){if(!(t<=0)){var e=U.items[t];if(e&&e.resultInfo){F.unUse(e.resultInfo.pointConstructor);for(var o=e.resultInfo.loopCount,n=e.resultInfo.baseIndex,i=n;i<n+o;++i)B(X.loops[i]);X.loops.splice(n,o),V(e.resultInfo.path),U.items.splice(t,1),o>0&&_(X,t,n,-o);for(var i=n,r=X.loops.length;i<r;i++){var a=X.loops[i];a.resIndex&&(a.resIndex-=1)}U.items.length<=1&&(U.clear(),F.revert())}}},removeResultByPath:function(t){if(!t)return!1;var e=U.getIndexByPath(t);return this.removeResult(e),e>=1},clearCompareData:function(){if(void 0!==U.originalLoopsCount){var t=X.loops.length-U.originalLoopsCount;X.loops.splice(U.originalLoopsCount,t),X.loops.forEach(function(t){B(t)}),U.clear(),F.revert()}},getCompareData:function(){for(var e=[],o=1,n=U.items.length;o<n;o++){var i={};t.copyObject(U.items[o],i,function(t,e){return 0!==e.indexOf("roof")&&"compareItem"!==e}),e.push(i)}return e},forEachMatchingLoops:A,getMinMax:function(){var t=[{name:"minX",fn:Math.min},{name:"minY",fn:Math.min},{name:"maxX",fn:Math.max},{name:"maxY",fn:Math.max}];if(!U.minMax){var e={minX:0,minY:0,maxX:0,maxY:0};X&&t.forEach(function(t){e[t.name]=X[t.name]});var o=U.items.length;if(o>1)for(var n=1;n<o;n++){var i=U.items[n];t.forEach(function(t){var o=i[t.name];void 0!==o&&(e[t.name]=t.fn(o,e[t.name]))})}U.minMax=e}return U.minMax},getViewFrame:function(){var t={minIntens:0,minPerf:0,maxIntens:0,maxPerf:0};return X&&(t.minIntens=X.minIntens,t.minPerf=X.minPerf,t.maxIntens=X.maxIntens,t.maxPerf=X.maxPerf),t},FilterOperation:G,clearFiltering:function(){var t=W;return W=[],this.forEachLoopsSimple(this.getLoops(),function(t){t.filtered&&delete t.filtered}),t},isFiltered:function(){return!!W.length},addFilterInfo:function(t){t&&(Array.isArray(t)||(t=[t]),W.length||R(this.getLoops()),t.forEach(E.bind(void 0,this.getLoops(),!0)),W=W.concat(t))},remFilterInfo:function(t){t&&(Array.isArray(t)||(t=[t]),W.length===t.length&&W.every(function(e,o){return e===t[o]})?this.clearFiltering():t.forEach(function(t){var e=W.indexOf(t);e>=0&&(E(this.getLoops(),!1,t),W.splice(e,1))}.bind(this)))},getLoopId:S,getLoopKey:P,getLoopByIndex:g,setPointConstructors:function(t){F.init(t)},getPointConstructor:function(t){var e;if(t>0){var o=U.items[t];o&&o.resultInfo&&(e=o.resultInfo.pointConstructor)}return e},setWholeView:function(t){var e;(e=t?X.wholeMinMax:X.fitMinMax)&&(X.minX=e.minX,X.maxX=e.maxX,X.minY=e.minY,X.maxY=e.maxY,delete U.minMax)}}}.apply(e,i),i=[],p=function(){function t(){this._subscribers=[]}return t.prototype.find=function(t,e){for(var o=0,n=this._subscribers.length;o<n;o++)if(t===this._subscribers[o].obj&&(e===this._subscribers[o].funct||void 0===e&&void 0===this._subscribers[o].funct))return o;return-1},t.prototype.subscribe=function(t,e){this.find(t,e)<0&&this._subscribers.push({obj:t,funct:e})},t.prototype.unsubscribe=function(t,e){var o=this.find(t,e);o>=0&&this._subscribers.splice(o,1)},t.prototype.unsubscribeAll=function(t){for(var e=this._subscribers.length-1;e>=0;e--)t===this._subscribers[e].obj&&this._subscribers.splice(e,1)},t.prototype.raise=function(){for(var t=0;t<this._subscribers.length;t++){var e=this._subscribers[t].obj||window;this._subscribers[t].funct?this._subscribers[t].funct.apply(e,arguments):e.raise&&e.raise.apply(e,arguments)}},t.prototype.clear=function(){this._subscribers.length=0},{create:function(){return new t}}}.apply(e,i),i=[l,c,h,p],m=function(t,e,o,n){function i(){function t(t){return!t||void 0!==t.minX&&void 0!==t.minY&&void 0!==t.maxX&&void 0!==t.maxY}function e(t,e){if(a||(a={}),a.frames||(a.frames=[]),void 0===a.zoomIndex&&(a.zoomIndex=-1),void 0===a.index?a.index=-1:a.index<a.frames.length-1&&a.frames.splice(a.index+1),a.frames.push(t),a.index++,e&&(a.zoomIndex=a.index),a.frames.length>s){var o=Math.round(s/2);a.frames.splice(0,o),a.index-=o,a.zoomIndex-=o}}function i(t,e,o){t=t||2,o=o||function(t){return t};var n=this.getMinMax(),i=n.maxX-n.minX,r=n.maxY-n.minY;e=e||{x:n.minX+i/2,y:n.minY+r/2};e.x<=n.minX&&(e.x=n.minX+.05*i),e.x>=n.maxX&&(e.x=n.maxX-.05*i),e.y<=n.minY&&(e.y=n.minY+.05*r),e.y>=n.maxY&&(e.y=n.maxY-.05*r);var a=e.x-n.minX,s=n.maxX-e.x,l=e.y-n.minY,c=n.maxY-e.y;return n.minX=e.x-o(a,t),n.maxX=e.x+o(s,t),n.minY=e.y-o(l,t),n.maxY=e.y+o(c,t),this.setZoom(n)}function r(t){if(t){var e=o.getRooflineData(),n=0;t.minX-1e-7<e.minIntens&&(t.minX=e.minIntens,n++),t.maxX+1e-7>e.maxIntens&&(t.maxX=e.maxIntens,n++),t.minY-1e-7<e.minPerf&&(t.minY=e.minPerf,n++),t.maxY+1e-7>e.maxPerf&&(t.maxY=e.maxPerf,n++),4===n&&(t.isNoZoom=!0),(t.maxX<=t.minX||t.maxY<=t.minY)&&(t.isWrongZoom=!0)}return t}var a={},s=200;return{zoomChanged:n.create(),undoListChanged:n.create(),zoomIn:function(t,e){return i.call(this,t,e,function(t,e){return t/e})},zoomOut:function(t,e){if(this.getCurrentZoom())return i.call(this,t,e,function(t,e){return t*e})},setZoom:function(t,o){var n=!1;if(t=r(t),!t.isWrongZoom){var i=this.getCurrentZoom();if(!i||i.minX!=t.minX||i.maxX!=t.maxX||i.minY!=t.minY||i.maxY!=t.maxY){Math.abs(t.maxX-t.minX)>.02&&Math.abs(t.maxX-t.minX)>.02&&(e(t,!0),this._notifyChangeZoomState(o),n=!0)}return n}},addUndoFrame:function(t){e(t),this._notifyChangeUndoList()},getCurrentZoom:function(){var t;return a&&a.frames&&void 0!==a.zoomIndex&&a.zoomIndex>=0&&(t=r(a.frames[a.zoomIndex]))&&t.isNoZoom&&(t=void 0),t},undoZoom:function(){a&&a.frames&&a.index>=0&&(this._checkCurrentFrame(),a.index--,this._notifyChangeUndoList(),this._updateZoomFrame(!0))},redoZoom:function(){a&&a.frames&&a.index<a.frames.length-1&&(a.index++,this._checkCurrentFrame(),this._notifyChangeUndoList(),this._updateZoomFrame())},cancelZoom:function(){if(a&&a.frames){var t=o.getRooflineData();this.setZoom({minX:t.minIntens,maxX:t.maxIntens,minY:t.minPerf,maxY:t.maxPerf})}},getZoomState:function(){var t=!1,e=!1,o=!1;if(a&&(t=a.index>=0,a.frames)){e=a.index<a.frames.length-1;var n=this.getCurrentZoom();n=r(n),o=n&&!n.isNoZoom}return{undo:t,redo:e,cancel:o}},getMinMax:function(t){var e=o.getViewFrame(),n=o.getMinMax(),i=(t?0:e.minIntens)||n.minX,r=(t?0:e.maxIntens)||n.maxX,a=(t?0:e.minPerf)||n.minY,s=(t?0:e.maxPerf)||n.maxY,l=this.getCurrentZoom();return l&&(i=l.minX,r=l.maxX,a=l.minY,s=l.maxY),{minX:i,maxX:r,minY:a,maxY:s}},saveMinMax:function(t){(t=t||o.getRooflineData())&&void 0!==t.minIntens&&void 0!==t.maxIntens&&void 0!==t.minPerf&&void 0!==t.maxPerf&&(this.minMaxFrame={minX:t.minIntens,maxX:t.maxIntens,minY:t.minPerf,maxY:t.maxPerf})},moveCurrentZoomFrame:function(t,e){var o,n=this.getCurrentZoom();return n&&(o={minX:n.minX+t,maxX:n.maxX+t,minY:n.minY+e,maxY:n.maxY+e},o=r(o)),o},clearDataUndo:function(){if(a&&a.frames)for(var e=a.frames.length-1;e>=0;e--)t(a.frames[e])||(a.frames.splice(e,1),void 0!==a.zoomIndex&&a.zoomIndex>=e&&a.zoomIndex--,void 0!==a.index&&a.index>=e&&a.index--)},_checkCurrentFrame:function(){if(a){var t=a.frames[a.index];t&&t.process&&t.process()}},_updateZoomFrame:function(e){if(a){var o,n=a.frames[a.index];if(t(n))o=a.index;else if(e&&a.zoomIndex>a.index)for(o=a.index-1,n=a.frames[o];!t(n);)o--,n=a.frames[o];void 0!==o&&a.zoomIndex!==o&&(a.zoomIndex=o,this._notifyChangeZoomState())}},_notifyChangeZoomState:function(t){this.zoomChanged.raise(t)},_notifyChangeUndoList:function(){this.undoListChanged.raise()}}}var r,a={init:function(){if(!this.maxPerfEdit){this.maxPerfEdit=document.getElementById("frame_max_perf"),this.maxPerfEdit.onblur=this._checkValue.bind(this,"maxY"),this.minPerfEdit=document.getElementById("frame_min_perf"),this.minPerfEdit.onblur=this._checkValue.bind(this,"minY"),this.maxIntensEdit=document.getElementById("frame_max_intens"),this.maxIntensEdit.onblur=this._checkValue.bind(this,"maxX"),this.minIntensEdit=document.getElementById("frame_min_intens"),this.minIntensEdit.onblur=this._checkValue.bind(this,"minX"),this.maxPerfEdit.onkeypress=this.minPerfEdit.onkeypress=this.maxIntensEdit.onkeypress=this.minIntensEdit.onkeypress=e.filterNumberInput;document.getElementById("frame_apply_btn").onclick=this.apply.bind(this);document.getElementById("frame_cancel_btn").onclick=this.close.bind(this)}var t=this._getEditableFrame();this.maxPerfEdit.value=t.maxY,this.minPerfEdit.value=t.minY,this.maxIntensEdit.value=t.maxX,this.minIntensEdit.value=t.minX},apply:function(){var e=this._getEditableFrame();e.minX.toString()===this.minIntensEdit.value&&e.maxX.toString()===this.maxIntensEdit.value&&e.minY.toString()===this.minPerfEdit.value&&e.maxY.toString()===this.maxPerfEdit.value||r.setZoom({maxY:t.log10(this.maxPerfEdit.value),minY:t.log10(this.minPerfEdit.value),maxX:t.log10(this.maxIntensEdit.value),minX:t.log10(this.minIntensEdit.value)}),this.close()},close:function(){s.classList.remove("expanded")},_checkValue:function(e,o){var n=o.target,i=n.value;if(isNaN(i)||!i){var a=r.getMinMax();n.value=t.formatVal(a[e],4,!0)}},_getEditableFrame:function(){var e=r.getMinMax();return{maxY:t.formatVal(e.maxY,4,!0),minY:t.formatVal(e.minY,4,!0),maxX:t.formatVal(e.maxX,4,!0),minX:t.formatVal(e.minX,4,!0)}}},s=document.getElementById("roofline_frame_settings");return s.onclick=function(){!s.classList.contains("expanded")&&r&&(a.init(),s.classList.add("expanded"))},{get:function(){return r||(r=i()),r}}}.apply(e,i),i=[s,p],g=function(t,e){function o(t,e){return{get:function(){var o=c.getState();return e?!!o[t]:!1!==o[t]},set:function(e){var o=c.getState();o[t]!==e&&(o[t]=e,c.save(t))}}}function n(t,e,o){t&&t.doProcessing&&e&&e(o)}function i(e,o,i,r,a){var s=t.getDomElement(e);s&&(a=a||function(t){return t},s.onchange=function(t){c.save(o),i&&i(t.target.checked)},c.addProcessor(o,{apply:function(t,e){if(t){var l=a(!0),c=a(!1);s.checked=r?t[o]===l:t[o]!==c,n(e,i,s.checked)}},saveState:function(t){t[o]=a(s.checked)}}))}function r(e,o,i,r,a){var s=t.getDomElement(e);s&&(a=a||function(t){return t},s.onchange=function(t){c.save(o),i&&i(t.target.selectedIndex)},c.addProcessor(o,{apply:function(t,e){if(t){var l=r,c=t[o];if(void 0!==c){var d=a(c);if(c===d)l=d;else for(var u=0,f=s.length;u<f;u++)if(c===a(u)){l=u;break}}l>=s.length&&(l=s.length-1),s.selectedIndex=l,n(e,i,s.selectedIndex)}},saveState:function(t){t[o]=a(s.selectedIndex)}}))}function s(e,o,i,r,a){var s=t.getDomElement(e);s&&(s.oninput=function(t){i&&i(t.target.value)&&c.save(o),r&&r(t.target.value)},c.addProcessor(o,{apply:function(t,e){if(t){var i=a,l=t[o];void 0!==l&&(i=l),s.value=i,n(e,r,s.value)}},saveState:function(t){var e=t[o],n=s.value;n!==e&&(n&&n!==a?t[o]=n:e&&delete t[o])}}))}function l(e,o,i,r){function a(t){return d?parseInt(t):t}function s(t){return l.querySelector('input[value="'+t+'"]')}var l=t.getDomElement(e);if(l){var d=Number.isInteger(r),u=r;l.onchange=function(t){t&&t.target&&(u=a(t.target.value),c.save(o),i&&i(u))},c.addProcessor(o,{apply:function(t,e){if(t){var r=t[o];r&&(u=r);var a=s(u);if(a)a.checked=!0;else if(d)for(var l=u-1;l>=0;l--)if(a=s(l)){a.checked=!0,u=l;break}n(e,i,u)}},saveState:function(t){u!==r?t[o]=u:delete t[o]}})}}var c=function(){function e(){i&&i("rooflineState-"+JSON.stringify(l))}function o(t){Object.getOwnPropertyNames(r).forEach(function(e){var o=r[e];o&&t&&t(o)})}var n,i,r={},s=!1,l={},c=!1;return{init:function(t,e){i=e,new Promise(function(t){t()}).then(function(){var e=[a];(function(){window.rooflineState&&(l=window.rooflineState,delete window.rooflineState),t()}).apply(null,e)}).catch(t.bind(this))},disableSaving:function(){s=!0},enableSaving:function(){s=!1},apply:function(e,n){if(e&&t.applyObjectProperties(l,e),l){var i=[].slice.call(arguments,2),a=function(t){t&&t.apply&&this._callProcessor(t,t.apply,l,i)}.bind(this);n?a(r[n]):(o(a),c=!0)}},save:function(o){if(!s){if(o){var i=r[o];if(i&&i.saveState){var a=[].slice.call(arguments,1);this._callProcessor(i,i.saveState,this.getState(),a)}}d.onChangeSettings.raise(o),n||(n=t.createAsyncCall(e,void 0,2e3)),n.call()}},changeSetting:function(t,e,o){this.getState()[t]=e,this.apply(void 0,t,o?{doProcessing:!0}:void 0)},onClose:function(){n&&n.isCalled()&&(n.cancel(),e())},getState:function(e){var n=!!e;if(e=e||l||{},n){t.copyObject(l,e);var i=[].slice.call(arguments,1);o(function(t){t&&t.saveState&&this._callProcessor(t,t.saveState,e,i)}.bind(this))}return e},addProcessor:function(t,e){return e&&(r[t]=e),c&&this.apply(void 0,t),e},_callProcessor:function(t,e,o,n){e&&t&&(n=n||[],e.apply(t,[o].concat(n)))}}}(),d={onChangeSettings:e.create(),get:function(){return c},addBoolSetting:o,addCheckSetting:i,addComboSetting:r,addTextSetting:s,addRadioGroupSetting:l};return d}.apply(e,i),i=[s],v=function(t){function e(t,e){if(t){var o=t[e];o&&o()}}function o(t){if(window.cefCreateMenu){var o=t.map(function(t){return{caption:t.caption,id:t.id,disabled:!!t.disabled}}),n={};return t.forEach(function(t){void 0!==t.id&&(n[t.id]=t.command)}),window.cefProcessMenuCommand=e.bind(void 0,n),window.cefCreateMenu(o),!0}return!1}function n(e,n,s){if(e=e||[],i.forEach(function(t){t.process(e)}),e.forEach(function(t,e){"-"!==t.caption&&(t.id=e+1)}),!o(e)){a=!0;var l=t.getElementById(r);l||(l=c.createMenu()),t.removeAllChildren(l),e.forEach(function(t){l.appendChild(c.createMenuItem(t))}),c.showMenu(l,n,s)}}var i=[],r="defContextMenu",a=!1,s={createMenu:function(){return menu=document.createElement("menu"),menu.setAttribute("id",r),menu.setAttribute("type","context"),menu.style.display="none",t.getElementById("roofline_content").setAttribute("contextmenu",r),document.body.appendChild(menu),menu},createMenuItem:function(t){var e;return"-"!==t.caption?(e=document.createElement("menuitem"),e.setAttribute("label",t.caption),e.onclick=t.command,t.disabled&&e.setAttribute("disabled","")):e=document.createElement("hr"),e},showMenu:function(t,e,o){}},l={shownMenu:void 0,createMenu:function(){return menu=t.createElement("","idvc_context_menu","",document.body,"div"),menu.style.display="none",menu},createMenuItem:function(e){var o;return"-"!==e.caption?(o=t.createElement(e.caption,"idvc_context_menu_item","",void 0,"div"),e.disabled&&o.classList.add("disabled"),o.onclick=this._processClick.bind(this,e.command)):o=t.createElement("","idvc_context_menu_separator","",void 0,"div"),o},showMenu:function(t,e,o){this.shownMenu&&(this.shownMenu.style.display="none"),this.shownMenu=t,t.style.display="block",this._setMenuPos(t,e,o),document.addEventListener("click",l._documentClick,!1)},defMenuProcessing:function(t){t.stopPropagation(),t.preventDefault()},_processClick:function(t,e){e.target&&e.target.classList.contains("disabled")?(e.stopPropagation(),e.preventDefault()):setTimeout(t,0)},_documentClick:function(t){0===t.button&&l._hideMenu()},_hideMenu:function(){this.shownMenu&&(this.shownMenu.style.display="none",this.shownMenu=void 0,document.removeEventListener("click",this._documentClick,!1))},_setMenuPos:function(t,e,o){e<0?e=0:e+t.offsetWidth>window.innerWidth+window.scrollX&&(e=window.innerWidth+window.scrollX-t.offsetWidth),o<0&&(o=0),o+t.offsetHeight>window.innerHeight+window.scrollY&&(o=window.innerHeight+window.scrollY-t.offsetHeight),t.style.left=e+"px",t.style.top=o+"px"}},c=s;"moz"!==t.Consts.engine&&(c=l),window.cefCreateMenu&&(c=void 0),document.addEventListener("contextmenu",function(t){a||d.clear(),a=!1},!1);var d={show:n,addProcessor:function(t){i.push(t)},clear:function(){var e=t.getElementById(r);e&&t.removeAllChildren(e)},defProcessing:function(t){c&&c.defMenuProcessing&&c.defMenuProcessing(t)}};return d}.apply(e,i),i=[s],_=function(t){function e(t){this.el=document.createElementNS(R,t),this.el.owner=this}function o(t){e.call(this,t)}function n(){e.call(this,"filter")}function i(t){e.call(this,t)}function r(){i.call(this,"linearGradient")}function a(){i.call(this,"radialGradient")}function s(){e.call(this,"path"),this.segs=[]}function l(){e.call(this,"rect")}function c(){e.call(this,"image")}function d(){e.call(this,"line")}function u(){e.call(this,"circle")}function f(){e.call(this,"ellipse")}function h(t){return t.join(" ")}function p(t){var e=[];return t&&(e=t.split(" ").map(function(t){return t.split(",").map(function(t){return parseFloat(t)})})),e}function m(){e.call(this,"polyline")}function g(){e.call(this,"polygon")}function v(t,o){o=o||"text",e.call(this,o),void 0!==t&&this.setText(t)}function _(){e.call(this,"use")}function y(t){e.call(this,t)}function b(){y.call(this,"defs")}function x(){y.call(this,"clipPath")}function w(){y.call(this,"pattern")}function C(t){y.call(this,t)}function L(){C.call(this,"marker")}function k(t){C.call(this,"svg"),this.id=E(),this.setId(this.id),t&&(this._simpleCTM=!0),this.setAttr("preserveAspectRatio","none")}function S(t,e,o){var n;return this._simpleCTM?(n=this[e])||(this[e]=n=t[o]()):n=t[o](),n}function P(t,e){return t=t||"idvc_canvas",new k(e).setClass(t)}var R="http://www.w3.org/2000/svg",E=function(){var t=0;return function(){return"SVG_"+t+++"_"}}();return e.prototype.activate=function(){return this.el.classList.add("idvc_active"),this},e.prototype.deactivate=function(){return this.el.classList.remove("idvc_active"),this},e.prototype.hide=function(){return this.el.classList.add("idvc_hidden"),this},e.prototype.isHidden=function(){return this.el.classList.contains("idvc_hidden")},e.prototype.show=function(){return this.el.classList.remove("idvc_hidden"),this},e.prototype.getAttr=function(t,e){e=e||null;var o;return t&&(o=this.el.getAttributeNS(e,t)),o},e.prototype.setAttr=function(t,e,o){return o=o||null,t&&void 0!==e&&this.el.setAttributeNS(o,t,e),this},e.prototype.remAttr=function(t,e){return e=e||null,t&&this.el.removeAttributeNS(e,t),this},e.prototype.setRef=function(t){return this.setAttr("href",t,"http://www.w3.org/1999/xlink")},e.prototype.remRef=function(){return this.remAttr("href","http://www.w3.org/1999/xlink")},e.prototype.setClass=function(t){return t=t||"",this.setAttr("class",t)},e.prototype.addClass=function(t){return this.el.classList.add(t),this},e.prototype.remClass=function(t){return this.el.classList.remove(t),this},e.prototype.hasClass=function(t){return this.el.classList.contains(t)},e.prototype.toggleClass=function(t){return this.el.classList.toggle(t),this},e.prototype.getStyle=function(){return this.getAttr("style")},e.prototype.setStyle=function(t){return this.setAttr("style",t)},e.prototype.style=function(t,e){return this.el.style[t]=e,this},e.prototype.setId=function(t){return this.setAttr("id",this.getLocalId(t))},e.prototype.getLocalId=function(t){if(t){var e=this.getCanvas();return e?e.getLocalId(t):t}},e.prototype.getElementById=function(t){if(t){var e=this.getCanvas();return e?e.getElementById(t):void 0}},e.prototype.localRef=function(t){return"#"+this.getLocalId(t)},e.prototype.localUrl=function(t){return"url("+this.localRef(t)+")"},e.prototype.setTransform=function(t){return this.setAttr("transform",t)},e.prototype.setTitle=function(t){for(var e=this.el;e.hasChildNodes();)e.removeChild(e.lastChild);var o=document.createElementNS(R,"title");o.textContent=t,e.appendChild(o)},e.prototype.getCanvas=function(){var t=this.el.ownerSVGElement;if(t)return t.owner},e.prototype.getViewport=function(){var t=this.el.viewportElement;if(t)return t.owner},e.prototype.getParent=function(){var t=this.el.parentNode;if(t)return t.owner},e.prototype.createAnimation=function(t,e){var n=new o(t);return this.el.appendChild(n.el),n.setId(e),n},e.prototype.setFilter=function(t){return this.setAttr("filter",this.localUrl(t)),this},e.prototype.remFilter=function(t){return this.remAttr("filter"),this},e.prototype.getBoundingRect=function(){var t;try{t=this.el.getBBox()}catch(e){t=new DOMRect(0,0,0,0)}return t},e.prototype.remove=function(){var t=this.el.parentNode;return t&&t.removeChild(this.el),this},e.prototype.release=function(){return delete this.el.owner,this},e.prototype.front=function(){var t=this.getParent();return t&&t.toFront(this),this},e.prototype.back=function(){var t=this.getParent();return t&&t.toBack(this),this},e.prototype.before=function(t){var e=this.getParent();return e&&e.beforeElement(this,t),this},e.prototype.after=function(t){var e=this.getParent();return e&&e.afterElement(this,t),this},e.prototype.on=function(t,e,o){return void 0===o&&(o=!1),this.el.addEventListener(t,e,o),this},e.prototype.off=function(t,e,o){return void 0===o&&(o=!1),this.el.removeEventListener(t,e,o),this},e.prototype.createTransform=function(){var t=this.el.ownerSVGElement,e=this.el.scaleIndependentXForm=t.createSVGTransform();return this.el.transform.baseVal.clear(),this.el.transform.baseVal.appendItem(e),e},o.prototype=Object.create(e.prototype),o.prototype.setPath=function(t){var o=new e("mpath");return this.el.appendChild(o.el),o.setRef(this.localRef(t)),this},n.prototype=Object.create(e.prototype),n.prototype.addElement=function(t){var o=new e(t);return this.el.appendChild(o.el),o},i.prototype=Object.create(e.prototype),i.prototype.addStop=function(t,o,n){var i=new e("stop");return this.el.appendChild(i.el),i.setAttr("offset",t),i.setAttr("stop-color",o),n&&i.setAttr("stop-opacity",n),this},i.prototype.addStopClass=function(t,o){var n=new e("stop");return this.el.appendChild(n.el),n.setAttr("offset",t),n.setAttr("class",o),this},i.prototype.setTransform=function(t){return this.setAttr("gradientTransform",t)},i.prototype.useAbsoluteCoords=function(){return this.setAttr("gradientUnits","userSpaceOnUse")},i.prototype.clear=function(){return t.removeAllChildren(this.el),this},r.prototype=Object.create(i.prototype),r.prototype.setX1=function(t){return this.setAttr("x1",t)},r.prototype.setY1=function(t){return this.setAttr("y1",t)},r.prototype.setX2=function(t){return this.setAttr("x2",t)},r.prototype.setY2=function(t){return this.setAttr("y2",t)},r.prototype.setTopBottom=function(){return this.setX1("0%").setX2("0%").setY1("0%").setY2("100%")},r.prototype.setBottomTop=function(){return this.setX1("0%").setX2("0%").setY1("100%").setY2("0%")},r.prototype.setLeftRight=function(){return this.setX1("0%").setX2("100%").setY1("0%").setY2("0%")},r.prototype.setRightLeft=function(){return this.setX1("100%").setX2("0%").setY1("0%").setY2("0%")},a.prototype=Object.create(i.prototype),a.prototype.setCX=function(t){return this.setAttr("cx",t)},a.prototype.setCY=function(t){return this.setAttr("cy",t)},a.prototype.setR=function(t){return this.setAttr("r",t)},a.prototype.setFX=function(t){return this.setAttr("fx",t)},a.prototype.setFY=function(t){return this.setAttr("fy",t)},s.prototype=Object.create(e.prototype),s.prototype.setD=function(){return this.setAttr("d",this.segs.join(" "))},s.prototype.moveToAbs=function(t,e){return this.segs.push("M "+t+" "+e),this},s.prototype.moveToRel=function(t,e){return this.segs.push("m "+t+" "+e),this},s.prototype.lineToAbs=function(t,e){return this.segs.push("L "+t+" "+e),this},s.prototype.lineToRel=function(t,e){return this.segs.push("l "+t+" "+e),this},s.prototype.curveToCubicAbs=function(t,e,o,n,i,r){return this.segs.push("C "+[].join.call(arguments," ")),this},s.prototype.curveToCubicRel=function(t,e,o,n,i,r){return this.segs.push("c "+[].join.call(arguments," ")),this},s.prototype.curveToQuadraticAbs=function(t,e,o,n){return this.segs.push("Q "+[].join.call(arguments," ")),this},s.prototype.curveToQuadraticRel=function(t,e,o,n){return this.segs.push("q "+[].join.call(arguments," ")),this},s.prototype.arcAbs=function(t,e,o,n,i,r,a){return this.segs.push("A "+[].join.call(arguments," ")),this},s.prototype.arcRel=function(t,e,o,n,i,r,a){return this.segs.push("a "+[].join.call(arguments," ")),this},s.prototype.lineToHorizontalAbs=function(t){return this.segs.push("H "+t),this},s.prototype.lineToHorizontalRel=function(t){return this.segs.push("h "+t),this},s.prototype.lineToVerticalAbs=function(t){return this.segs.push("V "+t),this},s.prototype.lineToVerticalRel=function(t){return this.segs.push("v "+t),this},s.prototype.curveToCubicSmoothAbs=function(t,e,o,n){return this.segs.push("S "+[].join.call(arguments," ")),this},s.prototype.curveToCubicSmoothRel=function(t,e,o,n){return this.segs.push("s "+[].join.call(arguments," ")),this},s.prototype.curveToQuadraticSmoothAbs=function(t,e){return this.segs.push("T "+t+" "+e),this},s.prototype.curveToQuadraticSmoothRel=function(t,e){return this.segs.push("t "+t+" "+e),this},s.prototype.closePath=function(){return this.segs.push("Z"),this},s.prototype.getTotalLength=function(){return this.el.getTotalLength()},s.prototype.getPointAtLength=function(t){return this.el.getPointAtLength(t)},s.prototype.getSegmentsCount=function(){return this.segs.length},s.prototype.gatSegment=function(t){return this.segs[t]},s.prototype.clearSegments=function(){return this.segs.length=0,this},s.prototype.animateDrawing=function(t,e,o){e=e||"linear";var n=this.getTotalLength();return this.el.style.transition="none",this.el.style.strokeDasharray=[n,n].join(" "),this.el.style.strokeDashoffset=n,o&&(this.el.style.stroke=o),this.el.getBoundingClientRect(),this.el.style.transition="stroke-dashoffset "+t+" "+e,this.el.style.strokeDashoffset="0",this},l.prototype=Object.create(e.prototype),l.prototype.setX=function(t){return this.setAttr("x",t)},l.prototype.setY=function(t){return this.setAttr("y",t)},l.prototype.setWidth=function(t){return this.setAttr("width",t)},l.prototype.setHeight=function(t){return this.setAttr("height",t)},l.prototype.getX=function(){return this.getAttr("x")},l.prototype.getY=function(){return this.getAttr("y")},l.prototype.getWidth=function(){return this.getAttr("width")},l.prototype.getHeight=function(){return this.getAttr("height")},c.prototype=Object.create(e.prototype),c.prototype.setX=function(t){return this.setAttr("x",t)},c.prototype.setY=function(t){return this.setAttr("y",t)},c.prototype.setWidth=function(t){return this.setAttr("width",t)},c.prototype.setHeight=function(t){return this.setAttr("height",t)},d.prototype=Object.create(e.prototype),d.prototype.setX1=function(t){return this.setAttr("x1",t)},d.prototype.setY1=function(t){return this.setAttr("y1",t)},d.prototype.setX2=function(t){return this.setAttr("x2",t)},d.prototype.setY2=function(t){return this.setAttr("y2",t)},u.prototype=Object.create(e.prototype),u.prototype.setCX=function(t){return this.setAttr("cx",t)},u.prototype.setCY=function(t){return this.setAttr("cy",t)},u.prototype.setR=function(t){return this.setAttr("r",t)},u.prototype.getCX=function(){return this.getAttr("cx")},u.prototype.getCY=function(){return this.getAttr("cy")},u.prototype.getR=function(){return this.getAttr("r")},f.prototype=Object.create(e.prototype),f.prototype.setCX=function(t){return this.setAttr("cx",t)},f.prototype.setCY=function(t){return this.setAttr("cy",t)},f.prototype.setRX=function(t){return this.setAttr("rx",t)},f.prototype.setRY=function(t){return this.setAttr("ry",t)},f.prototype.getCX=function(){return this.getAttr("cx")},f.prototype.getCY=function(){return this.getAttr("cy")},f.prototype.getRX=function(){return this.getAttr("rx")},f.prototype.getRY=function(){return this.getAttr("ry")},m.prototype=Object.create(e.prototype),m.prototype.setPoints=function(t){return t.length?this.setAttr("points",h(t)):this},m.prototype.getPoints=function(){return p(this.getAttr("points"))},g.prototype=Object.create(e.prototype),g.prototype.setPoints=function(t){return t.length?this.setAttr("points",h(t)):this},g.prototype.getPoints=function(){return p(this.getAttr("points"))},v.prototype=Object.create(e.prototype),v.prototype.setX=function(t){return this.setAttr("x",t)},v.prototype.setY=function(t){return this.setAttr("y",t)},v.prototype.setDX=function(t){return this.setAttr("dx",t)},v.prototype.setDY=function(t){return this.setAttr("dy",t)},v.prototype.setText=function(t){return this.textNode?this.textNode.data=t:(this.textNode=document.createTextNode(t),this.el.appendChild(this.textNode)),this},v.prototype.setPath=function(t,o){this.el.removeChild(this.textNode),this.textPath=new e("textPath"),this.el.appendChild(this.textPath.el),this.textPath.el.appendChild(this.textNode),this.textPath.setRef(this.localRef(t)).setAttr("startOffset",o)},v.prototype.addSpan=function(t){var e=new v(t,"tspan");return this.el.appendChild(e.el),e},v.prototype.getSpan=function(t){var e=this.el.children[t];if(e)return e.owner},_.prototype=Object.create(e.prototype),_.prototype.setX=function(t){return this.setAttr("x",t)},_.prototype.setY=function(t){return this.setAttr("y",t)},_.prototype.setWidth=function(t){return this.setAttr("width",t)},_.prototype.setHeight=function(t){return this.setAttr("height",t)},_.prototype.getX=function(){return this.getAttr("x")},_.prototype.getY=function(){return this.getAttr("y")},_.prototype.getWidth=function(){return this.getAttr("width")},_.prototype.getHeight=function(){return this.getAttr("height")},y.prototype=Object.create(e.prototype),y.prototype.appendChild=function(t){return t&&this.el.appendChild(t.el?t.el:t),this},y.prototype.createChild=function(t,e,o,n){var i=new o(n);return e&&this.el.firstChild?this.el.insertBefore(i.el,this.el.firstChild):this.el.appendChild(i.el),i.setId(t),i},y.prototype.toFront=function(t){var e=this.el.removeChild(t.el);return e&&this.el.appendChild(e),this},y.prototype.toBack=function(t){var e=this.el.removeChild(t.el);return e&&this.el.insertBefore(e,this.el.firstChild),this},y.prototype.beforeElement=function(t,e){if(!e)return this.toBack(t);var o=this.el.removeChild(t.el);return o&&e.el&&this.el.insertBefore(o,e.el),this},y.prototype.afterElement=function(t,e){if(!e)return this.toFront(t);var o=this.el.removeChild(t.el);return o&&e.el&&(this.el.lastElementChild===e.el?this.el.appendChild(o):this.el.insertBefore(o,e.el.nextSibling)),this},y.prototype.getChildrenCount=function(){return this.el.children.length},y.prototype.getChild=function(t){return this.el.children[t]},y.prototype.forEach=function(t){return[].forEach.call(this.el.children,t),this},y.prototype.createPath=function(t,e){return this.createChild(t,e,s)},y.prototype.createRect=function(t,e){return this.createChild(t,e,l)},y.prototype.createImage=function(t,e){return this.createChild(t,e,c)},y.prototype.createLine=function(t,e){return this.createChild(t,e,d)},y.prototype.createCircle=function(t,e){return this.createChild(t,e,u)},y.prototype.createEllipse=function(t,e){return this.createChild(t,e,f)},y.prototype.createPolyline=function(t,e){return this.createChild(t,e,m)},y.prototype.createPolygon=function(t,e){return this.createChild(t,e,g)},y.prototype.createText=function(t,e,o){return this.createChild(e,o,v,t)},y.prototype.createUse=function(t,e){return this.createChild(t,e,_)},y.prototype.createG=function(t,e){return this.createChild(t,e,y,"g")},y.prototype.createDefs=function(t,e){return this.createChild(t,e,b)},y.prototype.getDefs=function(t,e){if(t){var o=this.getElementById(t);return o||(o=this.createDefs(t,e)),o}},y.prototype.createClipPath=function(t,e){return this.createChild(t,e,x)},y.prototype.createSymbol=function(t,e){return this.createChild(t,e,C,"symbol")},y.prototype.createCanvas=function(t,e){return this.createChild(t,e,k)},y.prototype.addRect=function(t,e,o,n,i,r,a){return this.createRect(r,a).setX(t).setY(e).setWidth(o).setHeight(n).setClass(i)},y.prototype.addLine=function(t,e,o,n,i,r,a){return this.createLine(r,a).setX1(t).setY1(e).setX2(o).setY2(n).setClass(i)},y.prototype.addText=function(t,e,o,n,i,r){return this.createText(o,i,r).setX(t).setY(e).setClass(n)},y.prototype.clear=function(){return t.removeAllChildren(this.el),this},b.prototype=Object.create(y.prototype),b.prototype.createLinearGradient=function(t,e){return this.createChild(t,e,r)},b.prototype.createRadialGradient=function(t,e){return this.createChild(t,e,a)},b.prototype.createFilter=function(t,e){return this.createChild(t,e,n)},b.prototype.createMarker=function(t,e){return this.createChild(t,e,L)},b.prototype.createPattern=function(t,e){return this.createChild(t,e,w)},x.prototype=Object.create(y.prototype),w.prototype=Object.create(y.prototype),w.prototype.setX=function(t){return this.setAttr("x",t)},w.prototype.setY=function(t){return this.setAttr("y",t)},w.prototype.setWidth=function(t){return this.setAttr("width",t)},w.prototype.setHeight=function(t){return this.setAttr("height",t)},w.prototype.useLocalCoords=function(){return this.setAttr("patternUnits","userSpaceOnUse")},w.prototype.useParentContentCoords=function(){return this.setAttr("patternContentUnits","objectBoundingBox")},C.prototype=Object.create(y.prototype),C.prototype.setViewSize=function(t,e,o,n,i){var r=[t,e,o,n].join(" ");return this.setAttr("viewBox",r),i=i||"none",this.setAttr("preserveAspectRatio",i),this},C.prototype.getViewSize=function(){var t=this.getAttr("viewBox");if(t){var e=t.split(" ");return{minX:parseInt(e[0],10),minY:parseInt(e[1],10),width:parseInt(e[2],10),height:parseInt(e[3],10),par:this.getAttr("preserveAspectRatio")}}},L.prototype=Object.create(C.prototype),L.prototype.setMarkerUnits=function(t){return this.setAttr("markerUnits",t)},L.prototype.setRefX=function(t){return this.setAttr("refX",t)},L.prototype.setRefY=function(t){return this.setAttr("refY",t)},L.prototype.setMarkerWidth=function(t){return this.setAttr("markerWidth",t)},L.prototype.setMarkerHeight=function(t){return this.setAttr("markerHeight",t)},L.prototype.setOrient=function(t){return this.setAttr("orient",t)},k.prototype=Object.create(C.prototype),k.prototype.getCanvas=function(){return this},k.prototype.getElementById=function(t){var e=document.getElementById(this.getLocalId(t));if(e)return e.owner},k.prototype.getLocalId=function(t){return this.id?this.id+t:t},k.prototype.Screen2SVG=function(t,e,o){o=o||this;var n=this.el.createSVGPoint();n.x=t,n.y=e;var i=S.call(this,o.el,"_screenCTM","getScreenCTM");return i?n.matrixTransform(i.inverse()):n},k.prototype.Element2SVG=function(t,e,o){o=o||this;var n=this.el.createSVGPoint();n.x=t,n.y=e;var i=S.call(this,o.el,"_CTM","getCTM");return i?n.matrixTransform(i.inverse()):n},k.prototype.SVG2Screen=function(t,e,o){o=o||this;var n=this.el.createSVGPoint();n.x=t,n.y=e;var i=S.call(this,o.el,"_screenCTM","getScreenCTM");return i?n.matrixTransform(i):n},k.prototype.SVG2Element=function(t,e,o){o=o||this;var n=this.el.createSVGPoint();n.x=t,n.y=e;var i=S.call(this,o.el,"_CTM","getCTM");return i?n.matrixTransform(i):n},k.prototype.Screen2SVGX=function(t,e){return this.Screen2SVG(t,0,e).x},k.prototype.Element2SVGX=function(t,e){return this.Element2SVG(t,0,e).x},k.prototype.SVG2ScreenX=function(t,e){return this.SVG2Screen(t,0,e).x},k.prototype.SVG2ElementX=function(t,e){return this.SVG2Element(t,0,e).x},k.prototype.Screen2SVGY=function(t,e){return this.Screen2SVG(0,t,e).y},k.prototype.Element2SVGY=function(t,e){return this.Element2SVG(0,t,e).y},k.prototype.SVG2ScreenY=function(t,e){return this.SVG2Screen(0,t,e).y},k.prototype.SVG2ElementY=function(t,e){return this.SVG2Element(0,t,e).y},k.prototype.getTextHeight=function(t){t=t||{};var e=this.createText("TEST");void 0!==t.fontFamily&&e.setAttr("font-family",t.fontFamily),void 0!==t.fontSize&&e.setAttr("font-size",t.fontSize),void 0!==t.className&&e.setClass(t.className);var o=e.getBoundingRect().height;return e.remove(),o},k.prototype.createTextBackground=function(t,e){if(t)return e||(e=this.getDefs(t+"Defs")),e.createFilter(t).setAttr("x","0").setAttr("y","0").setAttr("width","1").setAttr("height","1").addElement("feFlood").setAttr("flood-color","white").getParent().addElement("feComposite").setAttr("in","SourceGraphic").getParent()},{create:P,createItem:function(t){return new e(t)},createContainer:function(t){return new y(t)},createScalableContainer:function(t){return new C(t)}}}.apply(e,i),i=[s,_],y=function(t,e){function o(t){var e=t.canvas.getViewSize();return e?t.L2PY(e.minY+e.height):t.body.getBoundingClientRect().height}function n(t,e){return t&&t.classList&&t.classList.contains(e)}function i(t){return n(t,"idvcchart_right")}function r(t){return n(t,"idvcchart_top")}function a(){return void 0===this._sizes.top&&(this._sizes.top=this._centralPart.body.offsetTop),this._sizes.top}function s(){return this._sizes.height||(this._sizes.height=o(this._centralPart)),this._sizes.height}function l(){return this._sizes.boundingHeight||(this._sizes.boundingHeight=this.body.getBoundingClientRect().height),this._sizes.boundingHeight}function c(t){var e=t.canvas.getViewSize();return e?t.L2PX(e.minX+e.width):t.body.getBoundingClientRect().width}function d(){return this._sizes.width||(this._sizes.width=c(this._centralPart)),this._sizes.width}function u(){return this._sizes.boundingWidth||(this._sizes.boundingWidth=this.body.getBoundingClientRect().width),this._sizes.boundingWidth}function f(t){t._checkedPos&&(t.representation.setPos(t._checkedPos),delete t._checkedPos)}function h(t,e){var o=this._layout.getValueLayout.call(this,t.value);t.representation.create(t,this.canvas,this.getFormatValue(),o,e),t._checkedPos={x:o.textX,y:o.textY}}function p(){if(!this.axisLine){var t=this._layout.getLineLayout.call(this);this.axisLine=this.canvas.addLine(t.startX,t.startY,t.endX,t.endY,t.lineClass)}}function m(){if(void 0!==this.from){var t=this.getFormatValue(),e=0,o=7,n="text-before-edge;",i=this.body.offsetHeight;r(this._parent)&&(o=i-7,n="text-after-edge;",e=i);this.fromText=this.canvas.addText(5,o,t(this.from),E,"minValue"),this.fromText.setStyle("text-anchor: start; dominant-baseline:"+n);var a=this.body.offsetWidth-5;this.toText=this.canvas.addText(a,o,t(this.to),E,"maxValue"),this.toText.setStyle("text-anchor: end; dominant-baseline:"+n),this.line=this.canvas.addLine(0,e,a,e,R),this.body.refreshSize=function(){var t=this.body.offsetWidth-5;return this.toText.setX(t),this.line.setX2(t),!0}.bind(this)}}function g(){var t={pos:0};this.values.sort(function(t,e){if(t._checkedPos&&e._checkedPos){var o=this._layout.getPos;return o(t._checkedPos)-o(e._checkedPos)}return 0}.bind(this)).forEach(function(e){this._layout.checkValuePos(e,t)}.bind(this)),this.values.forEach(f.bind(this))}function v(o,n,i){this._parent=t.getDomElement(o),this._layout=n,this.values=[],this.body=document.createElement("div"),this.body.className=n.getClass(),this._parent.appendChild(this.body),this.canvas=e.create(void 0,!i),this.body.appendChild(this.canvas.el),this._sizes={},this.body.refreshSize=function(t){if(this._centralPart)return t&&t.movingZoomFrame||(this._sizes={}),this.values.forEach(this._layout.updateValuePos.bind(this)),this._layout.updateLinePos.call(this),g.call(this),!0}.bind(this)}function _(){}function y(t,e){t&&t.show().front().setAttr("font-weight","bold").setFilter(e)}function b(t,e){t&&t.hide().remAttr("font-weight").remFilter(e)}function x(t,e){if(t&&e){var o=t.getElementById(e);return o||(o=t.createTextBackground(e)),o}}function w(o,n){this._parent=t.getDomElement(o),this.body=document.createElement("div"),this.body.className="idvcchart_horzaxis",this._parent.appendChild(this.body),this.canvas=e.create(void 0,!n),this.body.appendChild(this.canvas.el)}function C(t){var e=!1,o=function(t){t=t||event,this.dragProcessor&&this.dragProcessor.dragging(t.pageX,t.pageY)}.bind(this),n=function(t){t=t||event,this.dragProcessor&&this.dragProcessor.stopDragging(t.pageX,t.pageY),e=!1,window.removeEventListener("mousemove",o,!0),window.removeEventListener("mouseup",n,!0)}.bind(this);t.onmousedown=function(t){this.dragProcessor&&(t=t||event,0===t.button&&(t.ctrlKey||t.shiftKey||(t.preventDefault(),this.dragProcessor.startDragging(t.pageX,t.pageY),e=!0,window.addEventListener("mousemove",o,!0),window.addEventListener("mouseup",n,!0))))}.bind(this),t.addEventListener("mousemove",function(t){this.dragProcessor&&(t=t||event,t.ctrlKey||t.shiftKey||(t.preventDefault(),!e&&this.dragProcessor.movingOver&&this.dragProcessor.movingOver(t.pageX,t.pageY)))}.bind(this),!1)}function L(o,n){this._parent=t.getDomElement(o),t.addClass(this._parent,"idvcchart_content"),this.body=document.createElement("div"),this.body.className="idvcchart_body",this._parent.appendChild(this.body),this.canvas=e.create(void 0,!n),this.body.appendChild(this.canvas.el),this.graphicsRoot=this.canvas,this.dragProcessor=void 0,C.call(this,this.body),this.body.addEventListener("dblclick",function(t){if(t=t||event,this.ondblclick){var e=this.screenP2L(t.pageX,t.pageY);this.ondblclick(e.x,e.y)}}.bind(this),!1);var i=t.addTooltip(this.body,function(t,e,o){if(!this._disabledTooltip&&t){var n=this.screenP2L(e,o),i=this.ontooltiptext(t,n.x,n.y),r={};return this.ontooltipattrs&&(r=this.ontooltipattrs(t,i,n.x,n.y)),{text:i,target:t,keepCurrent:!0,tracking:!0,autoHideDelay:r.autoHideDelay||4e3,delay:r.showDelay||0}}}.bind(this),function(){return!0},"idvcchart_tooltip");this._updateTooltip=i.update.bind(i),this.hideTooltip=i.hide.bind(i)}function k(t,e,o,n,i){return t.createG().createRect().setClass("idvcchart_empty").setX(e).setY(o).setWidth(n).setHeight(i).getParent()}function S(t,e){return e<0?{start:t+e,width:-e}:{start:t,width:e}}function P(t,e){return t>e?{start:e,end:t}:{start:t,end:e}}var R="idvcchart_axis",E="idvcchart_axis_text",M={getClass:function(){return"idvcchart_vertaxis"},getValueLayout:function(t){if(this._centralPart){var e={},o="",n=a.call(this),r=this._centralPart.L2PY(t)+n;if(e.tickClass=R,e.textClass=E,e.tickStartY=r,e.tickEndY=r,e.textY=r,i(this._parent))e.tickStartX=6,e.tickEndX=0,e.textX=10,o="start;";else{var s=u.call(this);e.tickStartX=s-6,e.tickEndX=s,e.textX=s-10,o="end;"}return e.textStyle="text-anchor: "+o+"dominant-baseline: middle",e}},getLineLayout:function(){var t={},e=a.call(this),o=s.call(this);if(t.startY=e,t.endY=e+o+1,t.lineClass=R,i(this._parent))t.startX=.5,t.endX=.5;else{var n=u.call(this);t.startX=n-.5,t.endX=n-.5}return t},getRectLayout:function(t){return{alongStart:t.y,alongSize:t.height,acrossStart:t.x,acrossSize:t.width}},updateValuePos:function(t){if(this._centralPart&&t){var e=a.call(this),o=this._centralPart.L2PY(t.value)+e;t.representation.updatePos({y:o}),t._checkedPos={y:o}}},updateLinePos:function(){if(this._centralPart){var t=a.call(this),e=s.call(this)+t;this.axisLine.setY2(e)}},checkValuePos:function(t,e){if(t._checkedPos){var o=t.representation.getBoundingRect();o.y<e.pos?e.pos?t._checkedPos.isHidden=!0:(t._checkedPos.y-=o.y,e.pos=o.height+2):(e.pos=o.y+o.height+2,delete t._checkedPos)}},getPos:function(t){return t.y}},T={getClass:function(){return"idvcchart_horzaxis"},getValueLayout:function(t){if(this._centralPart){var e={},o=this._centralPart.L2PX(t),n="";if(e.tickClass=R,e.textClass=E,e.tickStartX=o,e.tickEndX=o,e.textX=o,r(this._parent)){var i=l.call(this);e.tickStartY=i-6,e.tickEndY=i,e.textY=i-10,n="text-after-edge;"}else e.tickStartY=6,e.tickEndY=0,e.textY=10,n="text-before-edge;";return e.textStyle="text-anchor: middle; dominant-baseline:"+n,e}},getLineLayout:function(){var t={},e=d.call(this);if(t.startX=0,t.endX=e,t.lineClass=R,r(this._parent)){var o=l.call(this);t.startY=o-.5,t.endY=o-.5}else t.startY=.5,t.endY=.5;return t},getRectLayout:function(t){return{alongStart:t.x,alongSize:t.width,acrossStart:t.y,acrossSize:t.height}},updateValuePos:function(t){if(this._centralPart&&t){var e=this._centralPart.L2PX(t.value);t.representation.updatePos({x:e}),t._checkedPos={x:e}}},updateLinePos:function(){if(this._centralPart){var t=d.call(this);this.axisLine.setX2(t)}},checkValuePos:function(t,e){if(t._checkedPos){var o=t.representation.getBoundingRect();o.x<e.pos?e.pos?t._checkedPos.isHidden=!0:(t._checkedPos.x-=o.x,e.pos=o.width+5):(e.pos=o.x+o.width+5,delete t._checkedPos)}},getPos:function(t){return t.x}};v.prototype.getFormatValue=function(){return this.onformat||function(t){return t}},_.prototype.create=function(t,e,o,n,i){this.line=e.addLine(n.tickStartX,n.tickStartY,n.tickEndX,n.tickEndY,n.tickClass),this.hotLine=e.addLine(n.tickStartX,n.tickStartY,n.tickEndX,n.tickEndY,"idvcchart_axis_hot"),this.text=e.addText(n.textX,n.textY,o(t.value),n.textClass,t.id),i&&this.text.addClass(i),this.text.setStyle(n.textStyle)},_.prototype.updatePos=function(t){t&&(void 0!==t.y?(this.text.setY(t.y),this.line.setY1(t.y).setY2(t.y),this.hotLine.setY1(t.y).setY2(t.y)):void 0!==t.x&&(this.text.setX(t.x),this.line.setX1(t.x).setX2(t.x),this.hotLine.setX1(t.x).setX2(t.x)),this.show())},_.prototype.setPos=function(t){t&&(void 0!==t.y&&this.text.setY(t.y),void 0!==t.x&&this.text.setX(t.x),t.isHidden?this.hide():this.show())},_.prototype.getBoundingRect=function(){return this.text.getBoundingRect()},_.prototype.setLabel=function(t,e){this.text.setText(e(t))};_.prototype.show=function(){this.text.show(),this.showText&&this.hideText&&(this.hotLine.deactivate().off("mouseenter",this.showText).off("mouseleave",this.hideText),delete this.showText,delete this.hideText)},_.prototype.hide=function(){this.text.hide(),x(this.text.getCanvas(),"TextBackground"),this.showText=y.bind(this,this.text,"TextBackground"),this.hideText=b.bind(this,this.text,"TextBackground"),this.hotLine.activate().on("mouseenter",this.showText).on("mouseleave",this.hideText)},v.prototype.addValue=function(t,e,o){return o=o||_,this.values.push({value:t,id:e,representation:new o}),this._centralPart&&h.call(this,this.values[this.values.length-1]),this},v.prototype.changeValue=function(t,e){if(t>=0&&t<this.values.length){var o=this.values[t];o.value=e,this._layout.updateValuePos.call(this,o,!0),o.representation.setLabel(o.value,this.getFormatValue())}return this},v.prototype.layoutValues=function(){return g.call(this),this},v.prototype.setCentralPart=function(t){return this._centralPart=t,p.call(this),this},v.prototype.clear=function(){return this._centralPart=void 0,this.values.length=0,this.canvas.clear(),this.axisLine=void 0,this},w.prototype.getFormatValue=function(){return this.onformat||function(t){return t}},w.prototype.setTime=function(t,e){return this.from=t,this.to=e,this._centralPart&&m.call(this),this},w.prototype.setCentralPart=function(t){return this._centralPart=t,m.call(this),this},w.prototype.clear=function(){return this._centralPart=void 0,this.from=void 0,this.to=void 0,this.canvas.clear(),this};return L.prototype.enableTooltip=function(t){t?delete this._disabledTooltip:this._disabledTooltip=!0},L.prototype.setDragProcessor=function(t){this.removeSelection(),this.dragProcessor=t},L.prototype.setViewbox=function(t,e,o,n,i){var a=n-e,s=o-t;if(i=i||k(this.canvas,t,e,s,a),this.graphicsRoot=i,this.canvas.setViewSize(t,e,s,a),!r(this._parent)){var l=a+2*e;i.setAttr("transform","translate(0,"+l+") scale(1,-1)")}this._updateTooltip()},L.prototype.updateCursor=function(){var e=this.body.style.cursor;e&&t.changeCursor(e)},L.prototype.removeSelection=function(){this.selection&&(this.selection.remove(),delete this.selection)},L.prototype.createHorzSelection=function(t,e){function o(t,e){return e>t-4&&e<t+4}if(this.selection)return this.selection;this.selection=this.canvas.addRect(0,t,0,e-t,"idvcchart_selection");var n=this.selection;n.el.onselectstart=function(){return!1};var i=this,r={x:-1,dragged:!1,isBorder:!1,width:0,start:0},a=function(t,e){if(e){var o=S(t,e),r=o.start,a=o.start+o.width;i.graphicsRoot&&(r=i.graphicsRoot.getCanvas().Screen2SVGX(r,i.graphicsRoot),a=i.graphicsRoot.getCanvas().Screen2SVGX(a,i.graphicsRoot)),n.setX(r).setWidth(Math.abs(a-r))}},s=function(t){var e=t-r.x;!r.dragged&&Math.abs(e)>1&&(r.dragged=!0,i.body.style.cursor="e-resize",r.isBorder?o(r.start,r.x)&&(r.start+=r.width,r.width=-r.width):(r.width=0,r.start=r.x),i.onselectionstarted&&i.onselectionstarted(i.screenP2LX(r.start))),r.dragged&&(r.width+=e,a(r.start,r.width),r.x=t)};return this.dragProcessor={startDragging:function(t){r.x=t,r.isBorder="e-resize"===i.body.style.cursor},stopDragging:function(t){r.dragged&&r.width&&(this.movingOver(t),i.onselectionchanged&&i.onselectionchanged(i.screenP2LX(r.start),i.P2LX(r.width))),r.x=-1,r.dragged=!1},dragging:function(t){s(t)},movingOver:function(t){o(r.start,t)||o(r.start+r.width,t)?i.body.style.cursor="e-resize":i.body.style.cursor=""}},this.selection},L.prototype.createFreeSelection=function(){if(this.selection)return this.selection;this.selection=this.canvas.addRect(0,0,0,0,"idvcchart_selection");var t=this.selection;t.el.onselectstart=function(){return!1};var e=this,o={x:-1,y:-1,dragged:!1,width:0,height:0,startX:0,startY:0},n=function(o,n,i,r){if(i||r){var a=S(o,i),s=S(n,r),l=a.start,c=s.start,d=a.start+a.width,u=s.start+s.width;e.graphicsRoot&&(l=e.graphicsRoot.getCanvas().Screen2SVGX(l,e.graphicsRoot),c=e.graphicsRoot.getCanvas().Screen2SVGY(c,e.graphicsRoot),d=e.graphicsRoot.getCanvas().Screen2SVGX(d,e.graphicsRoot),u=e.graphicsRoot.getCanvas().Screen2SVGY(u,e.graphicsRoot)),t.setX(l).setY(c).setWidth(Math.abs(d-l)).setHeight(Math.abs(u-c))}},i=function(t,i){var r=t-o.x,a=i-o.y;!o.dragged&&(Math.abs(r)>1||Math.abs(a)>1)&&(o.dragged=!0,o.width=0,o.height=0,o.startX=o.x,o.startY=o.y,e.onselectionstarted&&e.onselectionstarted(e.screenP2LX(o.startX),e.screenP2LY(o.startY))),o.dragged&&(o.width+=r,o.height+=a,n(o.startX,o.startY,o.width,o.height),o.x=t,o.y=i)};return this.dragProcessor={startDragging:function(t,e){o.x=t,o.y=e},stopDragging:function(t,n){o.dragged&&o.width&&o.height&&e.onselectionchanged&&setTimeout(function(){var t=e.screenP2LX(o.startX),n=e.screenP2LY(o.startY),i=e.screenP2LX(o.startX+o.width),r=e.screenP2LY(o.startY+o.height),a=P(t,i),s=P(n,r);e.onselectionchanged(a.start,s.start,a.end,s.end)},0),o.x=-1,o.y=-1,o.dragged=!1},dragging:function(t,e){i(t,e)}},this.selection},L.prototype.setSelection=function(t,e){var o=this.selection;if(o){var n=S(t,e);o.setX(n.start).setWidth(n.width),this.onselectionchanged&&this.onselectionchanged(t,e)}},L.prototype.getSelection=function(){var t=this.selection;if(t)return{start:parseFloat(t.getAttr("x")),width:parseFloat(t.getAttr("width"))}},L.prototype.hideSelection=function(){var t=this.selection;t&&t.setX(0).setY(0).setWidth(0).setHeight(0)},L.prototype.event2SVGPos=function(t){return this.screenP2L(t.pageX,t.pageY)},L.prototype.clear=function(){return this.selection&&delete this.selection,this.canvas.clear(),this},L.prototype.L2P=function(t,e){var o={x:t,y:e};return this.tr?o=this.tr.L2P(t,e):this.graphicsRoot&&(o=this.graphicsRoot.getCanvas().SVG2Element(t,e,this.graphicsRoot)),o},L.prototype.L2PX=function(t){var e=t;return this.tr?e=this.tr.L2PX(t):this.graphicsRoot&&(e=this.graphicsRoot.getCanvas().SVG2ElementX(t,this.graphicsRoot)),e},L.prototype.L2PY=function(t){var e=t;return this.tr?e=this.tr.L2PY(t):this.graphicsRoot&&(e=this.graphicsRoot.getCanvas().SVG2ElementY(t,this.graphicsRoot)),e},L.prototype.P2L=function(t,e){var o={x:t,y:e};return this.tr?o=this.tr.P2L(t,e):this.graphicsRoot&&(o=this.graphicsRoot.getCanvas().Element2SVG(t,e,this.graphicsRoot)),o},L.prototype.P2LX=function(t){var e=t;return this.tr?e=this.tr.P2LX(t):this.graphicsRoot&&(e=this.graphicsRoot.getCanvas().Element2SVGX(t,this.graphicsRoot)),e},L.prototype.P2LY=function(t){var e=t;return this.tr?e=this.tr.P2LY(t):this.graphicsRoot&&(e=this.graphicsRoot.getCanvas().Element2SVGY(t,this.graphicsRoot)),e},L.prototype.screenP2L=function(t,e){var o={x:t,y:e};return this.tr?o=this.tr.screenP2L(t,e):this.graphicsRoot&&(o=this.graphicsRoot.getCanvas().Screen2SVG(t,e,this.graphicsRoot)),o},L.prototype.screenP2LX=function(t){var e=t;return this.tr?e=this.tr.screenP2LX(t):this.graphicsRoot&&(e=this.graphicsRoot.getCanvas().Screen2SVGX(t,this.graphicsRoot)),e},L.prototype.screenP2LY=function(t){var e=t;return this.tr?e=this.tr.screenP2LY(t):this.graphicsRoot&&(e=this.graphicsRoot.getCanvas().Screen2SVGY(t,this.graphicsRoot)),e},L.prototype.getCanvas=function(){return this.canvas},{createVertAxis:function(t,e){return new v(t,M,e)},createHorzAxis:function(t,e){return new v(t,T,e)},createTimeAxis:function(t,e){return new w(t,e)},createCentralPart:function(t,e){return new L(t,e)},DefValueRepresentation:_}}.apply(e,i),i=[p,s,y,_],b=function(t,e,o,n){function i(t){return!!(t&&t.el&&t.el.el&&t.el.el.ownerSVGElement)}function r(t,e,o,n,i,r){var a=t.tr.L2P(e,o);this.el=this.init(t.getLoopsLayer(),a,n,i,r),this.x=e,this.y=o,this.el.el.roofLinePoint=this}function a(t,e,o,n,i,a){r.call(this,t,e,o,n,i,a)}function s(t,e,o,n,i,a){r.call(this,t,e,o,n,i,a)}function l(t){return Math.round(t*Math.sqrt(Math.PI)/2)}function c(t,e,o,n,i,a){r.call(this,t,e,o,n,i,a)}function d(t,e,o){function n(t,e,o,n,i,r){c.call(this,t,e,o,n,i,r)}return n.prototype=Object.create(c.prototype),n.fillPatternPostfixName=o,n.createFillPattern=function(t,e,o,i,r){c.createFillPattern.call(n,t,e,o,i,r)},n.prototype.getFillPatternPostfix=function(){return n.fillPattermPostfix?n.fillPattermPostfix:""},n.getPoints=e,n.prototype.getPoints=t,n}function u(t,e,o){var n=2*o*Math.sqrt(Math.PI)/Math.pow(3,.25),i=n*Math.sqrt(3)/6;return[[t-n/2,e+i],[t,e-2*i],[t+n/2,e+i]]}function f(t){var e=.667;return[[.5-t/2,e+t/3],[.5,e-2*t/3],[.5+t/2,e+t/3]]}function h(t,e,o){var n=o*Math.sqrt(Math.PI/1.618*2);return[[t-n/2,e],[t,e-1.618*n/2],[t+n/2,e],[t,e+1.618*n/2]]}function p(t){return t/=2,[[.5-t,.5],[.5,.5-t],[.5+t,.5],[.5,.5+t]]}function m(t,e){if(t){if(e=e||"Gainsboro",t.icon||(t.icon={}),!t.icon[e]){var o=n.create(void 0,!0).setViewSize(0,0,20,20);new t({tr:{L2P:function(t,e){return{x:t,y:e}}},getLoopsLayer:function(){return o}},10,11,7).remClass("idvc_active"),t.icon[e]="url('data:image/svg+xml;base64,"+btoa('<svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 20 20" stroke="black" fill="'+e+'">'+o.el.innerHTML+"</svg>")+"')"}return t.icon[e]}}function g(t){return"dominant-baseline:"+(t<0?"text-before-edge;":"text-after-edge;")}function v(t){return t<0?"text-anchor: end; ":""}function _(t,e,o,n,i){var r=t.getRoofsTextLayer().createText(e).setClass("idvcchart_roofline_text").setX(0).setY(0).setStyle(v(o)+g(n)).deactivate();return i&&r.addSpan("?").addClass("idvcchart_roofline_explanation").setAttr("dy","-10").activate(),{svgText:r,alongOffset:o,acrossOffset:n}}function y(t,e,o){return!(!t||!t.svgText||t.alongOffset===e&&t.acrossOffset===o)&&(t.svgText.setStyle(v(e)+g(o)),t.alongOffset=e,t.acrossOffset=o,!0)}function b(t,e){var o,n,i,r;return Array.isArray(t)?1===t.length?o=t[0]:2===t.length?(i=t[0],o=t[1]):3===t.length?(o=t[0],r=t[1],n=t[2]):t.length>=4&&(i=t[0],o=t[1],r=t[2],n=t[3]):o=t,void 0===n&&(n=o),void 0===r&&(r=e.getMaxIntens()),void 0===i&&(i=e.getMinIntens()),{startX:i,startY:o,endX:r,endY:n}}function x(t,e,o,n,i){e=e||"idvcroofline_line";var r,a,s,l,c=b(t,n.tr);s=c.startX,r=c.startY,l=c.endX,a=c.endY;var d=k(i?n.getBackgroundLayer():n.getRoofsLayer(),n.tr,s,r,l,a,e,o);this.el=d,this.startX=s,this.startY=r,this.endX=l,this.endY=a,this.roofline=n,d.el.roof=this}function w(n,r){this._parent=e.getDomElement(n),e.removeAllChildren(this._parent),this.onDblClick=t.create(),this.onContextMenu=t.create(),this.onSelectionChanged=t.create(),this.onCurrentPointChanged=t.create(),this.beforeResize=t.create(),this.onResize=t.create(),this.centralPart=o.createCentralPart(n),this.vertAxis=o.createVertAxis(n),this.horzAxis=o.createHorzAxis(n),this._selectedPoints=[],Object.defineProperty(this,"selectedPoint",{get:function(){return this._selectedPoints[0]},set:function(t){if(i(t)){var e=this._selectedPoints[0];(e!==t||this._selectedPoints.length>1)&&(this._selectedPoints.forEach(function(t){t.el.el.classList.remove(T)}),this._selectedPoints.length=0,this._selectedPoints.push(t),e=this._selectedPoints[0],e.el.el.classList.add(T),this.setPointFront(e),this.onSelectionChanged.raise(e,R.set))}}}),Object.defineProperty(this,"selectedPoints",{get:function(){return this._selectedPoints}}),this._currentPoint,Object.defineProperty(this,"currentPoint",{get:function(){return this._currentPoint},set:function(t){t&&!i(t)||this._currentPoint!==t&&(this._currentPoint&&this._currentPoint.el.el.classList.remove(A),this._currentPoint=t,this._currentPoint&&(this._currentPoint.el.el.classList.add(A),this.setPointFront(this._currentPoint)),this.onCurrentPointChanged.raise(this._currentPoint))}}),this.points=[],this.roofs=[],void 0!==r&&this._parent.setAttribute("tabindex",r),this.centralPart.body.refreshSize=function(t){return t&&t.movingZoomFrame||this.tr&&this.tr._clear(),this.beforeResize.raise(this.tr),this.points.forEach(function(t){var e=this.tr.L2P(t.x,t.y);t.move(e.x,e.y)}.bind(this)),this.roofs.forEach(function(t){t.update()}),this.gridLines&&this.addGridLines(),this.centerMarker&&this.centerMarker.move(this.tr),this.onResize.raise(this.tr),!0}.bind(this),this.centralPart.body.addEventListener("mousedown",function(t){t=t||event,0===t.button&&t.target&&t.target.roofLinePoint&&(t.ctrlKey?this.addSelectedPoint(t.target.roofLinePoint):this.selectedPoint=t.target.roofLinePoint,this.currentPoint=t.target.roofLinePoint)}.bind(this),!1),this.centralPart.ondblclick=function(t,e){this.onDblClick.raise(t,e)}.bind(this),this.windowResizeListener=e.addWindowResizeListener(this._parent)}function C(t){var e=t.ownerSVGElement,o=t.scaleIndependentXForm=e.createSVGTransform();return t.transform.baseVal.clear(),t.transform.baseVal.appendItem(o),o}function L(t,e,o,n,i,r){if(e){var a=e.svgText.el,s=e.alongOffset,l=C(a),c=t.tr,d=c.L2P(o,n),u=c.L2P(i,r),f=u.x-d.x,h=d.y-u.y,p=Math.atan2(h,f),m=s>=0?d:u,g=function(e){return t._CTM||(t._CTM=e.getCTM()),t._CTM}(a);g&&l.setMatrix(g.inverse().translate(m.x+s*Math.cos(p)-e.acrossOffset*Math.sin(p),m.y-s*Math.sin(p)-e.acrossOffset*Math.cos(p)).rotate(-p/(2*Math.PI)*360))}}function k(t,e,o,n,i,r,a,s,l){var c=e.L2P(o,n),d=e.L2P(i,r);return t.createLine(s,l).setClass(a).setX1(c.x).setY1(c.y).setX2(d.x).setY2(d.y)}function S(t,e,o,n,i){this.x=t,this.y=e,this.pos=o,i=i||1;var r=Math.ceil(39*i/2);this.halfMarkerSize=r,this.horzLine=n.addLine(o.x-r,o.y,o.x+r,o.y,I),this.vertLine=n.addLine(o.x,o.y-r,o.x,o.y+r,I)}function P(t){var e=this.roofs.indexOf(t);e>=0&&this.roofs.splice(e,1)}var R={set:"set",add:"add",remove:"remove"};r.prototype.show=function(){return this.el.show(),this},r.prototype.hide=function(){return this.el.hide(),this},r.prototype.isHidden=function(){return this.el.isHidden()},r.prototype.front=function(){return this.el.front(),this},r.prototype.addClass=function(t){return this.el.addClass(t),this},r.prototype.remClass=function(t){return this.el.remClass(t),this},r.prototype.setFillColor=function(t){return t?this.el.setAttr("style","fill:"+t+" !important"):this.el.remAttr("style"),this},r.prototype.setPatternId=function(t){return this.el.setStyle("stroke:darkgray; fill:"+this.el.localUrl(t+this.getFillPatternPostfix())),this},a.prototype=Object.create(r.prototype),a.createFillPattern=function(t,e,o,n,i){a.fillPattermPostfix||(a.fillPattermPostfix="-cl");var r=o/e/2;t.createPattern(i+a.fillPattermPostfix).useParentContentCoords().setWidth("100%").setHeight("100%").createCircle().setCX(".5").setCY(".5").setR(".5").setAttr("fill","white").getParent().createCircle().setCX(".5").setCY(".5").setR(r).setAttr("fill",n).setAttr("stroke","black").setAttr("stroke-width","0.05")},a.prototype.getFillPatternPostfix=function(){return a.fillPattermPostfix?a.fillPattermPostfix:""},a.prototype.init=function(t,e,o,n,i){return t.createCircle(i).setClass(n).activate().setCX(e.x).setCY(e.y).setR(o)},a.prototype.move=function(t,e){return this.el.setCX(t).setCY(e),this},a.prototype.setR=function(t){return this.el.setR(t),this},a.prototype.getR=function(){return parseFloat(this.el.getR())},a.prototype.getX=function(){return parseFloat(this.el.getCX())},a.prototype.getY=function(){return parseFloat(this.el.getCY())},a.prototype.calcLineEndPoint=function(t,e){var o=this.getX(),n=this.getY(),i=this.getR(),r=0,a=0,s=Math.sqrt(Math.pow(o-t,2)+Math.pow(n-e,2));return s>0&&(r=(e-n)/s,a=(t-o)/s),{x:o+i*a,y:n+i*r}},s.prototype=Object.create(r.prototype),s.createFillPattern=function(t,e,o,n,i){s.fillPattermPostfix||(s.fillPattermPostfix="-sr");var r=o/e,a=r/2;t.createPattern(i+s.fillPattermPostfix).useParentContentCoords().setWidth("100%").setHeight("100%").createRect().setX("0").setY("0").setWidth("1").setHeight("1").setAttr("fill","white").getParent().createRect().setX(.5-a).setY(.5-a).setWidth(r).setHeight(r).setAttr("fill",n).setAttr("stroke","black").setAttr("stroke-width","0.05")},s.prototype.getFillPatternPostfix=function(){return s.fillPattermPostfix?s.fillPattermPostfix:""},s.prototype.init=function(t,e,o,n,i){var r=l(o);return this.delta=r,this.r=o,t.createRect(i).setClass(n).activate().setX(e.x-r).setY(e.y-r).setWidth(2*r).setHeight(2*r)},s.prototype.move=function(t,e){return this.el.setX(t-this.delta).setY(e-this.delta),this},s.prototype.setR=function(t){var e=this.getX(),o=this.getY(),n=l(t);return this.delta=n,this.r=t,this.el.setX(e-n).setY(o-n).setWidth(2*n).setHeight(2*n),this},s.prototype.getR=function(){return this.r},s.prototype.getX=function(){return parseFloat(this.el.getX())+this.delta},s.prototype.getY=function(){return parseFloat(this.el.getY())+this.delta},s.prototype.calcLineEndPoint=function(t,e){var o=t,n=e,i=this.getX(),r=this.getY(),a=this.delta,s=0,l=i-t,c=r-e;return l&&(s=c/l),Math.abs(l)+Math.abs(c)>0&&(0===l||0===c||l===c?(n=r-Math.sign(c)*a,o=i-Math.sign(l)*a):s>1||s<-1?(n=r-Math.sign(c)*a,o=function(o){return(o-e)/s+t}(n)):(o=i-Math.sign(l)*a,n=function(o){return(o-t)*s+e}(o))),{x:o,y:n}},c.prototype=Object.create(r.prototype),c.createFillPattern=function(t,e,o,n,i){this.fillPattermPostfix||(this.fillPattermPostfix=this.fillPatternPostfixName);var r=this.getPoints(1),a=this.getPoints(o/e);t.createPattern(i+this.fillPattermPostfix).useParentContentCoords().setWidth("100%").setHeight("100%").createPolygon().setPoints(r).setAttr("fill","white").getParent().createPolygon().setPoints(a).setAttr("fill",n).setAttr("stroke","black").setAttr("stroke-width","0.05")},c.prototype.init=function(t,e,o,n,i){var r=this.getPoints(e.x,e.y,o);return this.r=o,this.xP=e.x,this.yP=e.y,t.createPolygon(i).setClass(n).activate().setPoints(r)},c.prototype.move=function(t,e){this.xP=t,this.yP=e;var o=this.getPoints(t,e,this.r);return this.el.setPoints(o),this},c.prototype.setR=function(t){var e=this.getX(),o=this.getY();this.r=t;var n=this.getPoints(e,o,t);return this.el.setPoints(n),this},c.prototype.getR=function(){return this.r},c.prototype.getX=function(){return this.xP},c.prototype.getY=function(){return this.yP},c.prototype.calcLineEndPoint=function(t,e){var o;if(t===this.xP&&e===this.yP)o={x:t,y:e};else for(var n=this.el.getPoints(),i=0,r=n.length;i<r;i++){var a=i+1;a>=r&&(a=0);var s=n[i][0],l=n[i][1],c=n[a][0],d=n[a][1];if(o=function(t,e,o,n,i,r,a,s){function l(t,e,o){return t<Math.min(e,o)-1e-4||t>Math.max(e,o)+1e-4}var c,d,u,f,h,p,m;return t!==o&&(h=(n-e)/(o-t)),e!==n&&(f=(o-t)/(n-e)),i!==a&&(m=(s-r)/(a-i)),r!==s&&(p=(a-i)/(s-r)),t===o?(d=t,i!==a&&(u=m*d+s-m*a)):i===a&&(d=i,t!==o&&(u=h*d+n-h*o)),void 0===d&&void 0===u&&(e===n?(u=e,r!==s&&(d=p*u+a-p*s)):r===s&&(u=r,e!==n&&(d=f*u+o-f*n))),void 0===d&&void 0===u&&(d=(s-n+h*o-m*a)/(h-m),u=(a-o+f*n-p*s)/(f-p)),void 0!==d&&void 0!==u&&(l(d,t,o)||l(d,i,a)||l(u,e,n)||l(u,r,s))&&(d=u=void 0),void 0!==d&&void 0!==u&&(c={x:d,y:u}),c}(t,e,this.xP,this.yP,s,l,c,d))break}return o||(o={x:this.xP,y:this.yP}),o};var E=d(u,f,"-tr"),M=d(h,p,"-dm");x.prototype.setBeginText=function(t,e,o,n){return e=e||10,o=o||1,this.startText&&this.startText.svgText&&this.startText.svgText.remove(),this.startText=_(this.roofline,t,e,o,n),L(this.roofline,this.startText,this.startX,this.startY,this.endX,this.endY),this.startText.svgText.el.parentRoof=this.el,this},x.prototype.updateBeginOffsets=function(t,e){t=t||10,e=e||1,y(this.startText,t,e)&&L(this.roofline,this.startText,this.startX,this.startY,this.endX,this.endY)},x.prototype.setEndText=function(t,e,o,n){return e=e||-10,o=o||1,this.endText&&this.endText.svgText&&this.endText.svgText.remove(),this.endText=_(this.roofline,t,e,o,n),L(this.roofline,this.endText,this.startX,this.startY,this.endX,this.endY),this.endText.svgText.el.parentRoof=this.el,this},x.prototype.updateEndOffsets=function(t,e){t=t||-10,e=e||1,y(this.endText,t,e)&&L(this.roofline,this.endText,this.startX,this.startY,this.endX,this.endY)},x.prototype.show=function(){this.el.show(),this.startText&&this.startText.svgText.show(),this.endText&&this.endText.svgText.show()},x.prototype.hide=function(){this.el.hide(),this.startText&&this.startText.svgText.hide(),this.endText&&this.endText.svgText.hide()},x.prototype.isHidden=function(){return this.el.isHidden()},x.prototype.remove=function(){this.el.remove(),this.startText&&this.startText.svgText.remove(),this.endText&&this.endText.svgText.remove(),P.call(this.roofline,this)},x.prototype.change=function(t){var e,o,n,i,r=b(t,this.roofline.tr);return n=r.startX,e=r.startY,i=r.endX,o=r.endY,this.startX=n,this.startY=e,this.endX=i,this.endY=o,this.update(),this},x.prototype.update=function(){var t=this.roofline.tr.L2P(this.startX,this.startY),e=this.roofline.tr.L2P(this.endX,this.endY);this.el.setX1(t.x).setY1(t.y).setX2(e.x).setY2(e.y),L(this.roofline,this.startText,this.startX,this.startY,this.endX,this.endY),L(this.roofline,this.endText,this.startX,this.startY,this.endX,this.endY)};var T="idvcroofline_point_selected",A="idvcroofline_point_current";w.prototype.createDefaultLayers=function(){var t=this.centralPart.graphicsRoot;this.backgroundLayer=t.createG("BackgroundLayer"),this.loopsLayer=t.createG("LoopsLayer"),this.roofsLayer=t.createG("RoofsLayer"),this.roofsTextLayer=t.createG("RoofsTextLayer"),this.foregroundLayer=t.createG("ForegroundLayer")},w.prototype.getBackgroundLayer=function(){return this.backgroundLayer||this.createDefaultLayers(),this.backgroundLayer},w.prototype.getLoopsLayer=function(){return this.loopsLayer||this.createDefaultLayers(),this.loopsLayer},w.prototype.getRoofsLayer=function(){return this.roofsLayer||this.createDefaultLayers(),this.roofsLayer},w.prototype.getRoofsTextLayer=function(){return this.roofsTextLayer||this.createDefaultLayers(),this.roofsTextLayer},w.prototype.getForegroundLayer=function(){return this.foregroundLayer||this.createDefaultLayers(),this.foregroundLayer},w.prototype.destroy=function(){this.windowResizeListener.remove(),delete this.windowResizeListener},w.prototype.addSelectedPoint=function(t){if(i(t))if(t.el.el.classList.toggle(T),t.el.el.classList.contains(T))this._selectedPoints.push(t),this.onSelectionChanged.raise(t,R.add);else{var e=this._selectedPoints.indexOf(t);e>=0&&this._selectedPoints.splice(e,1),this.onSelectionChanged.raise(t,R.remove)}},w.prototype.selectPoints=function(t,e,o,n){this.clearSelectedPoints();var i=!0,r=!0;this.points.forEach(function(a){a.x>t&&a.x<o&&a.y>e&&a.y<n&&(this.addSelectedPoint(a),r=!1,a===this.currentPoint&&(i=!1))}.bind(this)),r&&this.onSelectionChanged.raise(void 0,R.remove),i&&(this.currentPoint=this._selectedPoints[0])},w.prototype.isPointSelected=function(t){return t&&t.el.el.classList.contains(T)},w.prototype.clearSelectedPoints=function(){this._selectedPoints.forEach(function(t){t.el.el.classList.remove(T)}),this._selectedPoints.length=0},w.prototype.clear=function(){this.points=[],this.roofs=[],this._selectedPoints=[],this._currentPoint=void 0,delete this.backgroundLayer,delete this.loopsLayer,delete this.roofsLayer,delete this.roofsTextLayer,delete this.foregroundLayer,delete this.gridLines,delete this.centerMarker,this.centralPart.clear(),this.horzAxis.clear(),this.vertAxis.clear()},w.prototype.clearRoofs=function(){this.roofs.forEach(function(t){t&&t.remove()}),this.roofs=[]},w.prototype.setViewbox=function(t,o,n,i,r,a){r=r||100,a=a||100;var s={};this.tr&&(s=this.tr._sizes),this.tr={_getClientWidth:function(){return Math.max(this._getBoundingWidth(),r)},_getClientHeight:function(){return Math.max(this._getBoundingHeight(),a)},canvas:this.centralPart.getCanvas(),body:this.centralPart.body,_sizes:{},getMinIntens:function(){return t},getMaxIntens:function(){return n},getMinPerf:function(){return o},getMaxPerf:function(){return i},getMinX:function(){return this.L2PX(t)},getMaxX:function(){return this.L2PX(n)},getMinY:function(){return this.L2PY(o)},getMaxY:function(){return this.L2PY(i)},getCanvas:function(){return this.canvas},L2P:function(t,e){return{x:this.L2PX(t),y:this.L2PY(e)}},L2PX:function(e){return(e-t)*this._getClientWidth()/(n-t)},L2PY:function(t){return this._getClientHeight()*(1-(t-o)/(i-o))},P2L:function(t,e){return{x:this.P2LX(t),y:this.P2LY(e)}},P2LX:function(e){return t+e*(n-t)/this._getClientWidth()},P2LY:function(t){return o+(i-o)*(1-t/this._getClientHeight())},screenP2L:function(t,e){return{x:this.screenP2LX(t),y:this.screenP2LY(e)}},screenP2LX:function(t){return t-=e.getElementPos(this.body).x,this.P2LX(t)},screenP2LY:function(t){return t-=e.getElementPos(this.body).y,this.P2LY(t)},_clear:function(){this._sizes={}},_getBoundingWidth:function(){return this._sizes.width||(this._sizes.width=this.body.getBoundingClientRect().width),this._sizes.width},_getBoundingHeight:function(){return this._sizes.height||(this._sizes.height=this.body.getBoundingClientRect().height),this._sizes.height}},this.tr._sizes=s,this.vertAxis.setCentralPart(this.tr),this.horzAxis.setCentralPart(this.tr),this.centralPart.tr=this.tr},w.prototype.addPoint=function(t,e,o,n,i,r){r=r||a,o=o||8,n=n||"idvcroofline_point";var s=new r(this,t,e,o,n,i);return this.points.push(s),s},w.prototype.setPointFront=function(t){t&&t.front()};var I="idvcchart_roofline_center_marker",z="active";return S.prototype.move=function(t){var e;t?(e=t.L2P(this.x,this.y),this.pos=e):e=this.pos,this.horzLine.setX1(e.x-this.halfMarkerSize).setX2(e.x+this.halfMarkerSize).setY1(e.y).setY2(e.y),this.vertLine.setX1(e.x).setX2(e.x).setY1(e.y-this.halfMarkerSize).setY2(e.y+this.halfMarkerSize)},S.prototype.front=function(){this.horzLine.front(),this.vertLine.front()},S.prototype.activate=function(){function t(t){t.addClass(z)}var e=this.horzLine.getCanvas();if(e){var o=e.getBoundingRect();this.horzLine.setX1(0).setX2(o.width),this.vertLine.setY1(0).setY2(o.height),t(this.horzLine),t(this.vertLine)}},S.prototype.deactivate=function(){function t(t){t.remClass(z)}this.move(),t(this.horzLine),t(this.vertLine)},w.prototype.setCenterMarker=function(t,e,o,n){o=o||1;var i=this.tr.L2P(t,e);return n=n||S,this.centerMarker=new n(t,e,i,this.getForegroundLayer(),o),this.centerMarker.front(),this.centerMarker},w.prototype.addRoof=function(t,e,o,n){var i=new x(t,e,o,this,!!n);return this.roofs.push(i),i},w.prototype.addGridLines=function(t){function e(e){if(!e)return t;var o=e.representation;return o&&o.getGridLineClassName?o.getGridLineClassName()||t:t}function o(t){return t&&t.representation&&!(t.representation.noGridLine&&t.representation.noGridLine())}t=t||"idvcroofline_grid_line";var n=function(t){if(o(t)){var n=t.value,i=n,r=this.tr.getMaxIntens(),a=this.tr.getMinIntens();this.gridLines.push(k(this.getBackgroundLayer(),this.tr,a,n,r,i,e(t),void 0,!0))}}.bind(this),i=function(t){if(o(t)){var n=t.value,i=n,r=this.tr.getMaxPerf(),a=this.tr.getMinPerf();this.gridLines.push(k(this.getBackgroundLayer(),this.tr,n,a,i,r,e(t),void 0,!0))}}.bind(this);this.gridLines&&this.gridLines.forEach(function(t){t.remove()}),this.gridLines=[],this.vertAxis.values.forEach(n),this.vertAxis.intermValues&&this.vertAxis.intermValues.values.forEach(n),this.horzAxis.values.forEach(i),this.horzAxis.intermValues&&this.horzAxis.intermValues.values.forEach(i)},w.prototype.getLastGridLine=function(){if(this.gridLines)return this.gridLines[0]},{create:function(t,e){return new w(t,e)},SelectionOperations:R,BasePoint:r,CirclePoint:a,SquarePoint:s,TrianglePoint:E,DiamondPoint:M,createPolygonPoint:d,getPointIcon:m}}.apply(e,i),i=[o,p,s],x=function(t,e,o){function n(){o.appendCSS(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}().toUrl("./grid_styles.css"))}function i(t,e){for(var o=null;t;){if(t.className.indexOf&&t.className.indexOf(e,0)>=0){o=t;break}t=t.parentElement}return o}function r(t){this.scrollBody=document.createElement("div"),this.scrollBody.className="idvcgrid_vertical_scroll",this.scrolled=[],this.scrolledCoef=1,this.scrollSize=document.createElement("div"),this.scrollSize.className="idvcgrid_scroll_size",this.scrollBody.appendChild(this.scrollSize),t.appendChild(this.scrollBody),this.scrollBody.onscroll=function(){var t=0,e=0,o=!1,n=!0;this.scrolled.forEach(function(i,r){if(i._isActive()){i._updateScrollTop(this.getScrollTop());var a=i._getScrollState(),s=a.columnScrollTop;r?s!==t&&(t=Math.min(t,s),o=!0,n=n&&e===a.topRow):(t=s,e=a.topRow)}}.bind(this)),n&&o&&this.updateColumnsScrollTop(t)}.bind(this)}function a(t){t.stopPropagation(),t.preventDefault()}function s(t,e,o){this.dataIndex=e,this.area=document.createElement("div"),this.area.columnObj=this,this.header=document.createElement("div"),this.scrollArea=document.createElement("div"),this.footer=document.createElement("div"),this.header.className="idvcgrid_header_section",this.scrollArea.className="idvcgrid_column_scrolled",this.footer.className="idvcgrid_footer_section",this.footer.onmousedown=a,this.footer.onmouseup=a,this.footer.onmousemove=a,this.setState(o),this.area.appendChild(this.scrollArea),this.area.appendChild(this.footer),this.area.appendChild(this.header),t.appendChild(this.area)}function l(t){return t||!this.visItem||this.visItem.ignoreHeaderForAutoSize()}function c(t,e,o,n,i){var r;return i&&i.getCellStyle&&(r=i.getCellStyle(t,e,"idvcgrid_cell",o,n)),r||(r="idvcgrid_cell",t&&(r+=" "+e)),r}function d(t,e,n,i){if(t&&i){var r=i.getCell(e,n);"string"==typeof r?(t.isDirty&&(t.style.cssText=null,o.removeAllChildren(t),t.getBoundingClientRect(),delete t.isDirty),null!==r&&(t.innerHTML=r)):o.isHTMLNode(r)?(o.removeAllChildren(t),t.appendChild(r),t.isDirty=!0):r&&(o.applyObjectProperties(t,r),t.isDirty=!0)}}function u(t,e,o,n,i,r){t&&(t.className=c(n,i,e,o,r),d(t,e,o,r))}function f(t){if(t&&!t.isLeaf()){for(var e,o=t.getChildrenCount()-1;o>=0&&(e=t.getChild(o),!e.isVisible());o--);return e}}function h(t){if(t&&!t.isLeaf()){for(var e,o=0,n=t.getChildrenCount();o<n&&(e=t.getChild(o),!e.isVisible());o++);return e}}function p(t){var e=null;if(t)e=window.getComputedStyle(t,null);else{var o=document.createElement("button");o.style.position="absolute",o.style.left="0",o.style.top="0",document.body.appendChild(o),e=window.getComputedStyle(o,null),document.body.removeChild(o)}return e}function m(t,n){function r(t){function e(t,e,o){if(!t||!t.area.offsetParent)return{section:void 0,left:0,top:0,width:0,height:0};var n=document.createElement("div");n.className="idvcgrid_header_section idvcgrid_header_section_moving",n.innerHTML=t.header.innerHTML;var i=t.area;n.style.left=e+"px",n.style.top=o+"px",n.style.width=i.offsetWidth+"px";var r=t.getHeaderHeight();return n.style.height=r+"px",{section:n,left:i.offsetLeft,top:i.offsetTop,width:i.offsetWidth,height:r}}function o(t,n,i,r){if(t)for(var a=t.getChildrenCount(),s=0;s<a;s++){var l=void 0,c=t.getChild(s);if(c&&c.column&&c.isVisible()){l=e(c.column,i,r);var d=n.top+r+l.height;n.bottom<d&&(n.bottom=d),l.section&&n.childSections.push(l.section)}l&&(o(c,n,i,r+l.height),i+=l.width)}}if(!t)return{section:void 0,left:0,top:0,height:0};var n=document.createElement("div");n.className="idvcgrid_header_section_moving_container";var i=e(t,0,0);return t.visItem&&(i.childSections=[],i.bottom=i.top+i.height,o(t.visItem,i,0,i.height),i.height=i.bottom-i.top),n.style.left=i.left+"px",n.style.top=i.top+"px",n.style.height=i.height+"px",n.style.width=i.width+"px",n.appendChild(i.section),i.childSections&&i.childSections.forEach(n.appendChild.bind(n)),{section:n,left:i.left,top:i.top,height:i.height}}function a(t,e,o,n){n=n||window.event;var i=n[t]*e;if(n.shiftKey)o&&(this.area.scrollLeft+=i,n.stopPropagation(),n.preventDefault());else{var r=this.getScrollTop()+i;this.setScrollTop(r)}}function s(t){return{isFooter:-2===t,isHeader:-1===t,isRow:t>=0}}this.onDblClick=e.create(),this.onContextMenu=e.create(),this.onChangeCurrentRow=e.create(),this.onFitHeaderHeight=e.create(),this.onExpandColumn=e.create(),this.onChangeColumnWidth=e.create(),this.onShowTooltip=e.create(),this.onSetFocus=e.create(),this.onLostFocus=e.create(),this.area=document.createElement("div"),this.area.className="idvcgrid_body",void 0!==n&&this.area.setAttribute("tabindex",n),this.connectedBody=null,t.appendChild(this.area),this.columns=[],this.inActiveColumns=[],this.dataModel=null,this.scrolling=null,this._expandLastColumn=!0,this.updateNum=o.createCounter(),this.fitcentralColumnAsync=o.createAsyncCall(this.fitCentralColumnWidth,this,300),this.currentChangeAsync=o.createAsyncCall(function(t,e){this.onChangeCurrentRow.raise(t,e)}.bind(this),this,50),this.S=o.createSequence(),this._sizes={},this.area.refreshSize=function(t){if(this._needRefreshView)delete this._needRefreshView,this.refreshView();else{if(t&&!t.width)return;this.fitCentralColumnHeader(),this.fitLastColumn(),this._viewport.refreshRowsContent()}return!0}.bind(this);var l=this;this._viewport=function(){function t(t,e){var o,n=l.columns.length,i=n>L;i?(e||l.updateNum.next(),o=l.getVisibleColumnsRange()):o={first:0,last:n-1};for(var r=l.updateNum.get(),a=o.first;a<=o.last;a++){var s=l.columns[a];(!i||s&&s.updateNum!==r)&&(s.updateNum=r,t(s,a))}}var e=0,o=0,n=0,i=-1,r=function(){return e},a=function(){return o},s=function(t){return t>=r()&&t<=a()},c=function(){l.columns.length&&(o=e+l.getRowBufferSize()-1)},d=function(t){return t-r()},u=function(){return l.getRowsAreaHeight()},f=function(){return l.getRowBufferSize()?l.getRowHeight():0},h=function(){var t=u(),n=f(),i=this.getColumnsScrollTop();return t<=n*(o-e+1)-i},p=function(e,o){if(l.columns.length&&s(e)){var n=d(e);n>=0&&n<l.getRowBufferSize()&&t(function(t){t.updateRowStyle(e,n,o,l.dataModel)})}},m=function(e,o){var n=d(e);t(function(t){t.moveRows4Insert(n,o)})},g=function(o,n){var i=0,r=l.getRowBufferSize(),a=d(o);a+n>=r&&(n=r-a);var s=n-(e+r-l.dataModel.getRowCount());return t(function(t){i=t.moveRows4Remove(a,n,s)}),i},v=function(e,o){t(function(t){t.moveRows4ScrollBottom(e,o)})},_=function(e){t(function(t){t.moveRows4ScrollTop(e)})},y=function(t){for(var e=l.columns.length,o=0;o<e;o++)l.columns[o].addRowsTop(t)},b=function(t){for(var e=l.columns.length,o=0;o<e;o++)l.columns[o].addRowsBottom(t)},x=function(t,e,o){if(!(e=e||f()))return 0;t=t||u(),void 0===o&&l.columns.length&&(o=l.columns[0].getScrollTop());var n=Math.ceil((t+o)/e);return l.dataModel.getRowCount()<n&&(n=l.dataModel.getRowCount()),n};return{clear:function(){e=0,o=0,n=0,i=-1},setScrollTop:function(t){t<0&&(t=0);var i=f(),r=u(),a=function(t,e,o){var n=t*e-o;return n<0&&(n=0),n}(l.dataModel.getRowCount(),i,r);if(t>a&&(t=a),t!==this.getScrollTop()&&(n=t,i&&r)){var s=Math.floor(t/i+.05),c=t-s*i;c<0&&(c=0);var d=-1,h=s-e,p=o-e+1,m=x(r,i,c);if(p<m&&-h>0){var g=m-p;y(g),e=s,g===-h?this.regetRows(e,-h):this.regetRows(e)}else{var b=o;if(this.fitRowsCount(m),!h&&b<o&&this.regetRows(b+1,o-b),b=o,o+=h,o>=l.dataModel.getRowCount()&&(o=l.dataModel.getRowCount()-1),e=s,Math.abs(h)<p/2)if(h>0){var w=o-b;d=o-w,o===l.dataModel.getRowCount()-1&&d--,v(h,w),h=void 0}else h<0&&(d=s,h=-h,_(h));else d=e,h=void 0;d>=0&&this.regetRows(d,h)}this.setColumnsScrollTop(c)}},getScrollTop:function(){return n},setColumnsScrollTop:function(t){this.columnsScrollTop=void 0,l.columns.forEach(function(e){e.setScrollTop(t)});var e=this.getColumnsScrollTop();this.columnsScrollTop=e,n+=e-t},getColumnsScrollTop:function(){if(void 0!==this.columnsScrollTop)return this.columnsScrollTop;var t=0;return l.columns.some(function(e){return e.getState()!==w.expanded&&(t=e.getScrollTop(),!0)}),t},updateCurrentRow:function(t){i=t},setCurrentRow:function(t,e){p(e),i=t,p(t,"idvcgrid_cell idvcgrid_selected_row")},getCurrentRow:function(){return i},getSelectionStyle:function(){return"idvcgrid_cell idvcgrid_selected_row"},insertRows:function(t,n){t<=this.getCurrentRow()&&(i+=n),h.call(this)?t<=o&&t+n>=e&&(t<e&&t+n>=e&&(n-=e-t,t=e),m(t,n),this.regetRows(t)):this.createRows(t,n)},createRows:function(t,e){if(l.dataModel){var o;void 0===t?t=r():t<=a()&&(o=d(t)),void 0===e&&(e=l.dataModel.getRowCount());var n,i=u();l.S.do(function(){l.S.forEach(l.columns,function(r){r&&(n=r.createRows(i,t,e,o,this.getCurrentRow(),this.getSelectionStyle(),l.dataModel,n))}.bind(this),L)}.bind(this)).do_(c)}},regetRows:function(e,o){if(l.dataModel){(void 0===e||e<r())&&(e=r());var n=a();void 0!==o&&e+o<n&&(n=e+o-1),n>=l.dataModel.getRowCount()&&(n=l.dataModel.getRowCount()-1);var i=d(e);t(function(t){t.regetRows(e,n,i,this.getCurrentRow(),this.getSelectionStyle(),l.dataModel)}.bind(this))}},removeRows:function(t,o){if(l.dataModel&&(l.getCurrentRow()>=t&&l.getCurrentRow()<t+o&&l.setCurrentRow(t-1),t<this.getCurrentRow()&&(i-=o),t<e&&t+o>=e&&(o-=e-t,t=e),s(t)&&l.columns.length>0)){var n=g(t,o);c(),n>0&&this.regetRows(t),this.refreshSize()}},updateRow:function(e){if(s(e)&&l.dataModel){var o=d(e);t(function(t){t.updateRow(e,o,this.getCurrentRow(),this.getSelectionStyle(),l.dataModel)}.bind(this))}},updateColumn:function(t){var e=l.getColumnByDataIndex(t);l.dataModel&&e&&e.updateColumn(r(),a(),this.getCurrentRow(),this.getSelectionStyle(),l.dataModel)},updateCell:function(t,e){if(s(t)){var o=l.getColumnByDataIndex(e);if(l.dataModel&&o){var n=d(t);o.updateRow(t,n,this.getCurrentRow(),this.getSelectionStyle(),l.dataModel)}}},refreshSize:function(){var t=x();if(t){var n=e+t;if(n>o&&n>=l.dataModel.getRowCount()&&(n=l.dataModel.getRowCount()-1),n>o){var i=n-o;b(i),o=n,this.regetRows(o-i+1,i)}}},getRowTop:function(t){return(t-=e)*f()},calcExpand:function(t,e){var o=n;if(e&&s(t)){var i=u(),r=f();e*r>=i?o=t*r:t+e>a()&&(o=(t+e+1)*r-i)}return o},fitRowsCount:function(t){t=t||x();for(var e=0,o=l.columns.length;e<o;e++)l.columns[e].fitRowsCount(t);c()},refreshRowsContent:function(){if(!(l.columns.length<=L)){var e=r(),o=a(),n=d(e);t(function(t){t.regetRows(e,o,n,this.getCurrentRow(),this.getSelectionStyle(),l.dataModel)}.bind(this),!0)}},getTopRow:r}}();var c=function(t,e,o){o.classList.remove("idvcgrid_tooltip_ellipsis"),o.style.height="",o.offsetWidth>.8*window.innerWidth&&(o.style.height="auto",o.style.width=Math.floor(.8*window.innerWidth)+"px");var n=window.getComputedStyle(o,null),i=parseInt(n.getPropertyValue("margin-left"),10),r=t;r<0?r=0:r+i+o.offsetWidth+6>document.documentElement.clientWidth+window.scrollX&&(r=document.documentElement.clientWidth+window.scrollX-o.offsetWidth-i-6);var a=parseInt(n.getPropertyValue("margin-top"),10),s=e;s<0&&(s=0),s+o.offsetHeight+a+2>document.documentElement.clientHeight+window.scrollY&&(s=document.documentElement.clientHeight+window.scrollY-o.offsetHeight-a-2)<3&&(s=0,o.style.height=document.documentElement.clientHeight-2*(parseInt(n.getPropertyValue("padding-top"),10)+2)+"px",o.classList.add("idvcgrid_tooltip_ellipsis")),o.style.left=r+"px",o.style.top=s+"px"},d={elem:null,tooltip:null,timer:null},u=function(){d.tooltip&&document.body.removeChild(d.tooltip),d.timer&&(window.clearTimeout(d.timer),d.timer=null),d.attrs&&delete d.attrs,d.tooltip=null,d.elem=null},f=function(){if(d.elem){var t=d.elem.innerHTML,e=0;if(l.dataModel&&l.dataModel.getCellLayout){var n=l.dataModel.getCellLayout(t);n&&(t=n.text,e=n.margin)}if(t.length){var i=o.getElementPos(d.elem);if(i.x+=e,!(i.x>m.x)){var r=o.getElementPos(l.area),a=d.elem.offsetWidth-e;i.x+a>window.innerWidth+window.scrollX&&(a=window.innerWidth+window.scrollX-i.x),i.x+a>r.x+l.area.clientWidth&&(a=r.x+l.area.clientWidth-i.x);var s=document.createElement("div");s.className=d.elem.className+" idvcgrid_popup",s.innerHTML=t,o.copyAppearance(s,window.getComputedStyle(d.elem,null)),document.body.appendChild(s),s.offsetWidth-1>a||r.x>i.x?(r.x>i.x&&(i.x=r.x),c(i.x,i.y,s),d.tooltip=s):document.body.removeChild(s)}}}},h=function(){var t=d.attrs;if(t&&t.text.length){var e={completed:!1};if(l.onShowTooltip.raise(t.x,t.y,t.text,t.row,t.col,d.elem,e),!e.completed){var n=document.createElement("div");n.className="idvcgrid_popup idvcgrid_tooltip",n.innerHTML=t.text,o.setFont(n,p(l.area)),document.body.appendChild(n),c(t.x,t.y,n),d.tooltip=n}}};this.area.onmouseout=u;var m={x:-1,y:-1},g={x:-1,columnIndex:-1,columnObj:void 0,isStarted:!1,isScrolling:!1,scrollingInterval:void 0,areaPos:void 0,scrollingInfo:{scrollingDelta:0},oldClassName:"",clear:function(){this.x=-1,this.columnIndex=-1,this.columnObj=void 0,this.isStarted=!1,this.isScrolling=!1,this.oldClassName="",this.scrollingInterval&&(clearInterval(this.scrollingInterval),this.scrollingInterval=void 0),this.areaPos=void 0,this.columns&&delete this.columns,this.maxX&&delete this.maxX,this.oldClientHeight&&delete this.oldClientHeight}};this.area.onmousemove=function(t){function e(e,o,n,i){d.elem=i,d.attrs={x:t.pageX,y:t.pageY,row:o,col:n,text:e},d.timer=window.setTimeout(h,350)}if(t=t||event,(t.pageX!==m.x||t.pageY!==m.y)&&(m.x=t.pageX,m.y=t.pageY,u(),!t.ctrlKey&&!t.shiftKey&&l.columns.length>0&&g.columnIndex<0)){var n=l.hitTest(t),r=n.row;if(-1===r){if(n.columnObj){var a=n.columnObj,s=o.getElementPos(a.area);!a.isLastColumn()&&l.isResizable(a.dataIndex)&&t.pageX-s.x>s.width-8?a.header.style.cursor="ew-resize":(a.header.style.cursor="default",l.dataModel.getColumnDescription&&e(l.dataModel.getColumnDescription(a.dataIndex),r,n.columnObj.dataIndex,a.header))}}else if(r>=0){var c,p;l.dataModel.getCellTooltip&&n.columnObj&&(c=l.dataModel.getCellTooltip(r,n.columnObj.dataIndex),p=i(t.target,"cell"),c&&e(c,r,n.columnObj.dataIndex,p)),c||(p=i(t.target,"cell"))&&(d.elem=p,d.timer=window.setTimeout(f,250))}}};var v=function(t){if(g.columnIndex>=0&&g.columnObj){var e=t.pageX-g.x;if(g.isStarted){t.preventDefault();var n=l.columns[g.columnIndex];if(n){var i=n.getColumnWidth();e=t.pageX-g.x,(g.maxX&&g.maxX>=t.pageX||!g.maxX)&&i+e>=30&&(l.setColumnWidth(g.columnIndex,Math.round(i+e)),g.x=t.pageX)}var r=function(t,e){var o=t-(e.x+e.width);return o>50?o=50:o<0&&(o=0),o}(t.pageX,g.areaPos);g.scrollingInfo.scrollingDelta=r,!g.isScrolling&&r>0?(g.isScrolling=!0,g.scrollingInterval=setInterval(function(t){var e=t.scrollingDelta;l.area.scrollLeft+=e,g.x-=e,o.dispatchMouseEvent({x:g.x+e},"mousemove",window)},100,g.scrollingInfo)):g.isScrolling&&!r&&(g.isScrolling=!1,clearInterval(g.scrollingInterval),g.scrollingInterval=void 0)}else if(Math.abs(e)>5&&(g.isStarted=!0,g.areaPos=o.getElementPos(l.area),y=document.createElement("div"),y.className="idvcgrid_global_cursor",document.body.appendChild(y),l.isColumnResizingConstrainedByGridWidth())){var a=o.getElementPos(l.area);g.maxX=a.x+a.width-20}}},_=function(){return!1},y=null,b=function t(){g.columnObj&&(g.columnObj.header.className=g.oldClassName);var e=g.isStarted;y&&(document.body.removeChild(y),y=null),window.removeEventListener("mousemove",v,!0),window.removeEventListener("mouseup",t,!0),window.removeEventListener("selectstart",_,!1),e&&(g.oldClientHeight!==l.area.clientHeight&&l.refreshLayout({height:!0}),l.raiseColumnChanges(!1)),g.clear()},x=function(t,e){e=e||l.columns;var o=l.getColumnByPageX(t,e),n=o.columnIndex;if(n>=0){var i=e[n];o.x>i.getColumnWidth()/2&&n++}else n=e.length;return n},C=function t(e){if(e=e||window.event,g.columnObj&&(g.columnObj.header.className=g.oldClassName),g.isStarted)if(l.columnsVisModel){var o=g.columnObj.visItem.getParent();o.moveChild(g.columnIndex,x(e.pageX,g.columns)),l.refreshColumns(),y=null}else l.moveColumn(g.columnIndex,x(e.pageX),!0);else l.clickColumnHeader(g.columnObj);g.clear(),y&&(l.area.removeChild(y.header),l.area.removeChild(y.pointer),y=null),window.removeEventListener("mousemove",k,!0),window.removeEventListener("mouseup",t,!0),window.removeEventListener("selectstart",_,!1)},k=function(t){if(t=t||window.event,g.columnObj){if(t.preventDefault(),!l.isMovable(g.columnObj.dataIndex))return;var e=t.pageX-g.x;if(g.isStarted){var n=parseInt(y.header.style.left,10);y.header.style.left=n+e+"px",g.x=t.pageX;var i,a=g.columns||l.columns,s=x(t.pageX,g.columns);s<0?y.pointer.style.left=y.pointer.offsetWidth/2+"px":s>=a.length?(i=a[a.length-1],y.pointer.style.left=i.area.offsetLeft+i.area.offsetWidth-y.pointer.offsetWidth/2+"px"):(i=a[s],y.pointer.style.left=i.area.offsetLeft-y.pointer.offsetWidth/2+"px");var c=function(){var t=0;return y&&y.header&&(y.header.offsetLeft+y.header.offsetWidth>l.area.scrollLeft+l.area.clientWidth?(t=y.header.offsetLeft+y.header.offsetWidth-l.area.scrollLeft-l.area.clientWidth,(t=Math.min(t,g.wholeWidth-l.area.scrollLeft-l.area.clientWidth))<0&&(t=0)):y.header.offsetLeft<l.area.scrollLeft&&l.area.scrollLeft>0&&(t=l.area.scrollLeft-y.header.offsetLeft,t=Math.min(t,l.area.scrollLeft),t=-t)),t};if(!y.isScrolling){if(0!==c()){y.isScrolling=!0;var d=setInterval(function(){var t=c();0!==t?(l.area.scrollLeft+=t,n=parseInt(y.header.style.left,10),y.header.style.left=n+t+"px",o.dispatchMouseEvent({x:g.x},"mousemove",window)):(clearInterval(d),y&&(y.isScrolling=!1))},200)}}}else if(Math.abs(e)>5){if(g.columnObj.visItem){g.columns=[];for(var u=g.columnObj.visItem.getParent(),f=u.getChildrenCount(),h=0;h<f;h++){var p=u.getChild(h);p&&p.isVisible()&&(p===g.columnObj.visItem&&(g.columnIndex=h),g.columns.push(p.column))}if(g.columns.length<=1)return void delete g.columns}g.isStarted=!0;var m=r(g.columnObj);l.area.appendChild(m.section);var v=document.createElement("div");v.className="idvcgrid_arrow_up",v.style.top=m.top+m.height+"px",v.style.left=m.left-v.offsetWidth/2+"px",l.area.appendChild(v),y={header:m.section,pointer:v}}}},S=function(t){if(t=t||event,l.columns.length>0){var e=l.hitTest(t),o=e.row;if(-1===o){if(e.columnObj&&0===t.button&&!t.ctrlKey&&!t.shiftKey){g.x=t.pageX;var n=e.columnObj;if(g.columnObj=n,g.columnIndex=l.columns.indexOf(n),g.oldClassName=n.header.className,t.preventDefault(),"ew-resize"===n.header.style.cursor){if(n.header.className+=" idvcgrid_header_section_hover",g.isStarted=!1,g.columnIndex<0){var i=n.getLastChild();i&&(g.columnIndex=l.columns.indexOf(i))}g.oldClientHeight=l.area.clientHeight,window.addEventListener("mousemove",v,!0),window.addEventListener("mouseup",b,!0),window.addEventListener("selectstart",_,!1)}else l.columns.length>0&&(g.isStarted=!1,g.wholeWidth=l.area.scrollWidth,l.isSortable(n.dataIndex)&&(n.header.className+=" idvcgrid_header_section_active"),l.columns.length>1&&window.addEventListener("mousemove",k,!0),window.addEventListener("mouseup",C,!0),window.addEventListener("selectstart",_,!1))}}else if(o>=0){if(0!==t.button&&l.isRowSelected(o))return;l.setCurrentRow(o,!1,{ctrl:t.ctrlKey,alt:t.altKey,shift:t.shiftKey,toggle:t.ctrlKey,isMouse:!0}),l.rowVisible(o)}}};this.area.addEventListener("mousedown",S,!1),this.area.addEventListener("mousewheel",a.bind(this,"wheelDelta",-.25,!1),!1),this.area.addEventListener("DOMMouseScroll",a.bind(this,"detail",30,!0),!1),this.area.ondblclick=function(t){if(t=t||event,!t.ctrlKey&&!t.shiftKey&&l.columns.length>0){var e=l.hitTest(t),o=e.row,n=e.columnObj;n&&-1===o&&"ew-resize"===n.header.style.cursor?(n=n.getLastChild(),l.fitColumnOptimalWidth(l.columns.indexOf(n),n.getMaxAutoSizeWidth()),l.raiseColumnChanges(!1)):l.onDblClick.raise(o,n?n.dataIndex:-1,s(o))}},this.area.oncontextmenu=function(t){if(t=t||event,!t.ctrlKey&&!t.shiftKey&&l.columns.length>0){var e=l.hitTest(t),o=e.row,n=e.columnObj,i={stopPropagation:!0};l.onContextMenu.raise(o,n?n.dataIndex:-1,i,s(o),t.pageX,t.pageY,t),l.onContextMenu._subscribers.length&&i.stopPropagation&&t.stopPropagation()}},this.area.onselectstart=function(){return!1},this.area.onkeydown=function(t){var e={ctrl:t.ctrlKey,alt:t.altKey,shift:t.shiftKey,toggle:32===t.keyCode};33===t.keyCode?(l.currentPgUp(e),t.preventDefault()):34===t.keyCode?(l.currentPgDown(e),t.preventDefault()):35===t.keyCode?(l.currentEnd(e),t.preventDefault()):36===t.keyCode?(l.currentHome(e),t.preventDefault()):38===t.keyCode?(l.currentUp(e),t.preventDefault()):40===t.keyCode?(l.currentDown(e),t.preventDefault()):13===t.keyCode?l.getCurrentRow()>=0&&l.onDblClick.raise(l.getCurrentRow()):32===t.keyCode?l.setCurrentRow(l.getCurrentRow(),!1,e):65===t.keyCode&&(t.ctrlKey||t.metaKey)&&(e.all=!0,l.setCurrentRow(l.getCurrentRow(),!1,e),t.preventDefault())},this.area.onfocus=function(){this.processSetFocus(!0)}.bind(this),this.area.onblur=function(){l.processLostFocus(!0)},this.area.onscroll=function(){this.fitCentralColumnHeader(),this.visibleColumnsRange=void 0,this._viewport.refreshRowsContent(),"moz"===o.Consts.engine&&(this.hoverEnableAsync||(this.hoverEnableAsync=o.createAsyncCall(o.enableHover,void 0,250)),o.disableHover(this.area),this.hoverEnableAsync.call(this.area))}.bind(this)}function g(t){var e;if(t){var o=t.parentElement;o&&((e=o.columnObj)||(e=g(o)))}return e}function v(t,e){if(this.dataModel&&t){var o={state:e||t.getState(),width:300,height:t.getHeaderHeight()||this.headerLevelHeight,levelHeight:this.headerLevelHeight};t.setCaption(this.dataModel.getColumnCaption(t.dataIndex,o))}}function _(t,e){function n(t){t&&!t.height||(i.gridBody._sizes={},i.gridBody._viewport.refreshSize(),i._vertScroll.isVisible()&&Math.floor(i.gridBody.getScrollTop())!==Math.floor(i._vertScroll.getScrollTop())&&i._vertScroll.setScrollTop(i.gridBody.getScrollTop()),i.recalcScroll())}this._parent=o.getDomElement(t),this._vertScroll=new r(this._parent),this.gridBody=new m(this._parent,e),this.gridBody.scrolling=this._vertScroll,this._vertScroll.addScrolled(this.gridBody),this.gridBody.onRefreshScroll=this.recalcScroll.bind(this),this.gridBody.area.idvcGridObject=this;var i=this;this._parent.refreshSize=n,this.windowResizeListener=o.addWindowResizeListener(this._parent)}function y(t,e){if(t){e=e||function(){};for(var o=t.getChildrenCount(),n=0;n<o;n++){var i=t.getChild(n);e(i),y(i,e)}}}function b(t){return"number"==typeof t?t+"px":t}function x(){function t(e,o,n,i){var r,a=[],s=b(n),l=i,c=!0,d=!1,u=!1;return{getParent:function(){return o},getChildrenCount:function(){return a.length},getChild:function(t){return a[t]},addChild:function(e,o,n){n=n||w.expanded;var i=t(e,this,o,n);return a.push(i),i},getDataIndex:function(){return e},getWidth:function(){return s||"0"},setWidth:function(t){s=b(t)},getMaxAutoSizeWidth:function(){return r},setMaxAutoSizeWidth:function(t){r=t},getState:function(){return this.getChildrenCount()?l:w.simple},setState:function(t){l=t},setVisible:function(t){c=t},isVisible:function(){return c},setAutoSize:function(t){d=t},isAutoSize:function(){return d},ignoreHeaderForAutoSize:function(t){return void 0!==t&&(u=!!t),u},moveChild:function(t,e){var o=a.splice(t,1)[0];o&&(e>t&&e--,a.splice(e,0,o))},isLeaf:function(){return l===w.collapsed||!this.getChildrenCount()}}}var o=t(-1,void 0,void 0,w.expanded);return o.onChange=e.create(),o}r.prototype.setScrollSize=function(t,e){var o=this.scrollBody.getBoundingClientRect().height;if(o>0){var n=this.toArea(this.scrollBody.scrollTop);t<=1e7?(this.scrolledCoef=e/o,this.scrollSize.style.height=this.fromArea(t)+"px"):(this.scrolledCoef=(t-e)/(1e7-o),this.scrollSize.style.height=1e7+"px"),this.scrollBody.scrollTop=this.fromArea(n)}},r.prototype.toArea=function(t){return t*this.scrolledCoef},r.prototype.fromArea=function(t){return t/this.scrolledCoef},r.prototype.updateColumnsScrollTop=function(t){this.scrolled.forEach(function(e){e._updateColumnsScrollTop(t)})},r.prototype.addScrolled=function(t){this.scrolled.push(t)},r.prototype.removeExternalScrolled=function(t){this.scrolled.splice(1,Number.MAX_VALUE)},r.prototype.setScrollTop=function(t){this.scrollBody.scrollTop=this.fromArea(t)},r.prototype.getScrollTop=function(){return this.toArea(this.scrollBody.scrollTop)},r.prototype.hide=function(){return this.scrollBody.style.display="none"},r.prototype.show=function(){return this.scrollBody.style.display="block"},r.prototype.isVisible=function(){return"none"!==this.scrollBody.style.display};var w={collapsed:"+",expanded:"-",simple:" "};s.prototype.setState=function(t){if(t){t===w.simple||this.expandCollapse||(this.expandCollapse=document.createElement("div"),this.header.appendChild(this.expandCollapse),this.header.classList.add("idvcgrid_header_expand_collapse"),this.expandCollapse.onmousedown=function(t){t.stopPropagation()},this.expandCollapse.onmouseup=this.expandCollapse.onmousedown,this.expandCollapse.onclick=function(t){t.stopPropagation();var e=this.visItem;if(e){var o=e.getState();o=o===w.expanded?w.collapsed:w.expanded,this.setState(o)}this.onExpandColumn&&this.onExpandColumn(this)}.bind(this)),t===w.simple&&this.expandCollapse&&(this.header.removeChild(this.expandCollapse),delete this.expandCollapse,this.header.classList.remove("idvcgrid_header_expand_collapse"));var e;this.expandCollapse&&(e="idvcgrid_expand_collapse_column",t===w.expanded?e+=" idvcgrid_expanded_column":e+=" idvcgrid_collapsed_column",this.expandCollapse.className=e);var o=this.visItem;o&&o.setState(t),e="idvcgrid_column",o&&!o.isLeaf()&&(e+=" idvcgrid_inactive_column"),this.area.className=e,this.resetLayout()}},s.prototype.getState=function(){var t=w.simple;return this.expandCollapse&&(this.expandCollapse.classList.contains("idvcgrid_expanded_column")?t=w.expanded:this.expandCollapse.classList.contains("idvcgrid_collapsed_column")&&(t=w.collapsed)),t},s.prototype.hide=function(){if(this.canBeHidden()){var t=this.visItem;t&&t.setVisible(!1)}},s.prototype.canBeHidden=function(){var t=this.visItem;if(t){var e=t.getParent();if(e){for(var o=0,n=e.getChildrenCount()-1;n>=0;n--){e.getChild(n).isVisible()&&o++}return o>1}}return!1},s.prototype.resetLayout=function(){this._columnLayout&&this.setLayout(this._columnLayout)};var C=[["scrollArea","cells"],["header","header"],["area","column"],["footer","footer"]];s.prototype.setLayout=function(t){function e(t,e){if(e){Object.getOwnPropertyNames(e).forEach(function(o){"className"!==o?t.style[o]=e[o]:t.classList.add(e.className)})}}function o(t,e){if(e){Object.getOwnPropertyNames(e).forEach(function(o){"className"!==o?t.style[o]="":t.classList.remove(e.className)})}}function n(t){t&&C.forEach(function(e){t(this[e[0]],this._columnLayout[e[1]])}.bind(this))}this._columnLayout&&n.call(this,o),t?(this._columnLayout=t,n.call(this,e),t.width&&(this.area.style.width=t.width),t.textAlign&&(this.scrollArea.style.textAlign=t.textAlign,this.footer.style.textAlign=t.textAlign)):this._columnLayout&&delete this._columnLayout},s.prototype.setCaption=function(t){this.header.innerHTML=t,this.expandCollapse&&this.header.appendChild(this.expandCollapse)},s.prototype.setSortable=function(t){t?o.removeClass(this.header,"idvc_grid_notsortable"):o.addClass(this.header,"idvc_grid_notsortable")},s.prototype.setScrollTop=function(t){this.scrollArea.scrollTop!==t&&(this.scrollArea.scrollTop=t)},s.prototype.getScrollTop=function(){return this.scrollArea.scrollTop},s.prototype.getColumnWidth=function(){return this.area.offsetWidth},s.prototype.setTop=function(t){this._columnTop=t,this.area.style.top=t+"px"},s.prototype.getTop=function(){return this._columnTop||0},s.prototype.setHeaderHeight=function(t){this._columnHeaderHeight=t;var e=this.header;e.style.boxSizing="border-box",e.style.height=t+"px"},s.prototype.getHeaderHeight=function(){return this._columnHeaderHeight||(this._columnHeaderHeight=this.header.getBoundingClientRect().height),this._columnHeaderHeight},s.prototype.getRowBufferSize=function(){return this.scrollArea.children.length},s.prototype.prepare4OptimalWidth=function(t){var e=o.Consts.browserPrefix+"max-content";this.scrollArea.style.width=e,t=l.call(this,t),t||(this.header.style.width=e),this._prepared4OptimalWidth=!0},s.prototype.cleanUp4OptimalWidth=function(t){t=l.call(this,t),t||(this.header.style.width=null),this.scrollArea.style.width=null,this._prepared4OptimalWidth&&delete this._prepared4OptimalWidth},s.prototype.getOptimalWidth=function(t,e){if(this._columnOptimalWidth)return this._columnOptimalWidth;t=t||o.em2px(1.25,this.area),e=l.call(this,e);var n=0;return this._prepared4OptimalWidth||(this.prepare4OptimalWidth(e),delete this._prepared4OptimalWidth),e||(n=this.header.offsetWidth),n=Math.max(this.scrollArea.offsetWidth,n),this._prepared4OptimalWidth||this.cleanUp4OptimalWidth(e),this._columnOptimalWidth=Math.round(n+t),this._columnOptimalWidth},s.prototype.clearRows=function(){this.area.removeChild(this.scrollArea),this.scrollArea=document.createElement("div"),this.scrollArea.className="idvcgrid_column_scrolled",this.area.appendChild(this.scrollArea),this.resetLayout()},s.prototype.setLastColumnStyle=function(){var t=this.area.style;t.minWidth=t.width,t.width="auto",t.right="0"},s.prototype.isLastColumn=function(){return"auto"===this.area.style.width},s.prototype.clearLastColumnStyle=function(){if(this.isLastColumn()){var t=this.area.style;t.width=t.minWidth,t.minWidth="20px",t.right="auto"}},s.prototype.getRowsViewHeight=function(){return this.scrollArea.offsetHeight},s.prototype.getRowsViewStart=function(){return this._scrollAreaTop||this.scrollArea.offsetTop},s.prototype.getRowHeight=function(){return this._rowHeight||this.scrollArea.children[0].getBoundingClientRect().height},s.prototype.updateRowStyle=function(t,e,o,n){var i=void 0!==o;o=o||"";var r=c(i,o,t,this.dataIndex,n),a=this.scrollArea.children[e];a&&(a.className=r)},s.prototype.moveRows4Insert=function(t,e){for(var o=this.scrollArea,n=o.children.length-1,i=0;i<e;i++){var r=o.removeChild(o.children[n]);r.className="idvcgrid_cell",o.insertBefore(r,o.children[t])}},s.prototype.moveRows4Remove=function(t,e,o){for(var n=0,i=this.scrollArea,r=0;r<e;r++){var a=i.removeChild(i.children[t]);r<o&&(i.appendChild(a),n++)}return n},s.prototype.moveRows4ScrollBottom=function(t,e){for(var o=this.scrollArea,n=0;n<t;n++){var i=o.removeChild(o.children[0]);n<e&&o.appendChild(i)}},s.prototype.moveRows4ScrollTop=function(t){for(var e=this.scrollArea,o=0;o<t;o++){var n=e.removeChild(e.children[e.children.length-1]);e.insertBefore(n,e.children[0])}},s.prototype.addRowsTop=function(t){for(var e=this.scrollArea,o=0;o<t;o++){var n=document.createElement("div");e.insertBefore(n,e.children[0])}},s.prototype.addRowsBottom=function(t){for(var e=this.scrollArea,o=0;o<t;o++){var n=document.createElement("div");e.appendChild(n)}},s.prototype.fitChildrenCount=function(t){for(var e=this.scrollArea,o=e.children.length-t,n=0;n<o;n++)e.removeChild(e.lastChild)},s.prototype.fitRowsCount=function(t){var e=this.getRowBufferSize();t>e?this.addRowsBottom(t-e):t<e&&this.fitChildrenCount(t)},s.prototype.createRows=function(t,e,o,n,i,r,a,s){if(this._columnOptimalWidth&&delete this._columnOptimalWidth,a){var l=null;void 0!==n&&(l=this.scrollArea.children[n]);var c=this.scrollArea.children.length,d=a.getRowCount();c+o>d&&(o=d-c);for(var f=Math.min(e+o,d),h=e;h<f;h++){var p=document.createElement("div");if(u(p,h,this.dataIndex,h===i,r,a),l?this.scrollArea.insertBefore(p,l):this.scrollArea.appendChild(p),s||(s=p.getBoundingClientRect().height),-(t-=s)>s)break}}return this._rowHeight=s,s},s.prototype.updateFooter=function(t){t&&t.getFooter&&(this.footer.innerHTML=t.getFooter(this.dataIndex))},s.prototype.regetRows=function(t,e,o,n,i,r){if(this._columnOptimalWidth&&delete this._columnOptimalWidth,r)for(var a=o,s=t;s<=e;s++,a++){var l=this.scrollArea.children[a];u(l,s,this.dataIndex,s===n,i,r)}},s.prototype.updateRow=function(t,e,o,n,i){if(this._columnOptimalWidth&&delete this._columnOptimalWidth,i){u(this.scrollArea.children[e],t,this.dataIndex,t===o,n,i)}},s.prototype.updateLayout=function(t){var e=null;t&&t.getColumnLayout&&(e=t.getColumnLayout(this.dataIndex)),this.setLayout(e)},s.prototype.updateColumn=function(t,e,o,n,i){this.updateLayout(i),i&&(this.regetRows(t,e,0,o,n,i),this.updateFooter(i))},s.prototype.setWidth=function(t,e,o){var n=this.area.style.width;if("%"===n.charAt(n.length-1)){n=100*t/this.area.parentElement.offsetWidth+"%"}else n=t+"px";this.isLastColumn()?this.area.style.minWidth=n:this.area.style.width=n;var i=this.visItem;i&&i.getState()!==w.expanded?(e?this.scrollArea.children.length&&(i.isOptimalWidth=!0):i.isOptimalWidth&&delete i.isOptimalWidth,i.setAutoSize(e),i.setWidth(n)):i||(e?this.scrollArea.children.length&&(this.isOptimalWidth=!0):this.isOptimalWidth&&delete this.isOptimalWidth),o||this.fitParent()},s.prototype.setIsOptimalWidth=function(){if(this.scrollArea.children.length){var t=this.visItem;t&&t.getState()!==w.expanded?t.isOptimalWidth=!0:t||(this.isOptimalWidth=!0)}},s.prototype.setMaxAutoSizeWidth=function(t){"number"==typeof t?this._maxWidth=t:delete this._maxWidth},s.prototype.getMaxAutoSizeWidth=function(){var t=this._maxWidth;if(!t&&this.visItem){var e=this.visItem.getMaxAutoSizeWidth();"string"==typeof e?t=e.endsWith("em")?o.em2px(parseInt(e),this.scrollArea):parseInt(e):"number"==typeof e&&(t=e),t&&this.setMaxAutoSizeWidth(t)}return t},s.prototype.setScrollAreaTop=function(t){this.scrollArea.style.top=t+"px",this._scrollAreaTop=t},s.prototype.setLeft=function(t,e){this.area.style.left=t+"px",this._columnLeft=t,e||this.fitParent()},s.prototype.getLeft=function(){return this._columnLeft||this.area.offsetLeft},s.prototype.move=function(t){var e=this.area.offsetLeft;this.setLeft(e+t)},s.prototype.getParentColumn=function(){var t;if(this.visItem){var e=this.visItem.getParent();e&&(t=e.column)}return t},s.prototype.getLastChild=function(){var t=this,e=this.visItem;if(e&&!e.isLeaf()){var o=f(e);o&&(t=o.column.getLastChild())}return t},s.prototype.getFirstChild=function(){var t=this,e=this.visItem;if(e&&!e.isLeaf()){var o=h(e);o&&(t=o.column.getFirstChild())}return t},s.prototype.fitParent=function(){var t=this.visItem;if(t){var e=t.getParent();if(e){var o=e.column;if(o){if(h(e)===t){var n=this.getLeft(),i=o.getLeft();o.move(n-i)}if(f(e)===t){var r=this.getLeft()+this.getColumnWidth(),a=o.getColumnWidth(),s=o.getLeft()+a,l=r-s;o.setWidth(a+l)}}}}},m.prototype.hitTest=function(t){var e=-1,n=g(t.target);if(n&&this.getRowsAreaHeight()){var r=o.getElementPos(n.scrollArea);if(r.height||r.width){var a=t.pageY-r.y;if(a>r.height)e=-2;else if(a>0){var s=i(t.target,"cell");if(s){e=0;for(var l=s;l=l.previousSibling;)e++;e+=this._viewport.getTopRow()}else e=-3}}else e=-1}else n||(e=-3);return{row:e,columnObj:n}},m.prototype.getColumnByPageX=function(t,e){e=e||this.columns;var n,i=-1,r=e.length;if(r)for(var a=o.getElementPos(this.area),s=t-a.x+this.area.scrollLeft-e[0].area.offsetLeft,l=0;l<r;l++)if((s-=e[l].getColumnWidth())<=0){i=l,n=e[l],s=e[l].getColumnWidth()+s;break}return{columnIndex:i,x:s,columnObj:n}},m.prototype._isActive=function(){return this.columns.length>0},m.prototype._updateScrollTop=function(t){t!==this.getScrollTop()&&(this._viewport.setScrollTop(t),this.isCentralColumn()&&this.fitcentralColumnAsync.call())},m.prototype._updateColumnsScrollTop=function(t){this._viewport.setColumnsScrollTop(t)},m.prototype._getScrollState=function(){return{columnScrollTop:this._viewport.getColumnsScrollTop(),topRow:this._viewport.getTopRow()}},m.prototype.setScrollTop=function(t){t!==this.getScrollTop()&&this.scrolling.setScrollTop(t)},m.prototype.getScrollTop=function(){return this._viewport.getScrollTop()},m.prototype.clearView=function(){this.setScrollTop(0),o.removeAllChildren(this.area),this.columns.length=0,this.inActiveColumns.length=0,this._viewport.clear()},m.prototype.clearRows=function(t){this.setScrollTop(0);for(var e=0,o=this.columns.length;e<o;e++)this.columns[e].clearRows();this._viewport.clear(),void 0===t?this._viewport.updateCurrentRow(-1):this._viewport.updateCurrentRow(t)},m.prototype.refreshDataModel=function(){this.dataModel&&void 0!==this.dataModel.setElement&&this.dataModel.setElement(this)},m.prototype.refreshRows=function(t,e){void 0!==e&&this.dataModel&&this.dataModel.getRowCount()===e?(this._viewport.regetRows(),this.setCurrentRow(t)):(this.clearRows(t),this._viewport.createRows()),this.refreshDataModel()},m.prototype.refreshView=function(){o.removeAllChildren(this.area),this.columns.length=0,this.inActiveColumns.length=0,this.updateView()},m.prototype.refreshColumns=function(){var t=this.area.scrollLeft,e=this._viewport.getColumnsScrollTop();this.S.do_(this.refreshView.bind(this)).do_(function(){this.area.scrollLeft=t,this.scrolling.updateColumnsScrollTop(e),this.raiseColumnChanges(!0)}.bind(this))},m.prototype.raiseColumnChanges=function(t){this.columnsVisModel&&this.columnsVisModel.onChange&&this.columnsVisModel.onChange.raise(t)},m.prototype.processExpandColumn=function(t){this.refreshColumns(),this.onExpandColumn.raise(t.dataIndex,t.visItem.getState())},m.prototype.refreshScroll=function(){this.onRefreshScroll&&this.onRefreshScroll()},m.prototype.updateView=function(){if(!this.area.offsetParent)return void(this._needRefreshView=!0);this._sizes={},this.dataModel&&this.S.do_(this.insertColumns.bind(this)).do_(this._viewport.createRows.bind(this._viewport)).do(function(){this.refreshDataModel(),this.updateFooter(),this.isCentralColumn()?(this.fitCentralColumnWidth(),this.S.end()):this.applyColumnAutoSize()}.bind(this)).do_(this.refreshScroll.bind(this))},m.prototype.insertColumns=function(){function t(t,e,o){if(!l){var n=new s(this.area,t,e);return this.isSortable(t)||n.setSortable(!1),n.updateLayout(this.dataModel),o?this.columns.push(n):this.inActiveColumns.push(n),n}}function e(t,o,n,i,r,s,c){function d(t,l){if(!f()){for(var c=t,d=l.getChildrenCount();c<d;){if(f())return;var h=l.getChild(c);if(h&&h.isVisible()&&(u+=n.call(this,h,o)||0,a++,!h.isLeaf())){var p=e.call(this,h,o+1,n,i,r,s);i.call(this,h,p)}if(c++,0===o&&a>=L&&c<d-1){if(r.call(this),a=0,this.S.nextStep(e.bind(this,l,0,n,i,r,s,c)),f())return;break}}0===o&&c>=d&&(s.call(this),this.S.end())}}n=n||function(){},i=i||function(){},r=r||function(){},s=s||function(){},c=c||0;var u=0,f=function(){var t=!1;return this.S.canceled()&&(l=!0,this.S.end(),t=!0),t}.bind(this);return d.call(this,c,t),u}function o(o){a=0,e.call(this,o,0,function(e){var o=e.isLeaf(),n=e.getState(),i=t.call(this,e.getDataIndex(),n,o);if(a++,i.visItem=e,e.column=i,i.setState(n),i.onExpandColumn=this.processExpandColumn.bind(this),o){var r=e.getWidth();r&&(i.area.style.width=r)}})}function n(t){a=0,e.call(this,t,0,function(t){v.call(this,t.column,t.getState())})}function i(t){a=0;var o=new Map;e.call(this,t,0,function(t,e){var n=0;0===e?o.clear():n=o.get(e-1);var i=t.column,r={},a=i.header,s=a.getBoundingClientRect();r.headerPosTop=s.top,r.headerPosHeight=s.height,c.levelHeight||(c.levelHeight=s.height,this.headerLevelHeight=c.levelHeight);var l=i.getRowsViewStart();if(r.scrollTopDelta=this.keepScrollAreaOffset?l-s.height:0,t.getHeight){var d=t.getHeight();d>1&&(r.headerPosHeight=d*c.levelHeight,r.customHeaderPosHeight=r.headerPosHeight)}n+=r.headerPosHeight;var u=o.get(e);(!u||u<n)&&o.set(e,n),c.headerBottom<n+1&&(c.headerBottom=n+1,c.scrollTop=c.headerBottom+r.scrollTopDelta),t.isLeaf()&&(r.columnWidth=i.getColumnWidth()),t.calculatedPos=r})}function r(t){a=0;var o=new Map,n=0;e.call(this,t,0,function(t,e){var i=0;0===e?o.clear():i=o.get(e);var r=t.column,a=t.calculatedPos;o.set(e+1,i+a.headerPosHeight),r.setTop(i),r.setLeft(n,!0),t.calculatedPos.customHeaderPosHeight&&r.setHeaderHeight(a.customHeaderPosHeight);var s=0;return a.columnWidth&&(s=a.columnWidth,n+=a.columnWidth),delete t.calculatedPos,s},function(t,e){t.column.area.style.width=e+"px"},function(){this.fitHeaderHeight(c)},function(){this.fitHeaderHeight(c)})}var a=0,l=!1,c={headerBottom:0,scrollTop:0,levelHeight:0};if(this.dataModel){var d=this.dataModel.getColumnCount();this.S.do_(function(){if(this.columnsVisModel)this.S.do(o.bind(this,this.columnsVisModel)).do(i.bind(this,this.columnsVisModel)).do(r.bind(this,this.columnsVisModel)).do(n.bind(this,this.columnsVisModel));else{for(var e,a=0;a<d;a++){var s=a;this.dataModel.getDataIndex&&(s=this.dataModel.getDataIndex(s));var l=t.call(this,s,w.simple,!0);e||(e=l.getHeaderHeight(),this.headerLevelHeight=e),l.setHeaderHeight(e)}for(this.fitColumns(),this.fitHeaderHeight(),a=0,len=this.columns.length;a<len;a++)v.call(this,this.columns[a],w.simple)}}.bind(this)).do_(function(){var t=this.columns.length;t>=1&&this.isLastColumnExpanded()&&this.columns[t-1].setLastColumnStyle()}.bind(this))}},m.prototype.fitColumns=function(){if(!this.columnsVisModel){var t=this.columns.length;if(t){var e,o=0;this.keepScrollAreaOffset||(e=this.columns[0].getHeaderHeight());var n=[];n.length=t;for(var i=0;i<t;i++)n[i]=this.columns[i].getColumnWidth();for(i=0;i<t;i++){var r=this.columns[i];r.setLeft(o),o+=n[i],void 0!==e&&r.setScrollAreaTop(e)}}}};var L=200;return m.prototype.applyColumnAutoSize=function(t){t=t||this.columns;var e=0,o=!1;this.S.forEach(t,function(t,e){t&&t.prepare4OptimalWidth()}.bind(this),L);var n=[];n.length=t.length,this.S.forEach(t,function(t,e){if(t){var o=t.visItem;if((!o||!o.isAutoSize()&&parseInt(o.getWidth())||o.isOptimalWidth)&&(o||t.isOptimalWidth)||this.dataModel&&this.dataModel.beforeColumnAutoSize&&!this.dataModel.beforeColumnAutoSize(t.dataIndex))n[e]=-t.getColumnWidth();else{var i=t.getOptimalWidth();i=Math.ceil(Math.min(i,t.getMaxAutoSizeWidth()||i)),n[e]=i}}}.bind(this),L),this.S.forEach(t,function(t,e){t&&t.cleanUp4OptimalWidth()}.bind(this),L);var e=0;this.S.forEach(t,function(t,i){if(t){t.setLeft(e,!0);var r=n[i];r>0&&(t.setWidth(r,!0,!0),o=!0),e+=Math.abs(r)}}.bind(this),L),this.S.forEach(t,function(t,e){t&&t.fitParent()}.bind(this),L),o&&(this._sizes={})},m.prototype.fitHeaderHeight=function(t,e){if(this._sizes={},this.columns.length){if(t){this._sizes.headerBottom=t.headerBottom;for(var o=0,n=this.columns.length;o<n;o++){var i=this.columns[o],r=i.getTop();i.setHeaderHeight(t.headerBottom-r),i.setScrollAreaTop(t.scrollTop-r)}t.levelHeight&&!this.headerLevelHeight&&(this.headerLevelHeight=t.levelHeight)}this.isCentralColumn()&&this.updateColumnCaption(0),this.refreshScroll(),this._viewport.refreshSize(),e||this.onFitHeaderHeight.raise(t,!0)}},m.prototype.fitExpand=function(t,e){if(e){var o=this._viewport.calcExpand(t,e);this.setScrollTop(o)}},m.prototype.getColumnByDataIndex=function(t,e){function o(e){return e.dataIndex===t&&(n=e,!0)}var n=this.columns[t];return n&&n.dataIndex===t||(n=null,this.columns.some(o),!n&&e&&this.inActiveColumns.some(o)),n},m.prototype.updateCells=function(t){t.length||this._viewport.regetRows(),t.forEach(function(t){t&&(void 0===t.col?this._viewport.updateRow(t.row):void 0===t.row?this._viewport.updateColumn(t.col):-1===t.row?this.updateColumnCaption(t.col):this._viewport.updateCell(t.row,t.col))}.bind(this))},m.prototype.updateColumnCaption=function(t){var e=this.getColumnByDataIndex(t,!0);e&&v.call(this,e)},m.prototype.getSelectionStyle=function(){return"idvcgrid_cell idvcgrid_selected_row"},m.prototype.setCurrentRow=function(t,e,o){if(!isNaN(t)){var n=function(t){var e=!1,o=this.getCurrentRow();return o!==t&&(this._viewport.setCurrentRow(t,o),e=!0),e}.bind(this);this.dataModel&&this.dataModel.setCurrentRow&&(n=function(t,o){var n=!1;return this._viewport.updateCurrentRow(t),e||(n=this.dataModel.setCurrentRow(t,o)),n}.bind(this)),n(t,o)&&!e&&(this.currentChangeAsync.call(t,o),this.connectedBody&&this.connectedBody.setCurrentRow(t,!0,o,this))}},m.prototype.getCurrentRow=function(){return this.dataModel&&this.dataModel.getCurrentRow?this.dataModel.getCurrentRow():this._viewport.getCurrentRow()},m.prototype.isRowSelected=function(t){return this.dataModel&&this.dataModel.isRowSelected?this.dataModel.isRowSelected(t):this._viewport.getCurrentRow()===t},m.prototype.processSetFocus=function(t){this.area.classList.add("idvcgrid_focused"),this.connectedBody&&t&&this.connectedBody.processSetFocus(!1,this),t&&this.onSetFocus.raise()},m.prototype.processLostFocus=function(t){this.area.classList.remove("idvcgrid_focused"),this.connectedBody&&t&&this.connectedBody.processLostFocus(!1,this),t&&this.onLostFocus.raise()},m.prototype.getVisibleColumnsRange=function(){if(this.visibleColumnsRange)return this.visibleColumnsRange;var t=-1,e=-1,o=this.columns.length;if(o){for(var n=-this.area.scrollLeft,i=this.area.offsetWidth,r=0;r<o;r++)if((n+=this.columns[r].getColumnWidth())>0){t=r;break}if(n>=i)e=t;else{for(r=t+1;r<o;r++)if((n+=this.columns[r].getColumnWidth())>=i){e=r;break}e<0&&(e=o-1)}}return this.visibleColumnsRange={first:t,last:e},this.visibleColumnsRange},m.prototype.getVisibleRowsRange=function(){var t=this.getRowsAreaHeight(),e=this.getRowHeight(),o=this.getScrollTop();return{first:Math.ceil(o/e),last:Math.floor((o+t)/e+.2)-1}},m.prototype.isRowVisible=function(t){var e=this.getVisibleRowsRange();return t>=e.first&&t<=e.last},m.prototype.getRowPos=function(t){var e=0,o=this.getVisibleRowsRange();return t<o.first?e=-1:t>o.last&&(e=1),e},m.prototype.currentToVisibleTop=function(){this.rowVisibleTop(this.getCurrentRow())},m.prototype.currentToVisibleBottom=function(){this.rowVisibleBottom(this.getCurrentRow())},m.prototype.currentToVisibleCenter=function(t){this.rowVisibleCenter(this.getCurrentRow(),t)},m.prototype.rowVisibleTop=function(t){var e=t*this.getRowHeight();e<0&&(e=0),e!=this.getScrollTop()&&this.setScrollTop(e)},m.prototype.rowVisibleBottom=function(t){var e=this.getRowsAreaHeight(),o=(t+1)*this.getRowHeight()-e;o!=this.getScrollTop()&&this.setScrollTop(o)},m.prototype.rowVisibleCenter=function(t,e){if(e||!this.isRowVisible(t)){var o=this.getRowsAreaHeight(),n=(t+1)*this.getRowHeight()-o/2;n!==this.getScrollTop()&&this.setScrollTop(n)}},m.prototype.columnToVisible=function(t,e){function n(t,e){var o=this.area,n=o.scrollLeft,i=o.clientWidth,r=n;e>r+i&&(r=e-i),t<r&&(r=t),r!==n&&(this.area.scrollLeft=r)}function i(t){t=t||{};var e={left:t.left||0,width:t.width||0,useScrollLeft:t.useScrollLeft||!1,contentWidth:t.contentWidth||0},n=o.em2px(.5,this.area);return t.left&&(e.left-=n,e.left<0&&(e.left=0)),t.left&&(n+=t.left-e.left),e.width&&(e.width+=n),e}var r=this.getColumnByDataIndex(t,!0);if(!r)return!1;r=r.getFirstChild();var a=0,s=0;this.columns.some(function(t){return t!==r?(a+=t.getColumnWidth(),!1):(s=a+t.getColumnWidth(),!0)});var l=function(t,e){if(!t||!t.useScrollLeft)return t;var o=t.contentWidth||0,n=t.left;return n&&o&&o>e&&(o-n>=e?t.left=0:(t.left-=o-e,t.left<0&&(t.left=0))),t}(i.call(this,e),s-a),c=l.left,d=c+l.width;return d&&(s=Math.min(s,a+d)),n.call(this,a+c,s),!0},m.prototype.currentRowVisible=function(){this.rowVisible(this.getCurrentRow())},m.prototype.rowVisible=function(t){var e=this.getRowPos(t);e<0?this.rowVisibleTop(t):e>0&&this.rowVisibleBottom(t)},m.prototype.currentUp=function(t){var e=this.getCurrentRow()-1;e>=0&&(this.setCurrentRow(e,!1,t),this.rowVisible(e))},m.prototype.currentDown=function(t){var e=this.getCurrentRow()+1;this.dataModel&&e<=this.dataModel.getRowCount()-1&&(this.setCurrentRow(e,!1,t),this.rowVisible(e))},m.prototype.getPageRowCount=function(){var t=this.getRowsAreaHeight();return Math.floor(t/this.getRowHeight())},m.prototype.currentPgUp=function(t){if(this.getCurrentRow()>0){var e=this.getCurrentRow()-this.getPageRowCount();e<0&&(e=0),this.setCurrentRow(e,!1,t),this.rowVisible(e)}},m.prototype.currentPgDown=function(t){if(this.dataModel&&this.getCurrentRow()<this.dataModel.getRowCount()-1){var e=this.getCurrentRow()+this.getPageRowCount();e>=this.dataModel.getRowCount()&&(e=this.dataModel.getRowCount()-1),this.setCurrentRow(e,!1,t),this.rowVisible(e)}},m.prototype.currentHome=function(t){this.getCurrentRow()>0&&(this.setCurrentRow(0,!1,t),this.rowVisibleTop(0))},m.prototype.currentEnd=function(t){var e=this.dataModel.getRowCount()-1;this.dataModel&&this.getCurrentRow()<e&&(this.setCurrentRow(e,!1,t),this.rowVisibleBottom(e))},m.prototype.getRowHeight=function(){return void 0!==this._sizes.rowHeight?this._sizes.rowHeight:this.getRowBufferSize()?(this._sizes.rowHeight=this.columns[0].getRowHeight(),this._sizes.rowHeight):1},m.prototype.getRowTop=function(t){return this._viewport.getRowTop(t)},m.prototype.getViewHeight=function(){return this.columns.length?this.getRowsAreaHeight():1},m.prototype.getRowBufferSize=function(){return this.columns.length>0?this.columns[0].getRowBufferSize():0},m.prototype.getHeaderHeight=function(){return this.columns.length>0?this.columns[0].getHeaderHeight():0},m.prototype.getRowsAreaStart=function(){if(this.columns.length>0){var t=o.getElementPos(this.columns[0].scrollArea),e=o.getElementPos(this.area);return t.y-e.y}return 0},m.prototype.getRowsAreaHeight=function(){return void 0!==this._sizes.rowsAreaHeight?this._sizes.rowsAreaHeight:this.columns.length>0?(this._sizes.rowsAreaHeight=this.columns[0].getRowsViewHeight(),this._sizes.rowsAreaHeight):0},m.prototype.setColumnWidth=function(t,e,o){if(!(this.onSetColumnWidth&&this.onSetColumnWidth(t,e)||e<20)){var n=this.columns[t];if(n){var i=n.getColumnWidth();if(e!==i){n.setWidth(e,o),this._sizes={},e=n.getColumnWidth();for(var r=e-i,a=t+1,s=this.columns.length;a<s;a++)this.columns[a].move(r);this.onChangeColumnWidth.raise(t,e)}else o&&n.setIsOptimalWidth()}}},m.prototype.getColumnWidth=function(t){var e=this.columns[t];return e?e.getColumnWidth():0},m.prototype.getColumnOptimalWidth=function(t){var e=this.columns[t];return e?e.getOptimalWidth():0},m.prototype.fitColumnOptimalWidth=function(t,e){var o=this.columns[t];if(o){var n=o.getOptimalWidth();e&&n>e&&(n=e),this.setColumnWidth(t,n,!0)}},m.prototype.isCentralColumn=function(){return 1===this.columns.length&&this.columns[0].isLastColumn()},m.prototype.fitCentralColumnWidth=function(){if(this.isCentralColumn()){var t=this.columns[0],e=t.getOptimalWidth(1,!0);t.setWidth(e),this._sizes={},this.fitCentralColumnHeader()}},m.prototype.fitLastColumn=function(){var t=this.columns;this.isLastColumnExpanded()&&t.length&&t[t.length-1].fitParent()},m.prototype.isSortable=function(t){return!this.dataModel||!this.dataModel.isColumnSortable||this.dataModel.isColumnSortable(t)},m.prototype.isMovable=function(t){return!this.dataModel||!this.dataModel.isColumnMovable||this.dataModel.isColumnMovable(t)},m.prototype.isResizable=function(t){return!this.dataModel||!this.dataModel.isColumnResizable||this.dataModel.isColumnResizable(t)},m.prototype.clickColumnHeader=function(t){if(this.dataModel&&this.dataModel.onSortColumn&&t&&this.isSortable(t.dataIndex)){this.dataModel.onSortColumn(t.dataIndex,this.getCurrentRow())&&this.currentToVisibleCenter()}},m.prototype.moveColumn=function(t,e,o){var n=t===this.columns.length-1||e>=this.columns.length;if(!(t===e||this.columns.length<2||t<e&&t===this.columns.length-1)&&(e>this.columns.length?e=this.columns.length:e<0&&(e=0),t<e&&e--,t!==e)){var i=this.columns[t];if(i){n&&this.isLastColumnExpanded()&&this.columns[this.columns.length-1].clearLastColumnStyle();for(var r=i.getColumnWidth(),a=t>e?r:-r,s=t>e?-1:1,l=0,c=t+s;c!==e+s;c+=s)l+=this.columns[c].getColumnWidth();l=t>e?-l:l;var d=this,u=function(){for(var o=t+s;o!==e+s;o+=s)d.columns[o].setLeft(d.columns[o].getLeft()+a,!0);d.columns[t].setLeft(d.columns[t].getLeft()+l,!0),d.columns.splice(t,1),d.columns.splice(e,0,i),n&&d.isLastColumnExpanded()&&d.columns[d.columns.length-1].setLastColumnStyle()};if(o)var f=0,h=Math.floor(a/9),p=Math.floor(l/9),m=setInterval(function(){for(var o=t+s;o!==e+s;o+=s)d.columns[o].setLeft(d.columns[o].getLeft()+h,!0);d.columns[t].setLeft(d.columns[t].getLeft()+p,!0),a-=h,l-=p,8===++f&&(clearInterval(m),u())},10);else u()}}},m.prototype.getColumnsInfo=function(){return this.columns.map(function(t){return{index:t.dataIndex,width:t.area.style.width}})},m.prototype.updateFooter=function(){for(var t=0,e=this.columns.length;t<e;t++)this.columns[t].updateFooter(this.dataModel)},m.prototype.fitCentralColumnHeader=function(){var t=this.area;if(this.isCentralColumn()){var e=this.columns[0],o=parseInt(e.header.style.paddingLeft),n=parseInt(e.header.style.paddingRight);if(!(t.scrollWidth<=t.clientWidth&&o===n)){e.header.style.paddingLeft="0px",e.footer.style.paddingLeft="0px",e.header.style.paddingRight="0px",e.footer.style.paddingRight="0px";var i=4+t.scrollLeft+"px",r=t.scrollWidth-t.scrollLeft-t.clientWidth;r<0&&(r=0);var a=4+r+"px";e.header.style.paddingLeft=i,e.footer.style.paddingLeft=i,e.header.style.paddingRight=a,e.footer.style.paddingRight=a}}},m.prototype.expandLastColumn=function(t){this._expandLastColumn=t},m.prototype.isLastColumnExpanded=function(){return this._expandLastColumn},m.prototype.refreshLayout=function(t){t=t||{width:!0,height:!0};var e=this.area.idvcGridObject._parent;o.refreshSize(e,t)},m.prototype.setColumnResizingConstrainedByGridWidth=function(t){t?this._isColumnResizingConstrainedByGridWidth=!0:delete this._isColumnResizingConstrainedByGridWidth},m.prototype.isColumnResizingConstrainedByGridWidth=function(){return!!this._isColumnResizingConstrainedByGridWidth},m.prototype.hideTooltip=function(){this.area.onmouseout&&this.area.onmouseout()},_.prototype.destroy=function(){this.setDataModel(void 0,void 0),this.windowResizeListener.remove(),delete this.windowResizeListener,delete this.gridBody.area.idvcGridObject},_.prototype.updateView=function(){this.gridBody.S.cancel().do_(this.gridBody.updateView.bind(this.gridBody))},_.prototype.processDataChanges=function(t){var e=!0;t&&void 0!==t.count&&void 0!==t.start?(t.count>0?this.gridBody._viewport.insertRows(t.start,t.count):this.gridBody._viewport.removeRows(t.start,-t.count),this.recalcScroll()):Array.isArray(t)?(this.gridBody.updateCells(t),e=!1):!t||void 0===t.currentRow&&void 0===t.rowCount?!t||void 0===t.regetStart&&void 0===t.regetCount?(this.gridBody.clearView(),this.updateView()):(t.rowCountChanged&&this.gridBody._viewport.fitRowsCount(),this.gridBody._viewport.regetRows(t.regetStart,t.regetCount),t.rowCountChanged&&this.recalcScroll()):(this.gridBody.refreshRows(t.currentRow,t.rowCount),this.recalcScroll()),e&&this.gridBody.isCentralColumn()&&setTimeout(this.gridBody.fitCentralColumnWidth.bind(this.gridBody),0)},_.prototype.recalcScroll=function(){var t=this._vertScroll.scrollBody,e=!1,n=this.gridBody.dataModel?this.gridBody.dataModel.getRowCount():0;if(n){var i=this.gridBody.getRowHeight();if(i>1){var r=n*i,a=this.gridBody.getRowsAreaHeight();if(this._vertScroll.setScrollSize(r,a),r>a){if(void 0===t.style||void 0===t.style.display||"none"!==t.style.display){t.style.visibility="visible",t.style.width="2em";var s=t.offsetWidth-t.clientWidth;s<=1&&(s=16);var l=this.gridBody.area.offsetHeight-this.gridBody.area.clientHeight;l<0&&(l=0),"webkit"===o.Consts.engine&&s++,t.style.width=s+"px",this.gridBody.area.style.right=s+"px",t.style.bottom=l+"px",this._vertScroll.setScrollSize(r,a),e=!0}}else t.style.visibility="hidden",this.gridBody.area.style.right="0px",e=!0}}else t.style.visibility="hidden",this.gridBody.area.style.right="0px",e=!0;e&&this.gridBody.fitLastColumn()},_.prototype.setDataModel=function(t,e){var o=this.gridBody.dataModel;o&&(void 0!==o.setElement&&o.setElement(null),this.gridBody.clearView(),o.changed.unsubscribe(this,this.processDataChanges)),this.gridBody.dataModel=t,this.gridBody.columnsVisModel=e,t&&(t.changed.subscribe(this,this.processDataChanges),this.updateView())},_.prototype.setCurrentRow=function(t){this.gridBody.setCurrentRow(t)},_.prototype.getCurrentRow=function(){return this.gridBody.getCurrentRow()},_.prototype.hideVertScroll=function(){this._vertScroll.hide(),this.gridBody.area.style.right="0px"},_.prototype.showVertScroll=function(){this._vertScroll.show(),this.gridBody.area.style.right=""},_.prototype.isVertScrollVisible=function(){return this._vertScroll.isVisible()},_.prototype.setHorzScrollType=function(t){this.gridBody.area.style.overflowX=t},_.prototype.hideHeader=function(){o.addClass(this.gridBody.area,"idvcgrid_hidden_header")},_.prototype.showFooter=function(){o.addClass(this.gridBody.area,"idvcgrid_visible_footer"),o.refreshSize(this._parent,{height:!0})},_.prototype.hideFooter=function(){o.removeClass(this.gridBody.area,"idvcgrid_visible_footer"),o.refreshSize(this._parent,{height:!0})},_.prototype.updateFooter=function(){this.gridBody.updateFooter()},_.prototype.getColumnByDataIndex=function(t,e){return this.gridBody.getColumnByDataIndex(t,e)},_.prototype.hideColumn=function(t){var e=this.getColumnByDataIndex(t,!0);e&&(e.hide(),this.gridBody.refreshColumns())},_.prototype.canColumnBeHidden=function(t){var e=this.getColumnByDataIndex(t,!0);return!!e&&e.canBeHidden()},_.prototype.hideTooltip=function(){this.gridBody.hideTooltip()},_.prototype.showAllColumns=function(){y(this.gridBody.columnsVisModel,function(t){t&&!t.isVisible()&&t.setVisible(!0)}),this.gridBody.refreshColumns()},_.prototype.getInvisibleColumnsCount=function(){var t=0;return y(this.gridBody.columnsVisModel,function(e){e&&!e.isVisible()&&t++}),t},_.prototype.getColumnsInfo=function(){return this.gridBody.getColumnsInfo()},_.prototype.columnToVisible=function(t,e){this.gridBody.columnToVisible(t,e)},_.prototype.getRowCount=function(){var t=this.gridBody.dataModel;return t&&t.getRowCount?t.getRowCount():0},{create:function(t,e){return new _(t,e)},loadCSS:n,HeaderItemState:w,createHeaderVisModel:x}}.apply(e,i),i=[g,h,u,v,b,x,p],w=function(t,e,o,n,i,r,a){function s(){this._columnCount=1,this._rowCount=100,this.changed=a.create()}var l=[];s.prototype.getColumnCount=function(){return this._columnCount},s.prototype.getRowCount=function(){return l.length||0},s.prototype.getColumnCaption=function(){return""},s.prototype.getCell=function(t,o){var n="";if(t>=0&&t<l.length){var r=l[t].loop,n=r.name,a=r.locat;n&&"["!==n[0]&&a&&(n+=" at "+a);var s=r.rooflinePoint;if(s&&!r.filtered){var c=l[t].backgroundColor;if(!c){if(!(c=s.el.getAttr("data-color"))){c=window.getComputedStyle(s.el.el,null).getPropertyValue("fill"),-1!==c.indexOf("url")&&(c="lightgray")}l[t].backgroundColor=c}c||(c="lightgray");n={innerHTML:n,style:{backgroundImage:i.getPointIcon(e.getPointConstructor(r.resIndex)||i.CirclePoint,c)}}}}return n},s.prototype.getCellStyle=function(t,e,o,n,i){var r;if(n>=0&&n<l.length&&(r=l[n])&&r.loop&&r.loop.rooflinePoint){var a=r.loop.rooflinePoint.el;if(a&&a.isHidden()||r.loop.filtered)return o+" "+(t?e+" ":" ")+"hidden_loop"}},s.prototype.toString=function(){return"[object DataModel]"};var c,d=new s;return{create:function(e,i,a,s){c=r.create(e,"0"),c.hideHeader(),c.setDataModel(d),"function"==typeof i&&c.gridBody.onChangeCurrentRow.subscribe(this,function(t){if(this.processFill)return void delete this.processFill;i(l[t].loop)}),"function"==typeof a&&c.gridBody.onDblClick.subscribe(this,function(t){a(l[t].loop)}),"function"==typeof s&&c.gridBody.onContextMenu.subscribe(this,function(t,e,i,r,a,c,d){var u=[];if(t>=0){var f=l[t].loop;f&&f.state&&u.push({caption:"-"===f.state?o.getMessage("roofline_menu_collapse"):o.getMessage("roofline_menu_expand"),command:s.bind(this,f)})}i.stopPropagation=!1,n.show(u,a,c),n.defProcessing(d)}),t.onChangeSettings.subscribe(this,function(t){"colorMode"!==t&&"defLoopColor"!==t&&"nstLoopColor"!==t&&"loopsThs"!==t||this.refresh()})},fill:function(t){if(this.currentLoop!==t){for(this.currentLoop=t,l=[];t;)l.unshift({loop:t}),t=e.getParent(t);l.length&&"Total"===l[0].loop.name&&l.shift(),d.changed.raise(),this.processFill=!0,c.gridBody.setCurrentRow(l.length-1),c.gridBody.currentToVisibleBottom()}},refresh:function(t){t&&t!==this.currentLoop&&!l.some(function(e){return e.loop===t})||(l.forEach(function(t){t&&t.backgroundColor&&delete t.backgroundColor}),setTimeout(function(){d.changed.raise({regetStart:0,regetCount:l.length})},10))}}}.apply(e,i),i=[p],C=function(t){function e(t,e,o){function n(t,e,n){return o(t,e,n)||t}o=o||function(){},Array.isArray(e)?e.forEach(function(e){t&&(t=n(t[e],e,t))}):n(t[e],e,t)}function o(){}function n(t,o,n){e(o,t,function(t){t&&t.send(n)})}function i(t,n){var i;return e(n,t,function(t,e,n){return t||(t=new o,n[e]=t),i=t,t}),i}function r(){this.eventSet={}}o.prototype.send=function(t){this.signal&&this.signal.raise.apply(this.signal,t.args)},o.prototype.recv=function(e,o){this.signal||(this.signal=t.create()),this.signal.subscribe(o,e)},r.prototype.send=function(t){var e={args:[].slice.call(arguments,1)};n(t,this.eventSet,e)},r.prototype.recv=function(t,e,o){var n=i(t,this.eventSet);n&&n.recv(e,o)};var a=new r;window.idvcGlobalCommunicationTube=a;var s={};return window.idvcLocalCommunicationTubes=s,{send:function(){a.send.apply(a,arguments)},recv:function(t,e,o){a.recv(t,e,o)},get:function(t){var e=s[t];return e||(e=new r,s[t]=e),e},nm:function(){return[].concat(Array.prototype.slice.call(arguments))}}}.apply(e,i),i=[s],L=function(t){function e(t){if(!Array.isArray(t))return"";var e=Array.isArray(t.classes)?t.classes:[];e.push("idvcgrid_cell_items_container");var o='<div class="'+e.join(" ")+'">';return t.forEach(function(t){var e=Array.isArray(t.classes)?t.classes:[];e.push("idvcgrid_cell_item");var n="";t.color&&(n="color:"+t.color+";"),o+='<span class="'+e.join(" ")+'" style="'+n+"width: "+t.width+';"></span>'}),o+="</div>"}function o(t,e){if(void 0===t||null===t)return"";var o=t;return e&&(o='<span class="idvcgrid_cell_text" style="width: '+e+'">'+t+"</span>"),o}function n(t,o){if(""===t)return t;t>100&&(t=99.9999);var n=t;void 0!==o&&(n=(+t).toFixed(o));var i='<span class="idvcgrid_cell_text">'+n+"%</span>";if(t>0){i+=e([{color:"rgb("+Math.floor(t/100*255)+", 0, "+Math.floor((100-t)/100*255)+")",width:n+"%"}])}return i}function i(t,o,n){if(""===t)return t;if(t>0){var i=t;if("number"==typeof n?i=(+t).toFixed(n):"function"==typeof n&&(i=n(t)),o){var r=255;2*t<o&&(r=Math.floor(2*t/o*255));var a="rgb("+r+","+(255-r)+",0)",s=Math.floor(t/o*100);return s>6?i+e([{color:a,width:s+"%"}]):i}return i}return"0"}function r(t,n,i){return'<div class="idvcgrid_cell_content_container">'+o(t,n)+e(i)+"</div>"}function a(t,e){return e?function(t){for(var e=["b","Kb ","Mb ","Gb"],o="",n=e.length,i=0;i<n&&t>0;i++){var r=Math.floor(t/1024);o=(t-1024*r).toFixed(0)+e[i]+o,t=r}return o.length||(o="0b"),o}(t):function(t){for(var e=["b","Kb","Mb","Gb"],o="0b",n=e.length,i=0;i<n&&t>1;i++)t>1&&(o=t.toFixed(i>0?3:0)+e[i]),t/=1024;return o}(t)}function s(t){return t.toFixed(0)/1e3+"s"}function l(t,e){var o,n="";return t.indexOf("idvcgrid_column_sorting")<0&&(void 0!==e.sortingWait?o="idvcgrid_column_sorting idvcgrid_sorting_waiting":void 0!==e.sortingForward&&(o="idvcgrid_column_sorting",e.sortingForward||(o+=" idvcgrid_sorting_backward")),o&&(n='<span class="'+o+'"></span>')),t+n}function c(t,e){var o="",n="";return e&&e.levelHeight&&e.height<1.5*e.levelHeight&&(n=' style="white-space: nowrap;"'),o='<span class="idvcgrid_header_section_text"'+n+">"+t+"</span>",o=l(o,e)}function d(t){if(!Array.isArray(t))return"";var e=["idvcgrid_header_legend"].concat(t.classes).join(" "),o='<div class="'+e+'">';return t.forEach(function(t){var e=["idvcgrid_legend_color"].concat(t.colorClasses).join(" "),n=["idvcgrid_legend_text"].concat(t.textClasses).join(" ");o+='<span class="'+e+'" style="color: '+t.color+';"></span><span class="'+n+'">'+t.text+"</span>"}),o+="</div>"}function u(t,e){return'<div class="idvcgrid_header_container"><div class="idvcgrid_header_caption">'+t+"</div>"+d(e)+"</div>"}function f(t){switch(t){case w.collapsed:return" idvcgrid_collapsed";case w.expanded:return" idvcgrid_expanded";case w.simple:return" idvcgrid_empty";case w.waiting:return" idvcgrid_waiting";default:return""}}function h(t,e,o){var n=t;o=o||{};var i=o.className||"idvcgrid_search_str",r=void 0!==o.currentIndex?o.currentIndex:-1,a=o.currentClassName||"idvcgrid_current_search_str",s="g";o.ignoreCase&&(s+="i");var l=0;return e&&(n=n.toString().replace(new RegExp(function(t){return t.replace(/[.*+?^=!:${}()\-[\]|\/\\]/g,"\\$&")}(e),s),function(t){var e=i;return l===r&&(e=a),l++,'<span class="'+e+'">'+t+"</span>"})),n}function p(t,e,o){var n=t;if(e.length){o=o||{};var i,r=o.className||"idvcgrid_search_str",a=void 0!==o.currentIndex?o.currentIndex:-1,s=o.currentClassName||"idvcgrid_current_search_str";a>=0&&(i=e[a]);for(var l=e.length-1;l>=0;l--){var c=r,d=e[l];i===d&&(c=s);n=n.slice(0,d.start)+'<span class="'+c+'">'+n.slice(d.start,d.end)+"</span>"+n.slice(d.end)}}return n}function m(){if(!x){x="1em";t:for(var t in document.styleSheets){var e=document.styleSheets[t];if(e){var o=e.cssRules||e.rules;for(var n in o){var i=o[n];if(i.selectorText&&".expand_collapse"===i.selectorText&&i.style.left){x=i.style.left;break t}}}}}return x}function g(t){var e;if(t){var o=document.createElement("div");o.className="idvcgrid_expand_collapse idvcgrid_collapsed",o.style.marginLeft=m(),o.style.position="absolute",o.style.left="0",t.appendChild(o),e={offset:o.offsetLeft,width:o.offsetWidth},t.removeChild(o)}return e}function v(e){return e?t.Consts.browserPrefix+"calc("+e+"*"+m()+")":"0"}function _(t,e,o){return e===w.none?"":'<span class="idvcgrid_widget idvcgrid_expand_collapse'+f(e)+'" onclick="event.stopPropagation();" ondblclick="event.preventDefault();" id="'+t+'" style="margin-left: '+v(o)+'" data-hierarchical-level='+o+"></span>"}function y(t,e,o){return'<span class="idvcgrid_widget idvcgrid_more_text" onclick="event.stopPropagation();" ondblclick="event.preventDefault();" id="'+e+'" style="margin-left: '+v(o)+'">'+t+"</span>"}function b(e,o,n){var i={text:e,margin:0};if(e.indexOf("idvcgrid_expand_collapse",0)>=0&&o){var r=e.indexOf("margin-left: ")+"margin-left: ".length,a=e.indexOf(")",r)+1,s=a>r?e.slice(r,a):"0";r=e.indexOf(">",r)+1,r=e.indexOf(">",r)+1;var l=e.slice(r),c=e.indexOf('class="')+'class="'.length,d=e.indexOf('"',c),u=e.slice(c,d);u=u.replace("idvcgrid_expanded","idvcgrid_collapsed");var f=document.createElement("div");f.className=u,f.style.marginLeft=s,f.style.position="absolute",f.style.left="0",o.appendChild(f);var h=window.getComputedStyle(f,null),p=f.getBoundingClientRect(),m=o.getBoundingClientRect(),g=p.left+p.width+parseFloat(h.getPropertyValue("margin-right"))-m.left;o.removeChild(f),i={text:l,margin:g}}if(n){i.search=[];var v=document.createElement("div");v.innerHTML=i.text,v.style.position="absolute",v.style.whiteSpace="pre",v.style.left="0",o.appendChild(v);var _=t.getElementPos(v).x;i.contentWidth=v.scrollWidth+i.margin;var y=v.querySelectorAll("span");[].forEach.call(y,function(e){if(e.className.indexOf("_search_str")>=0){var o=t.getElementPos(e);i.search.push({left:o.x-_+i.margin,width:o.width})}}),o.removeChild(v)}return i}var x,w={collapsed:"+",expanded:"-",simple:" ",waiting:"w",none:""},C=function(){var t={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;"};return function(e){return"string"==typeof e?e.replace(/[<>&"]/g,function(e){return t[e]}):e}}(),L=function(){var t={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"'};return function(e){return"string"==typeof e?e.replace(/\&[a-z]{2,4};/gi,function(e){return t[e]||e}):e}}();return{RowState:w,decoratePercent:n,decorateValue:i,decorateValueEx:r,decorateMemorySize:a,decorateTime:s,addSortingIndicator:l,decorateCaption:c,buildHeaderWithLegend:u,escapeHTML:C,unEscapeHTML:L,getLevelSize:g,getExpandWidgetStyle:f,decorateSearchStr:h,decorateSearchPositions:p,decorateExpand:_,decorateMore:y,getContentLayout:b}}.apply(e,i),i=[],k=function(){function t(t){var e=t.rooflinePoint;return{x:e.getX(),y:e.getY()}}function e(t,e){return t.rooflinePoint.calcLineEndPoint(e.x,e.y)}function o(o,n,i){var r=t(o),a=e(n,r);return r=e(o,a),i?[a,r]:[r,a]}function n(t,e){e&&e.setPointFront(t)}function i(t){if(t){var e=t.split(" ");if(e.length>0){var o=e[0];return e.length>1&&-1!==e[1].indexOf("L1")&&(o="L1"),o}}return"L1"}function r(t){if(t){return t.split(" ").filter(function(t){return t.length}).join(" ")}return"L1"}return{getLoopPoints:o,setLoopPointFront:n,getLoopMemoryLevel:i,getLoopMemoryLevelCaption:r}}.apply(e,i),i=[g,l,d,h,w,c,u,v,C,s,L,y,b,k],S=function(t,e,o,n,i,r,a,s,l,c,d,u,f,h){function p(t){return void 0===t?Y:t}function m(t,e){var o={isValid:!1,isNew:!0};if(!t||!e)return o;var n=e.style.backgroundColor.toLowerCase();e.style.backgroundColor="",e.style.backgroundColor=t;var i=e.style.backgroundColor.toLowerCase();return n===i?(o.isValid=!0,o.isNew=!1):o.isValid=!!i,o.isValid||(e.style.backgroundColor=n),o}function g(){}function v(t){if(t){var e=t.loopData;if(e){var o=X.getLoopInfo(e),n=o.getRadius();t.setR(n),X.fillLoop(t,o)}}}function _(){E&&(g(),X.fillPatterns(),E.points.forEach(v))}function y(t){return O||(O=c.getElementPos(E.centralPart.body)),{x:t.pageX-O.x,y:t.pageY-O.y}}function b(t,e,o){var n,i=y(o);n=H?{x:H.x,y:H.y}:E.tr.P2L(i.x,i.y),o[t]*e<0?M.zoomIn(2,n):M.zoomOut(2,n)}function x(t){var e="";return t&&n.getResultCount()>1&&(e=a.getMessage("roofline_compare_tooltip_result_label")+" "+N+n.getResultCaption(t.resIndex||0)+W),e}function w(t){var e=t.desc;return e||(e=d.escapeHTML(t.name))&&"["!==e.charAt(0)&&(e+=" "+(t.locat||"")),e||(e=t.locat),N+e+W}function C(t,o,n){var i=3;return isNaN(o)||!t?"":t[n.name]+e.pref+function(t,e){return e?e(t,i,!0):t}(o,n.format)+e.post+t[n.measure]}function L(t,o){var i="";return t&&void 0!==t.x&&(o&&o.namePref&&(i+=o.namePref),i+=n.getMemoryLevelPrefix(t,o)+C(o,t.x,{name:"nameX",measure:"measureX",format:e.formatVal})+"<br>"),i}function k(t,o){var n="";return t&&void 0!==t.y&&(o&&o.namePref&&(n+=o.namePref),n+=C(o,t.y,{name:"nameY",measure:"measureY",format:e.formatVal})+"<br>"),n}function S(t,o){var i="";return t&&void 0!==t.x1&&(o&&o.namePref1&&(i+=o.namePref1),i+=n.getMemoryLevelPrefix(t,o)+C(o,t.x1,{name:"nameX",measure:"measureX",format:e.formatVal})+"<br>"),i}function P(t,o){var n="";return t&&void 0!==t.y1&&(o&&o.namePref1&&(n+=o.namePref1),n+=C(o,t.y1,{name:"nameY",measure:"measureY",format:e.formatVal})+"<br>"),n}function R(t,e){if(e&&e.loopTypes&&t&&t.type){var o=e.loopTypes[t.type];if(o)return o+"<br>"}return""}var E,M,T,A,I=1,z={},D="loops_table_body",B=t.get(),V=function(){function t(){_(),X.fillHistogramLoops(),X.fillHistogramChart(),r&&(r.innerHTML=e())}function e(){var t=n.getRooflineData();if(!t)return"";var e=t.attrs[o].name.toLowerCase();return"point "+e+" / program "+e.replace(a,s)+" * 100 (%)"}var o,i=c.getElementById("roofline_loop_weight_base"),r=c.getElementById("roofline_loop_weight_formula");i&&(i.onchange=function(){var e=i.selectedOptions;e&&1===e.length&&(o=e[0].value,B.save("progTime"),t())});var a="self",s="total";return{refresh:function(){var t=n.getRooflineData();if(t&&i){i.innerHTML="";var a=0;Object.getOwnPropertyNames(t.attrs).forEach(function(e){if(e){var r=t.attrs[e];if(r&&n.getProgramTotalValue(0,e)>0){var s=document.createElement("option");s.text=r.name,s.value=e,i.add(s),e===o&&(a=i.length-1)}}}),i.selectedIndex=a,o=i.options[a].value,r&&(r.innerHTML=e())}},calcWeight:function(t,e){var i=0;return n.getProgramTotalValue(e,o)>0&&(i=t/n.getProgramTotalValue(e,o)*100)>100&&(i=100),i},getLoopValue:function(t){if(!t)return 0;var e;return"+"===t.state?e=this.getLoopTotalValue(t):(n.isNoLoopPosition(t)||(e=t[o])||0!==o.indexOf(s)||(e=t[o.replace(s,a)]),void 0===e&&(e=0)),e},getLoopTotalValue:function(t){if(!t)return 0;var e=o;0===e.indexOf(a)&&(e=e.replace(a,s));var n=t[e];return void 0===n&&(n=t[e.replace(s,a)]),void 0===n&&(n=0),n},getWeightFormula:e,apply:function(t){t.weightBaseValue&&(o=t.weightBaseValue)},saveState:function(t){t&&(t.weightBaseValue=o)}}}();B.addProcessor("progTime",V);var Y=0,X=function(){function t(t){return c.round(t,ct)}function e(){return Math.min(Math.max(st+1,5),100)}function y(){if(st){lt=c.round(2*st/c.em2px(23),2)||.01;var t=.1;for(ct=0;;){if(lt>t){lt=10*t;break}t/=10,ct++}}else st=100,lt=1,ct=0}function x(t){var e=0,o=V.getLoopValue(t);return o>0&&(e=c.round(V.calcWeight(o,t.resIndex),ct),e<lt?e=lt:e>100&&(e=100)),e}function w(e){if(e){var o=x(e);if(o){st=Math.max(st,o);var n=t(o-lt);void 0===rt[n]&&(rt[n]=0),rt[n]++,at++}}}function C(e){if(e){var o=x(e);if(o){var n=t(o-lt);rt[n]--,at--}}}function L(){function t(t,e){return Math.ceil(V.calcWeight(t,e))}var e=[];n.forEachLoops(n.getLoops(),function(t){e.push({loopValue:V.getLoopValue(t)})},!1),e.sort(function(t,e){return e.loopValue-t.loopValue});var o=at,i=Math.floor(.03*o)||1;i>5&&(i=5);var r=Math.floor(.25*o)||1;nt=[];var a=20;a>=st&&(a=st-10*lt);var s=1;if(s>=a&&(s=a/2),o>3&&st){var l=e[i];a=t(l.loopValue,l.resIndex)||2*lt||2;var c=e[i+r];s=t(c.loopValue,c.resIndex)||lt||1,s>a&&(s=a/2)}nt.push({th:s,radius:Math.round(4*I),color:"green"}),nt.push({th:a,radius:Math.round(6*I),color:"yellow"}),nt.push({radius:Math.round(8*I),color:"red"})}function k(t){var e=B.getState();return t&&!it&&(it=e.loopsThs?JSON.parse(JSON.stringify(e.loopsThs)):[]),t&&!e.loopsThs&&(e.loopsThs=JSON.parse(JSON.stringify(nt))),t&&(T.disabled=!1,A.disabled=!1),nt||L(),e.loopsThs||nt}function S(t,e){function o(t,e){e=e||!1,t&&n.forEachChildrenEx(t,function(t){t&&t.rooflinePoint&&(e?(t.rooflinePoint.show(),w(t)):(t.rooflinePoint.hide(),dt.isConnectedTo(t)&&(N(t),W(t),dt.hide()),C(t)))})}function r(t,e){t&&(this.fillLoop(t,e),dt.isConnectedTo(t.loopData)&&this.highlightPoint(t),t.x=e.getX(),t.y=e.getY())}if(t&&t.rooflinePoint){h.setLoopPointFront(t.rooflinePoint,E);var a=this.getLoopInfo(t);"+"===t.state?(t.state="-",o(t,!0)):"-"===t.state&&(o(t,!1),t.state="+"),t.state&&(this.fillHistogramChart(),n.saveHierarchy(),i.refresh(t));var s=this.getLoopInfo(t),d=a.getX(),u=s.getX(),f=a.getY(),p=s.getY(),m=a.getRadius(),g=s.getRadius();if(d!==u||f!==p){l.send("loopChangingPosition",t),N(t),W(t),dt.setIgnored(!0),dt.hide(!0);c.animate(function(e){var o=e/700;o>1&&(o=1);var n=d+(u-d)*o,i=f+(p-f)*o,r=m+(g-m)*o,a=E.tr.L2P(n,i);return t.rooflinePoint.move(a.x,a.y).setR(r),o<1},function(){dt.setIgnored(!1),r.call(this,t.rooflinePoint,s),l.send("loopChangedPosition",t)}.bind(this))}else r.call(this,t.rooflinePoint,s);e||M.addUndoFrame({process:S.bind(this,t,!0)})}}function P(){dt.create(function(t){var e=t.target.owner.rooflineLoop;e&&S.call(this,e)}.bind(this))}function R(){var t=10*I/(window.devicePixelRatio||1);return{x:Math.abs(E.tr.getMaxIntens()-E.tr.getMinIntens())*t/E.tr._getClientWidth(),y:Math.abs(E.tr.getMaxPerf()-E.tr.getMinPerf())*t/E.tr._getClientHeight()}}function Y(t,e,o){this.line=E.getForegroundLayer().addLine(t[0].x,t[0].y,t[1].x,t[1].y,o),this.line.setStyle(e.head+":"+this.line.localUrl(e.id))}function X(t){t&&n.forEachChildren(t,function(e){if(!e.filtered){t.rooflineConnectedChildren||(t.rooflineConnectedChildren=[]),h.setLoopPointFront(e.rooflinePoint,E);var o=new Y(h.getLoopPoints(t,e),{id:ut,head:"marker-end"},"roofline_child_line");t.rooflineConnectedChildren.push({loop:e,line:o})}},R())}function O(t){if(t){var e=n.getParent(t,R());if(e&&!e.filtered){h.setLoopPointFront(e.rooflinePoint,E);var o=new Y(h.getLoopPoints(t,e,!0),{id:ft,head:"marker-start"},"roofline_parent_line");t.rooflineConnectedParent={loop:e,line:o}}}}function N(t){t&&t.rooflineConnectedChildren&&(t.rooflineConnectedChildren.forEach(function(t){return t.line.remove()}),delete t.rooflineConnectedChildren)}function W(t){t&&t.rooflineConnectedParent&&(t.rooflineConnectedParent.line.remove(),delete t.rooflineConnectedParent)}function F(t){if(dt.isConnected()&&t){var e=dt.getConnectedLoop(),o=e.rooflinePoint;if(o){var n=o.getX(),i=o.getY(),r=o.getR();e.state&&" "!==e.state&&dt.setPos(n,i,r),e.rooflineConnectedChildren&&e.rooflineConnectedChildren.forEach(function(t){return t.line.update(h.getLoopPoints(e,t.loop))});var a=e.rooflineConnectedParent;a&&a.line.update(h.getLoopPoints(e,a.loop,!0))}}}function j(t,e,o){var n="loopFill-"+t+"-"+e;return o&&(n+="-"+o),n}function G(t,e,o){return 0===e?t:void 0!==o?"#ffa500":"#3473d4"}function Z(t,e){t&&(t.filtered&&console.error("Filtering of already filtered loop"),e.push(n.getLoopKey(t)))}function Q(t,e,o){if(e&&o&&t!==n.FilterOperation.out&&(t!==n.FilterOperation.insubtree||n.isHierarchical())){var i=[];return o.forEach(function(o){if(o){var r=n.getLoopKey(o);e.some(function(t){return t===r})&&(t===n.FilterOperation.insubtree&&n.forEachChildrenEx(o,function(t){return Z(t,i)},!0),n.forEachMatchingLoops(o,function(e){Z(e,i),t===n.FilterOperation.insubtree&&n.forEachChildrenEx(e,function(t){return Z(t,i)},!0)}))}}),i}}function J(t){var e=[];E.selectedPoints.forEach(function(t){t&&Z(t.loopData,e)});var o={};return o[t]={keys:e,processing:Q.bind(this,t)},o}function q(t){var e=t();n.addFilterInfo(e),l.send("rooflineDataUpdated",{isOldData:!0}),this.unHighlightPoint(),$.call(this,[e],!1)}function $(t,e){t&&M.addUndoFrame({process:function(){e?n.addFilterInfo(t):n.remFilterInfo(t),l.send("rooflineDataUpdated",{isOldData:!0}),e=!e}.bind(this)})}function K(){var t=E.selectedPoints;return t&&t.length}function tt(){u.DefValueRepresentation.call(this)}function et(t,e){t.setStyle("cursor: pointer; stroke: transparent; stroke-width:"+ht+"; marker-start:"+t.localUrl(e))}function ot(t){return t+" < R ≤"}var nt,it,rt,at,st=0,lt=0,ct=0,dt=function(){function t(){return 10*I+1}var e,o,n=!1;return{create:function(n){if(!o){var i=t(),r=2*I;n=n||function(){},e=E.centralPart.graphicsRoot.createDefs().createG("expanderTemplate").addRect(0,0,i,i,"roofline_expander").getParent().addLine(r,i/2,i-r,i/2,"roofline_expander_horz_line").getParent().addLine(i/2,r,i/2,i-r,"roofline_expander_vert_line").getParent(),o=E.getForegroundLayer().createUse().setRef(e.localRef("expanderTemplate")).activate().on("mousedown",n),this.hide()}},isValid:function(){return!!o},hide:function(t){o&&(o.setX(-100).setY(-100),t||delete o.rooflineLoop)},refreshState:function(t){t&&("-"===t.state?e.addClass("expanded"):"+"===t.state&&e.remClass("expanded"))},connect:function(t){o&&(o.rooflineLoop=t)},isConnected:function(){return o&&o.rooflineLoop},isConnectedTo:function(t){return o&&o.rooflineLoop===t},getConnectedLoop:function(){if(o)return o.rooflineLoop},setPos:function(e,n,i){if(o){var r=t()/2;o.setX(e-1.5*r-i).setY(n-r)}},clear:function(){o=e=void 0,n=!1},front:function(){o&&o.front()},setIgnored:function(t){n=t},isIgnored:function(){return n}}}(),ut="ChildArrow",ft="ParentArrow";Y.prototype.update=function(t){this.line.setX1(t[0].x).setY1(t[0].y).setX2(t[1].x).setY2(t[1].y)},Y.prototype.remove=function(){this.line&&this.line.remove(),delete this.line},tt.prototype=Object.create(u.DefValueRepresentation.prototype);var ht=19,pt=10;return tt.prototype.create=function(t,e,o,n,i){n.textY=pt+2,n.tickStartY=pt,u.DefValueRepresentation.prototype.create.call(this,t,e,o,n,i),et(this.line,"Slider"),this.line.activate(),this.line.el.isMovableItem=!0,this.line.on("mouseenter",et.bind(this,this.line,"SliderActive")),this.line.on("mouseleave",et.bind(this,this.line,"Slider")),this.text.activate(),this.text.el.isMovableItem=!0,this.text.on("mouseenter",et.bind(this,this.line,"SliderActive")),this.text.on("mouseleave",et.bind(this,this.line,"Slider"))},{setRoofline:function(t){E=t,E.centralPart.body.addEventListener("mousewheel",b.bind(window,"wheelDelta",-1),!1),E.centralPart.body.addEventListener("DOMMouseScroll",b.bind(window,"detail",1),!1),E.centralPart.body.addEventListener("contextmenu",function(t){var e,i=[];n.isHierarchical()&&(e=this.getLoopByElement(t.target),e&&e.state&&i.unshift({caption:"-"===e.state?a.getMessage("roofline_menu_collapse"):a.getMessage("roofline_menu_expand"),command:function(){this.changeLoopState(e)}.bind(this)},{caption:"-"}),n.isFiltered()||i.push({caption:a.getMessage("roofline_menu_collapse_root"),disabled:this.IsRootCollapsed(),command:function(){this.collapseRoot()}.bind(this)},{caption:a.getMessage("roofline_menu_expand_all"),disabled:!this.canExpandAll(),command:function(){this.expandAll()}.bind(this)},{caption:"-"})),i.push({caption:a.getMessage("roofline_filter_in_label"),disabled:!K(),command:q.bind(this,J.bind(this,n.FilterOperation.in))}),n.isHierarchical()&&i.push({caption:a.getMessage("roofline_filter_in_subtree_label"),disabled:!K(),command:function(){q.call(this,J.bind(this,n.FilterOperation.insubtree)),E.onCurrentPointChanged.raise(E.currentPoint)}.bind(this)}),i.push({caption:a.getMessage("roofline_filter_out_label"),disabled:!K(),command:function(){q.call(this,J.bind(this,n.FilterOperation.out)),E.onCurrentPointChanged.raise(E.currentPoint)}.bind(this)}),i.push({caption:a.getMessage("roofline_filter_clear_label"),disabled:!n.isFiltered(),command:function(){this.cancelFiltering()}.bind(this)}),e&&(i.length&&i.push({caption:"-"}),i.push({caption:a.getMessage("roofline_toolbar_copy_clipboard"),command:function(){var t=U.getText.call({accepted:e});t=d.unEscapeHTML(t.replace(/<br>/gi,"%0A").replace(/<[^>]*>/g,"")),o.sendNotification("copy-"+t)}.bind(this)})),s.show(i,t.pageX,t.pageY),s.defProcessing(t)}.bind(this),!1)},setZoomer:function(t){M=t},setScale:function(t){I=t},setConfiguration:function(t){t&&c.applyObjectProperties(z,t)},clear:function(){this.unHighlightPoint(),dt.clear(),H=void 0},getLoopByElement:function(t){if(t){var e;return t.roofLinePoint?e=t.roofLinePoint.loopData:t.owner&&t.owner.rooflineLoop&&(e=t.owner.rooflineLoop),e}},getLoopInfo:function(t){function e(t){return void 0!==t?t:100}var o=this.getLoopColor||G;if(t){var i,r=B.getState(),a=n.isNoLoopPosition(t),s=t.resIndex||0,l=V.calcWeight(V.getLoopValue(t),s);"-"===t.state&&(i=V.calcWeight(V.getLoopTotalValue(t),s));for(var c,d,u=n.getLoopPosition(t,a),f=p(r.colorMode),h=k(),m=0,g=h.length;m<g;m++)i&&!d&&i>l&&i<=e(h[m].th)&&(d=h[m].radius),!c&&l<=e(h[m].th)&&(c={radius:Math.round(4*I),_x:u.x,_y:u.y,getRadius:function(){return this.totalRadius?this.totalRadius:this.radius},getX:function(){return this._x},getY:function(){return this._y}},!1!==r.useSizes&&(c.radius=h[m].radius),c.color=o(h[m].color,f,t.vec,r.defLoopColor));return!1!==r.useSizes&&d&&d>c.radius&&(c.patternId=j(d,c.radius,1===f?t.vec:0),c.totalRadius=d),(a&&!r.ignoreNoLoopPosition||!n.isHierarchical()&&"-"===t.state)&&(c.noLoopPosition=!0,c.color=r.nstLoopColor),s&&(c.resIndex=s),c}},createLinesArrows:function(){r.createLineArrowMarker(ut,"roofline_child_arrow",E,I),r.createLineArrowMarker(ft,"roofline_parent_arrow",E,I,0)},fillPatterns:function(t){if(E){var e;if(t?e=E.centralPart.graphicsRoot.createDefs("fill_patterns"):(e=E.centralPart.graphicsRoot.getElementById("fill_patterns"))&&e.clear(),e){var o=k();if(o&&o.length){for(var i=B.getState(),r=p(i.colorMode),a=[f.CirclePoint],s=1,l=n.getResultCount();s<l;s++){var c=n.getPointConstructor(s);if(!(a.indexOf(c)<0))break;a.push(c)}a.forEach(function(t){if(t)for(var n=1,i=o.length;n<i;n++)for(var a=o[n].radius,s=0;s<n;s++){var l=o[s].radius;r<1?t.createFillPattern(e,a,l,o[s].color,j(a,l)):(t.createFillPattern(e,a,l,G(o[s].color,r,1),j(a,l,1)),t.createFillPattern(e,a,l,G(o[s].color,r),j(a,l)))}})}}}},fillLoop:function(t,e){t&&e&&(e.noLoopPosition?(t.addClass("no_loop_position"),t.setFillColor(e.color)):(t.remClass("no_loop_position"),e.patternId?t.setPatternId(e.patternId):t.setFillColor(e.color)),e.color?t.el.setAttr("data-color",e.color):t.el.remAttr("data-color"))},fillHistogramLoops:function(){rt=[],at=0,st=0,function(t){n.forEachLoops(t,function(t){t.filtered||w(t)},!1)}(n.getLoops())},fillLoops:function(){function t(t){t&&n.forEachLoops(t,function(t,e,o){if(!t.filtered){var i=this.getLoopInfo(t),r=E.addPoint(i.getX(),i.getY(),i.getRadius(),"roofline_loop",void 0,n.getPointConstructor(i.resIndex)||f.CirclePoint);r.loopData=t,t.rooflinePoint=r,this.fillLoop(r,i),o&&r.hide()}}.bind(this),!0)}V.refresh(),l.send("loopsCreating"),this.createLinesArrows(),g(),this.fillHistogramLoops(),y(),this.fillPatterns(!0),t.call(this,n.getLoops())},updateLoopVisualisation:v,highlightPoint:function(t){if(t&&!dt.isIgnored()&&!t.isHidden())if(dt.isConnected()&&(N(dt.getConnectedLoop()),W(dt.getConnectedLoop())),dt.isValid()||P.call(this),t.loopData.state&&" "!==t.loopData.state){var e=t.getX(),o=t.getY(),n=t.getR();dt.setPos(e,o,n),dt.connect(t.loopData),dt.refreshState(t.loopData),"-"===t.loopData.state&&X(t.loopData),O(t.loopData),h.setLoopPointFront(t,E),dt.front()}else this.unHighlightPoint(),dt.connect(t.loopData),O(t.loopData),dt.setPos(-100,-100,10),h.setLoopPointFront(t,E)},unHighlightPoint:function(){dt.isConnected()&&(N(dt.getConnectedLoop()),W(dt.getConnectedLoop()),dt.hide())},changeLoopState:S,collapseThisPosition:function(t){for(var e=t,o=n.getParent(e);o&&o.x1===e.x1&&o.y1===e.y1;)e=o,o=n.getParent(e);"-"===e.state&&this.changeLoopState(e)},collapseRoot:function(){var t=n.getLoops()[0];t&&"-"===t.state&&this.changeLoopState(t)},IsRootCollapsed:function(){var t=n.getLoops()[0];return!!t&&"+"===t.state},expandAll:function(){function t(t,e){t.state=e}var e=[];if(n.forEachLoopsSimple(n.getLoops(),function(o){"+"===o.state&&(t(o,"-"),e.push(o))},!0),e.length>1)M.addUndoFrame({process:function(){e.forEach(function(e){e&&e.state&&t(e,"+"===e.state?"-":"+")}),l.send("rooflineDataUpdated"),n.saveHierarchy()}}),l.send("rooflineDataUpdated"),n.saveHierarchy();else if(e.length){var o=e[0];t(o,"+"),this.changeLoopState(o)}},canExpandAll:function(){var t=!1;return n.forEachLoopsSimple(n.getLoops(),function(e){"+"===e.state&&(t=!0)}),t},fillSettings:function(){var t=c.getElementById(D);c.removeAllChildren(t);var e=k(),o=0;e.forEach(function(n,i){var r=n.th||100,a=0;i-1>=0&&(a=e[i-1].th),this._fillLoopRow(t.insertRow(-1),n,r-a>0,o),o=n.th}.bind(this)),this._updateBtnsState(B.getState())},fillHistogramChart:function(o){function n(t,o){t.addStop("0%",o[0].color);for(var n=0,i=o.length;n<i;n++){var r=o[n].th?o[n].th/e()*100:0;r?(t.addStop(r+"%",o[n].color),t.addStop(r+"%",o[n+1].color)):t.addStop("100%",o[n].color)}}function i(t,e){function o(t){if(t&&t.el&&t.el.getCTM()){t.createTransform().setMatrix(t.el.getCTM().inverse())}}o(this.centralPart.graphicsRoot.createLine().setClass("legend_total_line").setX1(1).setY1(1).setX2(e).setY2(1));o(this.centralPart.canvas.createText(r(t)).setClass("legend_total_text").setX(e-3).setY(3).setStyle("text-anchor: end; dominant-baseline: text-before-edge;"))}function r(t){return c.format(1!==t?a.getMessage("roofline_histogram_loops"):a.getMessage("roofline_histogram_loop"),t.toString())}function s(t,e){return c.format(1!==e?a.getMessage("roofline_histogram_tooltip_loops"):a.getMessage("roofline_histogram_tooltip_loop"),t.toString(),e.toString())}function l(t,e,o){t.createMarker(e).setMarkerWidth(ht).setMarkerHeight(pt).setRefX(f).setRefY(pt-1).setOrient("0").setMarkerUnits("userSpaceOnUse").createPath().moveToAbs(0,pt-1).lineToAbs(f,0).lineToAbs(ht,pt-1).lineToAbs(0,pt-1).setD().setClass(o)}this._parent=this._parent||c.getDomElement(o),c.removeAllChildren(this._parent);var d=B.getState();if(!at||!1===d.showHistogram)return void(this._parent.style.display="none");this._parent.style.display="block",this.horzAxis=u.createHorzAxis(this._parent,!0),this.centralPart=u.createCentralPart(this._parent,!0);var f=ht/2,h=this.horzAxis.canvas.createDefs();l(h,"Slider","histogram_slider"),l(h,"SliderActive","histogram_slider_active"),this.axisCaption=c.createElement(V.getWeightFormula(),"legend_axis_caption","",this._parent),this.centralPart.setViewbox(0,0,e(),at),this.horzAxis.setCentralPart(this.centralPart),this.centralPart.ontooltiptext=function(e,o,n){var i=c.floor(o,ct);return s(t(i+lt),rt[i]||0)};var p=k(),m=this.centralPart.canvas.createDefs().createLinearGradient("FillGradient").setLeftRight();n(m,p);for(var g=0,v=p.length;g<v;g++){var _=p[g].th;_&&this.horzAxis.addValue(t(_),void 0,tt)}var y=this.centralPart.graphicsRoot.createPath();for(y.setClass("histogramLine").setAttr("fill",y.localUrl("FillGradient")).moveToAbs(0,0),g=0,v=e();g<v;g+=lt)g=t(g),y.lineToVerticalAbs(rt[g]||0).lineToHorizontalRel(lt);y.lineToVerticalAbs(0).closePath().setD(),i.call(this,at,this.centralPart.body.offsetWidth),this._parent.classList.contains("user_activity")||this._parent.classList.add("collapsed");var b,x,w=-1,C=function(){function t(t){return c.getElementById(D).children[S._getRowIndex4ThIndex(t)]}function e(t){if(t)return t.querySelector(".threshold_input")}function o(t){if(t&&t.nextSibling)return t.nextSibling.querySelector(".threshold_label")}var n,i;return{init:function(r){var a=t(r);a&&(n=e(a),i=o(a))},update:function(t){n&&(n.value=t),i&&(i.innerHTML=ot(t))},clear:function(){n=void 0,i=void 0}}}(),L=this.horzAxis,S=this;this.thMoving=c.createResizeProcess(L.body,{accepted:function(t){var o=t.isMovableItem;if(o&&(L.values.some(function(e,o){return(e.representation.text.el===t||e.representation.line.el===t)&&(w=o,!0)}),w>=0)){b=c.getElementPos(L.body);var n=k();x={min:0,max:100};var i=n[w-1];i&&(x.min=i.th),i=n[w+1],i&&(x.max=i.th||e()),C.init(w)}return o},getDeltaThreshold:function(){return 0},getDelta:function(t,e,o){return t.x-b.x},getCursor:function(){return"pointer"},onProcess:function(o){var i=t(o/L.body.clientWidth*e());if(i>x.min&&i<x.max){var r=k(!0);if(r[w].th===i)return;L.changeValue(w,i),L.layoutValues(),r[w].th=i,m.clear(),n(m,r),this._applyChanges(!0),C.update(i)}},onEnd:function(){b=void 0,w=void 0,C.clear()}},this)},processResize:function(t){t&&F(t)},cancelFiltering:function(){if(n.isFiltered()){var t=n.clearFiltering();l.send("rooflineDataUpdated",{isOldData:!0}),this.highlightPoint(E.currentPoint),$.call(this,t,!0)}},_getRowIndex4ThIndex:function(t){return t},_insertThSettings:function(t){var e=k(!0),o=e[t],n=o.th||100,i=0;t-1>=0&&(i=e[t-1].th);var r={radius:o.radius,color:o.color,th:i+(n-i)/2};if(r.th>i&&r.th<n){e.splice(t,0,r);var a=c.getElementById(D),s=this._getRowIndex4ThIndex(t);this._updateTh4Row(s,r.th);var l=0;t>0&&(l=e[t-1].th),this._fillLoopRow(a.insertRow(s),r,r.th-i>0,l),this._applyChanges()}},_removeThSettings:function(t){var e=k(!0),o=0;t>0&&(o=e[t-1].th),e.splice(t,1);var n=c.getElementById(D),i=this._getRowIndex4ThIndex(t);n.deleteRow(i),this._updateTh4Row(i,o),this._applyChanges()},_fillLoopRow:function(t,e,o,n){if(t&&e){t.className="loop_row";var i=t.insertCell(-1);i.className="loop_sample_cell";var a=c.createElement("","loop_sample","",i,"div",function(t){t.style.backgroundColor=e.color,t.style.width=t.style.height=2*e.radius+"px"}),s=t.insertCell(-1);c.createElement("","size_input","",s,"input",function(t){t.setAttribute("value",e.radius),t.oninput=this._changeSize.bind(this,a),t.onblur=this._processBlur.bind(this,"radius"),t.onkeypress=r.filterNumberInput}.bind(this));var l=t.insertCell(-1);c.createElement("","color_input","",l,"input",function(t){t.setAttribute("type","text"),t.setAttribute("value",e.color),t.oninput=this._changeColor.bind(this,a),r.addColorPicker(t),t.onblur=this._processBlur.bind(this,"color")}.bind(this));var d=t.insertCell(-1);d.setAttribute("align","right"),c.createElement(ot(n),"threshold_label","",d,"label"),c.createElement("","threshold_input","",d,"input",function(t){t.setAttribute("value",e.th||100),t.oninput=this._changeTh.bind(this),t.onblur=this._processBlur.bind(this,"th"),t.onkeypress=r.filterNumberInput,t.disabled=!e.th}.bind(this));var u=t.insertCell(-1);u.setAttribute("align","right"),e.th&&c.createElement("","icon minus","",u,"button",function(t){t.onclick=this._removeTh.bind(this)}.bind(this)),c.createElement("","icon plus","",u,"button",function(t){t.onclick=this._insertTh.bind(this),t.disabled=!o}.bind(this))}},_updateTh4Row:function(t,e){c.getElementById(D).children[t].querySelector(".threshold_label").innerHTML=ot(e)},_getRowByElement:function(t){if(t)return t.parentNode.parentNode},_getThIndex:function(t){var e=this._getRowByElement(t),o=e.parentNode;return[].indexOf.call(o.children,e)},_insertTh:function(t){var e=t.target;if(e){var o=this._getThIndex(e);this._insertThSettings(o)}},_removeTh:function(t){var e=t.target;if(e){var o=this._getThIndex(e);this._removeThSettings(o)}},_changeColor:function(t,e){var o=e.target;if(o){var n=o.value,i=m(n,t);if(i.isValid){if(i.isNew){var a=this._getThIndex(o);k(!0)[a].color=n,this._applyChanges()}r.markNormal(o)}else r.markWrong(o,"The value should be a valid CSS color")}},_changeSize:function(t,e){var o=e.target;if(o){var n=parseFloat(o.value),i=Math.round(12*I);if(!isNaN(n)&&n<=i&&n>0){t.style.width=t.style.height=2*n+"px";var a=this._getThIndex(o);k(!0)[a].radius=n,this._applyChanges(),r.markNormal(o)}else r.markWrong(o,"The value should be between 0 and "+i)}},_changeTh:function(t){function e(t){return this._getRowByElement(t).querySelector(".plus")}var o=t.target;if(o){var n=parseFloat(o.value);if(!isNaN(n)){var i=this._getThIndex(o),a=k(!0),s=100;i+1<a.length-1&&(s=a[i+1].th);var l=0;if(i-1>=0&&(l=a[i-1].th),n<s&&n>=l){a[i].th=n;var c=e.call(this,o);c&&(c.disabled=n-l<=1),this._updateTh4Row(i+1,n),this._applyChanges(),r.markNormal(o)}else r.markWrong(o,"The value should be between "+l+" and "+s)}}},_processBlur:function(t,e){var o=e.target;if(o){var n=this._getThIndex(o),i=k(!0),a=i[n][t].toString();o.value!==a&&(o.value=a,r.markNormal(o))}},_processEnter:function(t){var e=t.target;e&&13===t.which&&e.oninput&&e.oninput(t)},_applyChanges:function(t){B.save("loopsThs"),_(),t||this.fillHistogramChart()},_updateBtnsState:function(t){t=t||{},T.disabled=!it,A.disabled=!t.loopsThs},revertDefault:function(){var t=B.getState();t.loopsThs&&delete t.loopsThs,it=void 0,this.fillSettings(),this._applyChanges()},cancelChanges:function(){if(it.length){B.getState().loopsThs=it,it=void 0,this.fillSettings(),this._applyChanges()}else this.revertDefault()},apply:function(t){this._updateBtnsState(t)},saveState:function(t){this._updateBtnsState(t),t&&!t.loopThs&&(t.loopThs=k())},getLoopsThs:function(){return k()}}}();B.addProcessor("loopsThs",X),l.recv("rooflineCleared",X.clear,X),l.recv("rooflineResized",X.processResize,X),l.recv("currentPointChanged",function(t){X.highlightPoint(t),t&&t.loopData&&l.send("currentLoopChanged",t.loopData)}),l.recv("loopStateChanged",X.changeLoopState,X),l.recv("loopHighlighted",function(t){if(t){var e=t.rooflinePoint;e&&h.setLoopPointFront(e,E)}});var O,H,N='<span style="font-weight: bold">',W="</span><br>",F=[{name:"selfTime",format:e.formatTime},{name:"selfElapsedTime",format:e.formatTime},{name:"totalTime",format:e.formatTime},{name:"totalElapsedTime",format:e.formatTime},{name:"selfMem",format:e.simpleFormat},{name:"totalMem",format:e.simpleFormat}],U=r.addTooltipProcessor({accepted:void 0,accept:function(t){if(!t)return!1;var e=X.getLoopByElement(t)||t.loopData;if(e)this.accepted!==e&&(this.accepted=e,H=this.accepted.rooflinePoint,l.send("loopEntered",this.accepted));else{var o=!!this.accepted;this.accepted=void 0,H=void 0,o&&l.send("loopLeaved")}return!!this.accepted},getText:function(t){var e=this.accepted;if(e){var o=n.getRooflineData4Loop(e);if(o){var i=x(e)+w(e)+R(e,o)+k(e,o)+L(e,o)+P(e,o)+S(e,o);return i+=F.map(function(t){return C(o.attrs[t.name],e[t.name],{name:"name",measure:"measure",format:t.format})}).filter(function(t){return t}).join("<br>")}}}});T=document.getElementById("cancel_loops_settings_button"),T.onclick=X.cancelChanges.bind(X),A=document.getElementById("revert_loops_settings_button"),A.onclick=X.revertDefault.bind(X),t.addCheckSetting(document.querySelector('input[value="size"][type="checkbox"]'),"useSizes",_),t.addRadioGroupSetting("roofline_color_mode","colorMode",_,Y);return function(t,e,o,n){var i=c.getDomElement(t);c.disableDragging(i);var a=c.getDomElement(e);if(i&&a)a.style.backgroundColor=n,i.oninput=function(t){var e=t.target.value,s=m(e,a);!e||s.isValid?(s.isNew&&(B.save(o),a.style.backgroundColor=e||n,_()),r.markNormal(i)):r.markWrong(i,"The value should be empty or a valid CSS color")},i.onblur=function(t){var e=t.target.value,o=m(e,a);e&&o.isValid||(i.value=n,r.markNormal(i))},r.addColorPicker(i,function(t,e){return!!t}),B.addProcessor(o,{apply:function(t){if(t){var e=n,r=t[o];void 0!==r&&(e=r),i.value=e,a.style.backgroundColor=e}},saveState:function(t){var e=t[o],r=i.value;r!==e&&(r&&r!==n?t[o]=r:e&&delete t[o])}})}("roofline_nst_loop_color_edit","roofline_nst_loop_color_sample","nstLoopColor","#eee"),document.getElementById("load_loops_settings_button").onclick=function(){o.sendNotification("loadLoopsColors")},o.addConsumer("loadedLoopsColors",{process:function(t){var e=B.getState();t.loopsThs&&(e.loopsThs=t.loopsThs,B.apply(void 0,"loopsThs")),t.defLoopColor&&(e.defLoopColor=t.defLoopColor,B.apply(void 0,"defLoopColor")),t.nstLoopColor&&(e.nstLoopColor=t.nstLoopColor,B.apply(void 0,"nstLoopColor")),l.send("rooflineDataUpdated",{isOldData:!0}),B.save("loopsThs"),B.save("defLoopColor"),B.save("nstLoopColor")},onerror:function(t){t.message&&r.toast(t.message)}}),document.getElementById("save_loops_settings_button").onclick=function(){var t={},e=B.getState();t.loopsThs=X.getLoopsThs(),e.defLoopColor&&(t.defLoopColor=e.defLoopColor),e.nstLoopColor&&(t.nstLoopColor=e.nstLoopColor),window.saveLocalProperty("saveLoopsColors",t)},X}.apply(e,i),i=[s,L,u,d],P=function(t,e,o,n){function i(t,o,n){if(t){void 0===o&&(o="Data Loading Error: "),n=n||"<br>";var i;if(t.message){var r=o+e.escapeHTML(t.message);t.stack&&(r+=e.escapeHTML(t.stack).split("\n").map(function(t){return t?n+'<span class="stack_item">'+t+"</span>":t}).join("")),r+='<span class="message_btn close_btn button icon"></span>',r+='<span class="message_btn copy_btn button icon"></span>',i=r}return i}}function r(t){s&&t&&(document.body.classList.remove("no_data"),document.body.classList.add("data_loading"),s.innerHTML=t)}function a(t,e,o,i,r){var a;return a=r&&r.message?(r.name?r.name+": ":"")+r.message+(r.stack?"\n"+r.stack:""):["Message: "+t,"URL: "+e,"Line: "+o,"Column: "+i].join(" - "),n.sendNotification("error-"+a),!1}var s=document.getElementById("roofline_data_loading_message");return s.onmousedown=function(t){t.target&&t.target.classList&&(t.target.classList.contains("close_btn")?(s.innerHTML=o.getMessage("roofline_loading"),setTimeout(n.receiveData.bind(n,"refreshRooflineView","1000"),100),n.clearLastError()):t.target.classList.contains("copy_btn")&&n.sendNotification("errorcopy-"+n.getLastErrorMessage().replace(/\n/g," - ")))},window.onerror=a,{getMessage:i,showMessage:r,handleException:function(t){a("","",0,0,t)}}}.apply(e,i),i=[],R=function(){function t(t,o,n){var i,r;if(!t)return i;var a=-Number.MAX_VALUE,s=a;return t.forEach(function(t){!!t.isMem!=!!o||t.hidden||void 0!=n&&!e(t)!==n||(s<t.val&&(s=t.val,i=t),(t.selected||t.userSelected)&&a<t.val&&(a=t.val,r=t))}),r||i}function e(t){return!(!t||!t.name)&&t.name.toLowerCase().indexOf("scalar")>=0}function o(t,o){var n;if(!t)return n;var i=Number.MAX_VALUE;return t.forEach(function(t){t.hidden||t.isMem||e(t)!==!o||i>t.val&&(i=t.val,n=t)}),n}function n(t,e){return{x:e.val-t.val,y:e.val}}function i(t){var e=this,o=t?t.filter(function(t){return t&&!t.hidden&&!t.isMem}).sort(function(t,e){return t.val-e.val}):[],i=t?t.filter(function(t){return t&&!t.hidden&&t.isMem}).sort(function(t,e){return e.val-t.val}):[];this.calcRoofCount=o.length,this.memRoofCount=i.length,this.crossings=[],o.forEach(function(t){return i.forEach(function(o){return e.crossings.push({val:n(o,t),mRoof:o,cRoof:t})})})}function r(t){return["rsiMultiThread","rsiSingleThread"][Number(!!t)]}function a(t,e,o){function n(){var t="";for(var e in i)"str"!==e&&(t+=e+":"+i[e]+",");return t}t=t||1,o=o||0;var i={threadCount:t,useSTRoofsStrategy:Number(!!e),packageCount:o};return Object.assign(i,{str:n}),i}function s(t){if(!t)return"";var e=t.split(" ");return e.length>0?e[0]:void 0}function l(t,e){return t.name.toLowerCase().indexOf(e)>=0}var c=function(){var t;return{get:function(e){if(e)return t||(t=e.centralPart.graphicsRoot.createDefs()),t},clear:function(){t=void 0}}}();return i.prototype.forEach=function(t){this.crossings.forEach(function(e){return t(e.val,e.mRoof,e.cRoof)})},i.prototype.getLeftBottom=function(){return this.crossings.length>0?this.crossings[0].val:null},i.prototype.getLeftTop=function(){var t=(calcRoofCount-1)*memRoofCount,e=this.crossings.find(t);return e?e.val:null},i.prototype.getRightBottom=function(){var t=this.crossings.find(calcRoofCount-1);return t?t.val:null},i.prototype.getRightTop=function(){return this.crossings.length>0?this.crossings[this.crossings.length-1].val:null},i.prototype.getMin=function(t){if(!t)return null;var e=this.crossings.find(function(e){return e.mRoof.name===t.name||e.cRoof.name===t.name});return e?e.val:null},i.prototype.getMax=function(t){if(!t)return null;var e=this.crossings.filter(function(e){return e.mRoof.name===t.name||e.cRoof.name===t.name});return e.length>0?e[e.length-1].val:null},{roofDefs:c,isScalarRoof:e,getTopSelectedRoof:t,getBottomComputeRoof:o,RoofsCrossingManager:i,getRoofsCrossing:n,getRoofsStrategyId:r,getRoofsConfiguration:a,getRoofMemoryLevel:s,isMatchedRoof:l}}.apply(e,i),i=[g,l,d,h,c,P,C,s,p,f,R],E=function(t,e,o,n,i,r,a,s,l,c,d){function u(t){return t&&t.parentNode&&t.parentNode.parentRoof}function f(t){if(u(t)&&t.parentNode.parentRoof.el.roofRepresentation)return t.parentNode.parentRoof.el.roofRepresentation.roofData.desc}function h(){var t={roofsValues:{}};b.saveState(t,{all:!0}),s.copyObject(y.getState().roofsValues,t.roofsValues),x.saveState(t,!0),window.saveLocalProperty("saveRoofs",t)}var p,m,g=1,v={},_="roofsRepresentation",y=t.get(),b=function(){function t(t){function e(e){return!!t.isMem==!!e.isMem}if(t){var o,i,r=-Number.MAX_VALUE,s=Number.MAX_VALUE;n.forEachRoofs(function(n){n!==t&&n.hidden||!e(n)||(n.val>r&&(o=n,r=n.val),n.val<s&&(i=n,s=n.val))}),o!==t&&i!==t||a.send("rooflineDataUpdated",{isOldData:!0,changingRoofs:!0})}}function o(e){var o=e.target;if(o){var i=o.roofRepresentation;i&&(o.checked?i.show():i.hide(),i.highlight(),t(i.roofData),a.send("roofVisibilityChanged",n.getRoofs()),b._updateRoofsText(p.tr),b.updateSelection(),y.save(_))}}function u(t){var e=this;if(e){var o=e.roofRepresentation;o&&(o.setSelected(e.checked),a.send("roofSelectionChanged",n.getRoofs()),b._updateRoofsText(p.tr),b.updateSelection(),y.save(_))}}function f(t,e){t&&(e?(t.style.fontWeight="bold",B++):(t.style.fontWeight="",B--),B<0&&(B=0))}function h(t){var o=t.target;if(o){var n=o.roofRepresentation;if(n){var i=n.roofData;if(i){var s=e.formatVal(i.val,2,!0),l=parseFloat(o.value);if(isNaN(l)||!l)o.value=s;else if(s!==l){void 0===i.defVal?(i.defVal=i.val,f(o,!0)):l===e.formatVal(i.defVal,2,!0)&&(i.val=i.defVal,delete i.defVal,f(o,!1)),void 0!==i.defVal&&(i.val=e.log10(l)),m.disabled=0===B;try{var c=t.relatedTarget;c&&c.roofRepresentation&&(b.activeRoofRepresentation=c.roofRepresentation)}catch(t){r.handleException(t)}a.send("rooflineDataUpdated",{isOldData:!0}),y.save(_)}}}}}function x(t){if(13===t.keyCode){var e=t.target;t.relatedTarget=e,e.onblur(t)}}function C(t){var e=t.target;b.activeRoofRepresentation=e.roofRepresentation}function L(){b.activeRoofRepresentation&&delete b.activeRoofRepresentation}function k(t){var e=t.target;if(e){var o=e.firstChild;o&&o.click()}}function S(t,n,r,a,l){function c(t,e,o){var n=s.createElement("","","",t,"input",function(t){t.type="checkbox"});return n.roofRepresentation=r,n.onclick=o,n.checked=e,t.className="roof_settings_input",t.roofRepresentation=r,t.onclick=k,n}var d=r.roofData,p=t.insertRow(-1);p.className=d.isMem?"roof_memory":"roof_calculation";var m=p.insertCell(0);m.innerHTML=n,m.style.whiteSpace="nowrap",m.roofRepresentation=r,c(p.insertCell(1),a,o);var g=p.insertCell(2),v=c(g,l,u);r.onClick.subscribe(v,v.click);var _=p.insertCell(3);_.style.whiteSpace="nowrap",_.roofRepresentation=r;var y=s.createElement("","value_input","",_,"input",function(t){t.setAttribute("value",e.formatVal(d.val,2,!0)),void 0!==d.defVal&&f(t,!0),t.onkeydown=x,t.onblur=h,t.onkeypress=i.filterNumberInput,t.onmouseover=C,t.onmouseout=L,t.roofRepresentation=r});this.activeRoofRepresentation&&this.activeRoofRepresentation===y.roofRepresentation&&(y.focus(),y.select(),s.dispatchElementMouseEvent("mousemove",y)),s.createElement(d.measure,"measure_label","",_,"label",function(t){t.roofRepresentation=r})}function P(t){return t.toLowerCase().replace("(single-threaded)","").replace(/\s/g,"")}function R(t){if(t&&t.el)return t.el.el}function E(t,o){function n(t){return t.replace(" (single-threaded)","")}var i=p.addRoof(o,"line_hotarea",void 0,!0),r=p.addRoof(o,function(t){return"idvcroofline_line "+t.replace(/\s+/g,"")}(t.name));i.el.activate(),this.line=r,this.hotLine=i,this.roofData=t,this.caption=n(t.name),this.text=this.createText(function(t,e){return n(t.name)+": "+e(t.val,2)+" "+t.measure}(t,e.formatVal)),this.onClick=l.create(),this.setTo(i),R(this.hotLine).onclick=this.processRoofClick;var a=t.selected;a&&this._setSelectedVis(a)}function M(t,e){this.startY=e[0],E.call(this,t,e)}function T(t,e){E.call(this,t,e)}function A(t,e){if(t)return t.isMem?new M(t,e):new T(t,e)}var I="idvcchart_roofline_text_active",z="idvc_hidden",D="TextBackground",B=0;return E.prototype.setTo=function(t){R(t).roofRepresentation=this},E.getFrom=function(t){return R(t).roofRepresentation},E.prototype._setSelectedVis=function(t){var e=t?"addClass":"remClass";this.line.el[e]("selected"),this.text&&this.text.svgText[e]("selected")},E.prototype.setSelected=function(t){var e=this.roofData;t?(e.selected=!0,e.userSelected=!0):(delete e.selected,delete e.userSelected),this._setSelectedVis(t)},E.prototype.show=function(){this.line.show(),this.hotLine.show(),delete this.roofData.hidden},E.prototype.hide=function(){this.unhighlight(),this.line.hide(),this.hotLine.hide(),this.roofData.hidden=!0},E.prototype.clear=function(){var t=R(this.hotLine);t&&delete t.roofRepresentation,this.line=void 0,this.hotLine=void 0,this.roofData=void 0},E.prototype.highlight=function(){R(this.line).classList.add("idvcroofline_line_hover"),this.line.isHidden()||function(t){t&&(t.svgText.front(),t.svgText.addClass(I),t.svgText.setFilter(D))}(this.text),this.line.el.front()},E.prototype.unhighlight=function(){R(this.line).classList.remove("idvcroofline_line_hover"),this.line.isHidden()||function(t){t&&(t.svgText.remClass(I),t.svgText.remFilter(D))}(this.text)},E.prototype.recalculate=function(t){if(t){var e=t(this.roofData);return this.line.change(e),this.hotLine.change(e),e}},E.prototype.processRoofClick=function(t){var e=t.target;e&&e.roofRepresentation&&e.roofRepresentation.onClick.raise(t)},E.prototype.setStyle=function(t){function e(t,e){if(t){var o=t.getStyle()||"";-1===o.indexOf(e)&&(o+=e,t.setStyle(o))}}t=t||{},t.line&&(this.line&&e(this.line.el,t.line),this.selectedLine&&e(this.selectedLine.el,t.selectedLine||t.line)),t.text&&this.text&&e(this.text.svgText,t.text)},E.prototype.clearStyle=function(t){function e(t,e){return t?t.replace(e,""):""}function o(t,o){if(t){var n=e(t.getStyle(),o);t.setStyle(n)}}t=t||{},t.line&&(this.line&&o(this.line.el,t.line),this.selectedLine&&o(this.selectedLine.el,t.selectedLine||t.line)),t.text&&this.text&&o(this.text.svgText,t.text)},M.prototype=Object.create(E.prototype),M.prototype.show=function(){E.prototype.show.call(this),this.selectedLine&&this.selectedLine.show()},M.prototype.hide=function(){E.prototype.hide.call(this),this.selectedLine&&this.selectedLine.hide()},M.prototype.highlight=function(){if(E.prototype.highlight.call(this),this.selectedLine){R(this.selectedLine).classList.add("idvcroofline_line_hover"),this.selectedLine.el.front()}},M.prototype.unhighlight=function(){if(E.prototype.unhighlight.call(this),this.selectedLine){R(this.selectedLine).classList.remove("idvcroofline_line_hover")}},M.prototype.clear=function(){E.prototype.clear.call(this),this.selectedLine&&delete this.selectedLine},M.prototype._setSelectedVis=function(t){if(E.prototype._setSelectedVis.call(this,t),void 0!==this.startY)if(this.line.el.remClass("selected"),t){var e=d.getTopSelectedRoof(n.getRoofs(),!1),o=d.getRoofsCrossing(this.roofData,e||{val:p.tr.getMaxPerf()});this.selectedLine=p.addRoof([this.startY,o.x,o.y],"idvcroofline_line selected"),this.selectedLine.el.after(this.line.el),this.line.el.isHidden()&&this.selectedLine.hide(),this.line.el.hasClass("idvcroofline_line_hover")&&this.selectedLine.el.addClass("idvcroofline_line_hover")}else this.selectedLine&&(this.selectedLine.remove(),delete this.selectedLine)},M.prototype.updateSelection=function(t){if(this.selectedLine){t=t||d.getTopSelectedRoof(n.getRoofs(),!1);var e=d.getRoofsCrossing(this.roofData,t||{val:p.tr.getMaxPerf()});this.selectedLine.change([this.startY,e.x,e.y])}},M.prototype.recalculate=function(t,e){if(t){var o=E.prototype.recalculate.call(this,t);this.startY=o[0],this.updateSelection(e)}},M.prototype.createText=function(t){if(this.hotLine&&this.roofData)return this.hotLine.setBeginText(t,void 0,void 0,!!this.roofData.desc),this.hotLine.startText},M.prototype.updateTextPos=function(t,e){this.hotLine.updateBeginOffsets(e,t)},T.prototype=Object.create(E.prototype),T.prototype.createText=function(t){if(this.hotLine&&this.roofData)return this.hotLine.setEndText(t,void 0,void 0,!!this.roofData.desc),this.hotLine.endText},T.prototype.updateTextPos=function(t,e){e=e||this.hotLine.endText.alongOffset,this.hotLine.updateEndOffsets(e,t)},{representations:[],setRoofline:function(t){p=t;var e=s.getElementById("roofline_settings");p.centralPart.body.onmousemove=e.onmousemove=function(t){w.processMouseMove(t.target)},p.centralPart.body.onmouseout=e.onmouseout=function(t){w.processMouseOut(t.target)}},setScale:function(t){g=t},setConfiguration:function(t){t&&s.applyObjectProperties(v,t)},processResize:function(t){this._updateRoofsText(t)},clear:function(t){this.activeRoofRepresentation&&delete this.activeRoofRepresentation,this.representations.forEach(function(t){t.clear()}),this.representations.length=0,d.roofDefs.clear()},updateSelection:function(){var t=d.getTopSelectedRoof(n.getRoofs(),!1);this.representations.forEach(function(e){e.updateSelection&&e.updateSelection(t)})},fillRoofsPatterns:function(){p.centralPart.graphicsRoot.createTextBackground(D,d.roofDefs.get(p))},fillRoofs:function(t,e){if(t){var o=s.getElementById("roofs_table_body");s.removeAllChildren(o),B=0,this._captionTextHeight||(this._captionTextHeight=p.centralPart.canvas.getTextHeight({className:"idvcchart_roofline_text"})),t.sort(function(t,e){return!!e.isMem-!!t.isMem||e.val-t.val}).forEach(function(t){var n=A(t,e(t));this.representations.push(n);var i=t.hidden;i&&n.hide(),S.call(this,o,n.caption,n,!i,t.selected)}.bind(this)),this._updateRoofsText(p.tr),this.updateSelection(),a.send("roofsCreated",t),this.activeRoofRepresentation&&delete this.activeRoofRepresentation}},recalculateRoofs:function(t,e){var o=d.getTopSelectedRoof(n.getRoofs(),!1);this.representations.forEach(function(t){t.recalculate(e,o)}),a.send("roofsUpdated",t)},apply:function(t){if(t&&n.getThreadCount()){var e=n.getRoofs();if(e){var o=t.roofsState;e.forEach(function(e){var n=o?t.roofsState[P(e.name)]:null;n&&n.hidden?e.hidden=!0:delete e.hidden,n&&(n.selected||n.userSelected||e.userSelected)?e.selected=!0:delete e.selected,n&&(n.userSelected||e.userSelected)?e.userSelected=!0:delete e.userSelected})}var i=t.roofsValues?c.create(t.roofsValues):null,r=i?i.get(n.getThreadCount(),n.getRoofsStrategyId(),n.getPackageCount()):null,a=!1;i&&!r&&n.getPackageCount()&&(r=i.get(n.getThreadCount(),n.getRoofsStrategyId(),0),a=r),m.disabled=!i||i.empty(),e&&r&&e.forEach(function(t){if(!a||!d.isMatchedRoof(t,"dram")){var e=r[P(t.name)];e&&t.val!==e&&(void 0===t.defVal&&(t.defVal=t.val),t.val=e)}})}},saveState:function(t,e){function o(t,o,n,r){var a=i.get(o,n,r),s=P(t.name);e.all||void 0!==t.defVal?a?a[s]=t.val:(a={},a[s]=t.val,i.add(a,o,n,r)):a&&a[s]&&(delete a[s],i.removeIfEmpty(o,n,r))}if(t){if(e=e||{},e.clearRoofsValues)return void delete t.roofsValues;t.roofsValues=t.roofsValues||{};var i=c.create(t.roofsValues);if(t.roofsState||(t.roofsState={}),n.forEachRoofs(function(o){var n=P(o.name);e.all||o.hidden||o.selected||o.userSelected?t.roofsState[n]={hidden:o.hidden||!1,selected:o.selected||!1,userSelected:o.userSelected||!1}:n in t.roofsState&&delete t.roofsState[n]}),Object.keys(t.roofsState).length||delete t.roofsState,e.all)n.forEachAllRoofs(o);else{var r=n.getThreadCount(),a=n.getRoofsStrategyId(),s=n.getPackageCount();n.forEachRoofs(function(t){o(t,r,a,s)})}i.empty()&&delete t.roofsValues}},_updateRoofsText:function(t){function e(e){function a(e,a,s){function d(t,e,o){return e&&e<r||o&&o.some(function(e){return Math.abs(t-e)<r})}function u(e,r){var a,s,l=t.getMinIntens(),c=t.getMinPerf(),u=c-e,f=e+l,h=t.L2PY(f)-t.L2PY(c),p=t.L2PX(u),m=Math.sqrt(Math.pow(p,2)+Math.pow(h,2)),g=t.L2PY(f),v=0;return void 0!==r&&(v=Math.abs((g-r)/m*p)),d(g,v,n)&&(a=-1,g+=i),u>l?(s=m+2,-1===a&&(s+=Math.abs(p*i/h))):s=-1===a?1:Math.abs(i/p*h)+o,{roofPosition:g,acrossOffset:a,alongOffset:s}}function f(e,r){var a,s=t.L2PY(e),l=0;return void 0!==r&&(l=s-r),d(s,l,n)&&(a=-1,s+=i),{roofPosition:s,acrossOffset:a,alongOffset:-o}}if(e)return function(t){if(!e)return a;var o=t(e.val,a),i=function(t,e,o){var i=t,r=e.roofPosition,a=0;return void 0!==t&&(a=r-t),d(r,a,n)?(o.addClass(z),e.acrossOffset=1):(o.remClass(z),i=r,c.push(i)),i}(a,o,s);return l.updateTextPos(o.acrossOffset,o.alongOffset),i}(e.isMem?u:f)}var s,l,c=[],e=e||function(t){return t&&!t.hidden};p.roofs.forEach(function(t){if(l=E.getFrom(t)){var o=l.roofData;e(o)&&(s=a(o,s,l.text.svgText))}}),n=c}var o=4*g;if(t&&this._captionTextHeight){var n,i=this._captionTextHeight,r=.9*i;e.call(this,function(t){return t&&!t.hidden&&t.isMem&&t.selected}),e.call(this,function(t){return t&&!t.hidden&&t.isMem&&!t.selected}),n=void 0,e.call(this,function(t){return t&&!t.hidden&&!t.isMem&&t.selected}),e.call(this,function(t){return t&&!t.hidden&&!t.isMem&&!t.selected})}}}}();y.addProcessor(_,b),a.recv("rooflineCleared",b.clear,b),a.recv("rooflineResized",b.processResize,b);var x=function(){function t(t){return t.replace(/\s+/g,"")}function e(t){if(t)return t.el}function o(t){this.line=void 0,this.rect=void 0,this.selected=!!t}function n(t){var e=c*g;return{x:t.x-e/2,y:t.y-e/2}}function i(t){var e=c*g;return{x:t.x,y:t.y+e/2}}function r(t){this.clear(!0),s.call(this,t)}function s(t){var e=this;new d.RoofsCrossingManager(t).forEach(function(t,o,n){return e.set(t,o.name,n.name)})}var l={},c=6;o.prototype.create=function(t,e,o,r){this.line&&this.line.remove(),this.rect&&this.rect.remove();var a=r.L2P(t.x,t.y),s=n(a),l=c*g,d=p.getRoofsLayer().addRect(s.x,s.y,l,l,"roofline_roofs_cross").front().activate().on("mousedown",this.processCrossPointClick,!1),u=i(a),f=p.getRoofsLayer().addLine(u.x,u.y,u.x,p.tr.getMinY(),"roofline_coord_line");this.name1=o,this.name2=e,this.x=t.x,this.y=t.y,this.line=f,this.rect=d,this.selected&&this.toggleSelection(),this.setTo(d)},o.prototype.setTo=function(t){e(t).crossingRepresentation=this},o.getFrom=function(t){return e(t).crossingRepresentation},o.prototype.toggleSelection=function(){this.rect&&this.rect.toggleClass("selected"),this.line&&(this.line.toggleClass("selected"),this.selected=this.line.hasClass("selected"))},o.prototype.highlight=function(){this.rect&&this.rect.addClass("idvcroofline_roofs_cross_hover"),this.line&&this.line.addClass("roofline_coord_line_hover")},o.prototype.unhighlight=function(){this.rect&&this.rect.remClass("idvcroofline_roofs_cross_hover"),this.line&&this.line.remClass("roofline_coord_line_hover")},o.prototype.updatePos=function(t){var e=t.L2P(this.x,this.y);if(this.rect){var o=n(e);this.rect.setX(o.x).setY(o.y)}if(this.line){var r=i(e);this.line.setX1(r.x).setX2(r.x).setY1(r.y).setY2(t.getMinY())}},o.prototype.clear=function(t){this.rect&&(t&&this.rect.remove(),this.rect=void 0),this.line&&(t&&this.line.remove(),this.line=void 0),this.x=0,this.y=0},o.prototype.processCrossPointClick=function(t){var e=t.target;e&&e.crossingRepresentation&&(e.crossingRepresentation.toggleSelection(),y.save("roofsCrossing"))};var u={set:function(t,e,o,n){n=n||p.tr,this.get(e,o).create(t,e,o,n)},get:function(e,n){var i=t(e),r=t(n),a=l[i+r];return a||(a=l[r+i]),a||(a=new o,l[i+r]=a),a},forEach:function(t){Object.getOwnPropertyNames(l).forEach(function(e){var o=l[e];o&&t(o,e)})},processResize:function(t){t&&this.forEach(function(e){e.updatePos(t)})},clear:function(t){this.forEach(function(e){e.clear(t)})},apply:function(t){t&&t.crossings&&Object.getOwnPropertyNames(t.crossings).forEach(function(e){var n=t.crossings[e];if(n){var i=l[e];i&&i.clear(!0),l[e]=new o(n.selected)}})},saveState:function(t,e){t&&(t.crossings&&delete t.crossings,this.forEach(function(o,n){(e||o.selected)&&(t.crossings||(t.crossings={}),t.crossings[n]={selected:!!o.selected})}))}};return a.recv("rooflineCleared",u.clear,u),a.recv("rooflineResized",u.processResize,u),a.recv("roofsCreated",s,u),a.recv("roofVisibilityChanged",r,u),u}();y.addProcessor("roofsCrossing",x);var w=function(){function t(){e&&(o.some(function(t){return t.unhighlight(e)}),e=void 0)}var e,o=[];return{processMouseMove:function(n){n&&n!==e&&(t(),o.some(function(t){var o=t.highlight(n);return o&&(e=n),o}))},processMouseOut:t,addProcessor:function(t){o.push(t)},clear:function(){e=void 0}}}();return w.addProcessor({accept:function(t){return t&&t.roofRepresentation},highlight:function(t){return!!this.accept(t)&&(t.roofRepresentation.highlight(),!0)},unhighlight:function(t){return!!this.accept(t)&&(t.roofRepresentation.unhighlight(),!0)}}),w.addProcessor({accept:function(t){return t&&t.crossingRepresentation},highlight:function(t){return!!this.accept(t)&&(t.crossingRepresentation.highlight(),!0)},unhighlight:function(t){return!!this.accept(t)&&(t.crossingRepresentation.unhighlight(),!0)}}),a.recv("rooflineCleared",w.clear,w),i.addTooltipProcessor({accept:function(t){return t&&t.roofRepresentation},getText:function(t){var o=t.roofRepresentation.roofData;return o.name+e.pref+(o.isMem,e.formatVal(o.val,2))+e.post+o.measure}}),i.addTooltipProcessor({accept:function(t){return t&&t.crossingRepresentation},getText:function(t){var o=t.crossingRepresentation,i=n.getRooflineData();return o.name1+" X "+o.name2+"<br>"+i.nameY+e.pref+e.formatVal(o.y)+e.post+i.measureY+"<br>"+i.nameX+e.pref+e.formatVal(o.x)+e.post+i.measureX}}),i.addTooltipProcessor({accept:u,getText:f}),m=document.getElementById("revert_roofs_values_settings_button"),m.disabled=!0,m.onclick=function(){function t(t){void 0!==t.defVal&&(t.val=t.defVal,delete t.defVal)}n.forEachAllRoofs(t),m.disabled=!0,a.send("rooflineDataUpdated",{isOldData:!0}),y.save(_,{clearRoofsValues:!0})},document.getElementById("load_roofs_settings_button").onclick=function(){o.sendNotification("loadRoofs")},o.addConsumer("loadedRoofs",{process:function(t){var e=y.getState();e.roofsState=t.roofsState||{},e.roofsValues=t.roofsValues,y.apply(void 0,_),e.crossings=t.crossings,y.apply(void 0,"roofsCrossing"),a.send("rooflineDataUpdated",{isOldData:!0}),y.save("roofsCrossing"),y.save(_)},onerror:function(t){t.message&&i.toast(t.message)}}),document.getElementById("save_roofs_settings_button").onclick=function(){n.areAllRoofsLoaded()?h():o.sendNotification("getAllRoofs")},o.addConsumer("allRoofs",{process:function(t){t.forEach(function(t){var e=t.threadCount,o=t.strategyId,i=t.packageCount;n.getRoofs(e,o,i).length||n.addRoofs(t.roofs,e,o,i)}),n.setAllRoofsLoaded(!0),h()}}),t.addCheckSetting("use_single_thread_strategy","useSTRoofsStrategy",function(){var t=y.getState()||{},e=!!t.useSTRoofsStrategy;n.setRoofsStrategyId(d.getRoofsStrategyId(e)),n.getRoofs().length?a.send("rooflineDataUpdated",{isOldData:!0,isNewRoofs:!0}):o.sendNotification("changeRoofs-"+d.getRoofsConfiguration(n.getThreadCount(),e,n.getPackageCount()).str())},!0),b}.apply(e,i),i=[v],M=function(t){return{addGuidanceContextMenuProcessor:function(e){t.addProcessor({process:function(t){if(t&&Array.isArray(t)){var o=t.findIndex(function(t){return"guidance"===t.type});t.length&&o<0&&t.push({caption:"-"});var n=e();o>0?t.splice(o+1,0,n):t.push(n)}}})}}}.apply(e,i),i=[C,h,u,l,k,R,g,M],T=function(t,e,o,n,i,r,a,s){function l(){return!!e.getExtraData("shadowLoops")&&!!h.getState().linkAllMemoryLevels}function c(){function t(){return{caption:!1===u.value?o.getMessage("roofline_menu_ruler_enable"):o.getMessage("roofline_menu_ruler_disable"),command:function(){u.value=!u.value,h.save(p)},type:"guidance"}}var e=h.getState();u={settingName:p,imageUrl:"icons/guidances-preview-3-170x110.png",imageOrder:3,defaultVal:!0,caption:"roofline_toolbar_guidance_ruler",expl:"roofline_toolbar_guidance_ruler_expl"},e&&void 0!==e[p]?u.value=e[p]:u.value=u.defaultVal,h.addProcessor(p,{apply:function(t){var e=!0;t&&void 0!==t[p]&&(e=t[p]),u.value=e,m.setOn(u.value)},saveState:function(t){t[p]=u.value,m.setOn(u.value)}}),s.addGuidanceContextMenuProcessor(t)}var d,u,f=1,h=a.get(),p="rulerToRoof",m=function(){function o(t,e,o,n,a){function s(t,e){return e-t}function c(t,e){return t+e}function d(t,e){var o=0,n=Number.MAX_VALUE;t.forEach(function(t){t>o&&(o=t),t>=e&&t<n&&(n=t)});var i={};return o>0&&(i.max=o),n<Number.MAX_VALUE&&(i.nearest=n),i}function u(t,e,o,n){var i=t[o],r=e[o];return void 0!==i&&void 0!==r?n(i,r):void 0!==i?i:r}function f(t){return t&&t.name?r.getRoofMemoryLevel(t.name):""}if(t){var h=0,p=0,m=0,g=[],v=[],_=[];t.forEach(function(t){t.hidden||(t.isMem?(t.val>h&&(h=t.val),l()?f(t)===i.getLoopMemoryLevel(e)&&g.push(c(o,t.val)):g.push(c(o,t.val))):r.isScalarRoof(t)?(t.val>p&&(p=t.val),v.push(t.val)):(t.val>m&&(m=t.val),_.push(t.val)))});var y=a?_:_.concat(v),b=a?m:Math.max(p,m);y=y.filter(function(t){return s(h,t)<o&&t>=n}),g=g.filter(function(t){return t<b&&t>=n});var x,w=d(g,n),C=d(y,n),L={};x=l()?function(t,e,o,n){var i=t[n],r=e[n];if(void 0!==i&&void 0!==r){var a=Math.max(i,r);return a>o?o:a}return void 0!==o?o:void 0!==i?i:r}(w,C,w.max,"max"):u(w,C,"max",Math.max),void 0!==x&&(L.max=x);var k=u(w,C,"nearest",Math.min);return void 0!==k&&(L.nearest=k),L}}function a(t,e,o){t&&(void 0===e||void 0===o?u(t):t.setX(e).setY(o).front())}function s(t,e,o,n){if(t)if(void 0!==e&&void 0!==o&&n){k||(k=d.centralPart.canvas.getTextHeight({className:"roof_crossing_label"})),void 0!==S&&o-S<k?o=S+k:S=o,t.value.setText(n.value),t.gain.setText(n.gain);var i=e-2*R;t.el.setX(i).setY(o).front();var r=t.el.getBoundingRect();i-r.width<=0?t.el.setX(i+4*R).setStyle("text-anchor:start; dominant-baseline: middle;"):t.el.setStyle("text-anchor:end; dominant-baseline: middle;")}else p(t)}function c(t,e,o){b&&(void 0===o?m():b.setX1(t).setX2(t).setY1(e).setY2(o).front())}function u(t){a(t,-100,-100)}function p(t){t&&t.el.setX(-100).setY(-100)}function m(){c(-100,0,0)}function g(t,n){if(t&&!1!==h.getState().rulerToRoof){var i=e.getLoopPosition(t),r=e.getMemoryLevelPrefix(t),a=o(e.getRoofs(),r,i.x,i.y,t.vec);result.isValid()||result.create();result.setPos(i.x,i.y,a.max,a.nearest,n,void 0)}}var v,_,y,b,x,w,C,L,k,S,P,R=5*f;return result={create:function(){function t(){var t=d.getForegroundLayer().createText().setClass("roof_crossing_label").setX(-100).setY(0).setFilter("TextBackground").setStyle("text-anchor:end; dominant-baseline: middle;"),o=t.addSpan().setClass("roof_crossing_label_value");t.addSpan(" "+e.getProp("measureY")+" ").setClass("roof_crossing_label_measure"),t.addSpan("(").setClass("roof_crossing_label_gain_x");var n=t.addSpan().setClass("roof_crossing_label_gain");return t.addSpan("x)").setClass("roof_crossing_label_gain_x"),{el:t,value:o,gain:n}}v=d.centralPart.graphicsRoot.createDefs().createLine("crossingTemplate").setX1(-4).setY1(-4).setX2(4).setY2(4).setClass("roof_crossing"),b=d.getForegroundLayer().addLine(-100,0,-100,0,"roof_crossing_line"),_=d.getForegroundLayer().createUse().setRef(v.localRef("crossingTemplate")),y=d.getForegroundLayer().createUse().setRef(v.localRef("crossingTemplate")),x=t(),w=t()},isValid:function(){return!!v},setPos:function(t,e,o,i,r,l){function u(t,e){if(void 0!==e)return{value:n.formatVal(e),gain:n.simpleFormat(Math.pow(10,e)/Math.pow(10,t),1)}}void 0===r&&(r=800),o===i&&(i=void 0),this.hide(),L=setTimeout(function(){var n,r,f=d.tr,h=f.L2PX(t),p=f.L2PY(e);o&&(n=f.L2PY(o)),i&&(r=f.L2PY(i)),S=void 0,c(h,p,n||r),a(_,h,n),a(y,h,r),l&&(v&&v.setStyle(l),b&&b.setStyle(l)),s(x,h,n,u(e,o)),s(w,h,r,u(e,i)),C=setTimeout(function(){this.hide(),C=void 0}.bind(this),9e3)}.bind(this),r)},hide:function(){C&&clearTimeout(C),L&&clearTimeout(L),l()&&(v&&v.setStyle("stroke:black;stroke-width:2;"),b&&b.setStyle("stroke:black;")),u(_),u(y),p(x),p(w),m()},clear:function(){v=_=y=x=w=b=void 0},setOn:function(t){P&&(t?g(P):this.hide())}},t.recv("rooflineCleared",result.clear,result),t.recv("rooflineResized",result.hide,result),t.recv("zoomFrameMoved",function(t){P&&(t?result.hide():g(P))}),t.recv("loopEntered",function(t){P=t,g(t)}),t.recv("loopLeaved",function(){P=void 0,result.hide()}),t.recv("zoomFrameChanged",function(){P&&g(P,0)}),result}();return{setRoofline:function(t){d=t},setScale:function(t){f=t},setOn:m.setOn,getGuidanceInfo:function(){return u||c(),u}}}.apply(e,i),i=[],A=function(){function t(t,e,o,n,i,r,a){r=r||"magenta",this.x=e,this.y=o,this.delta=n;var s=i.L2P(e,o);this.init(t,s,n,r,a)}function e(t,e){if(t&&e){var o=[];return t.forEach(function(t){t&&(o.push(e.L2PX(t.x)),o.push(e.L2PY(t.y)))}),o}}function o(t,o,n){if(t&&(o&&o.length>0||n&&n.length>0)){m||(m=t.centralPart.canvas.getTextHeight({className:"idvcchart_roofline_text"})),t.onResize.subscribe(this,this.updatePosition),o=o||[],n=n||[];var i=function(t){return t.position},r=o.map(i).concat(n.map(i));r.sort(function(t,e){return t.x-e.x});var a=t.getLoopsLayer().createPolyline().setStyle(h).setPoints(e(r,t.tr));this.irmLine={lineEl:a,positions:r},this.createCrossPoints(t,n),this.createPointLabels(t,o,n),o.forEach(function(e){if(e){var o=e.loopData;o&&o.rooflinePoint&&(o.rooflinePoint.setFillColor(e.color),t.setPointFront(o.rooflinePoint))}})}}function n(){}function i(){this.elems=[]}function r(t,e,o,n,r,a,s,l,c,d,u){i.call(this),r<o&&(this.subLine=t.addLine(a,c,a,s,"stairs_connection_line"),this.add(this.subLine)),o<n&&(this.line=t.addLine(a,s,a,l,"stairs_delta_line").setAttr("stroke",d),this.add(this.line)),r<o&&o<n&&(this.bottom=t.createUse().setRef(p.getRef(u)).setAttr("stroke",d).setX(a).setY(s),this.add(this.bottom)),this.top=t.createUse().setRef(p.getRef(u)).setAttr("stroke",d).setX(a).setY(l),this.add(this.top),this.x=e,this.y1=o,this.y2=n,this.y0=r}function a(t,e,o,n,r,a,s){i.call(this),this.line=t.addLine(r,s,a,s,"stairs_connection_line"),this.add(this.line),this.x1=e,this.x2=o,this.y=n}function s(t){this[t]&&this[t].remove(),delete this[t]}function l(t,e,o,n){function i(e,o,n){return t.createText(e).setStyle("text-anchor: middle; dominant-baseline: text-before-edge; font-size: 80%;").setX(o).setY(n)}Array.isArray(e)||(e=[e]),this.items=[],this.position=o;var r=this.L2P(n,o),a=r.x,s=r.y;e.forEach(function(t){var e=i(t,a,s);this.items.push(e),s+=m}.bind(this))}function c(t,e,o){this.items=[{label:t,valueX:e,rect:o}]}function d(t,e){t&&e&&(e.y-=2*(g+v)+t.getLineCount()*m,t.moveY(e.y+v))}function u(t,e){return t?e-(t.y+t.height):0}var f=function(){function t(t){return t?(t=t.toLowerCase(),e[t]):"rgb(0,0,0)"}var e={l1:"rgb(149,29,29)",l2:"rgb(180,129,12)",l3:"rgb(93,150,150)",l4:"rgb(0,172,86)",dram:"rgb(70,58,132)",slm:"rgb(149,29,29)",gti:"rgb(70,58,132)"};return{getColor:t}}();t.prototype.init=function(t,e,o,n,i){function r(t){return"stroke:"+t+" !important;stroke-width:3;"}this.transparentRect=t.createRect(i).activate().setX(e.x-o).setY(e.y-o).setWidth(2*o).setHeight(2*o).setAttr("fill-opacity","0"),this.line1=t.createLine(i).setStyle(r(n)).setX1(e.x-o).setY1(e.y-o).setX2(e.x+o).setY2(e.y+o),this.line2=t.createLine(i).setStyle(r(n)).setX1(e.x-o).setY1(e.y+o).setX2(e.x+o).setY2(e.y-o)},t.prototype.attachLoopData=function(t){this.transparentRect&&this.transparentRect.el&&(t?this.transparentRect.el.loopData=t:delete this.transparentRect.el.loopData)},t.prototype.updatePos=function(t){if(t){var e=t.L2PX(this.x),o=t.L2PY(this.y),n=this.delta;return this.transparentRect.setX(e-n).setY(o-n),this.line1.setX1(e-n).setY1(o-n).setX2(e+n).setY2(o+n),this.line2.setX1(e-n).setY1(o+n).setX2(e+n).setY2(o-n),this}},t.prototype.hide=function(){return this.transparentRect.hide(),this.line1.hide(),this.line2.hide(),this},t.prototype.remove=function(){return this.transparentRect.remove(),this.line1.remove(),this.line2.remove(),this};var h="stroke:black;stroke-width:2;fill:none;",p=function(){var t,e="stairsCrossingTemplate";return{getRef:function(o){if(o)return t||(t=o.centralPart.graphicsRoot.createDefs().createLine(e).setX1(-4).setY1(-4).setX2(4).setY2(4).setClass("stairs_delta_ends")),t.localRef(e)},clear:function(){t=void 0}}}();i.prototype.hide=function(){this.elems.forEach(function(t){return t.hide()})},i.prototype.remove=function(){this.elems.forEach(function(t){return t.remove()})},i.prototype.add=function(t){this.elems.push(t)},r.prototype=Object.create(i.prototype),r.prototype.updatePos=function(t){if(t){var e=t.L2PX(this.x),o=t.L2PY(this.y1),n=t.L2PY(this.y2);if(this.subLine){var i=t.L2PY(this.y0);this.subLine.setX1(e).setY1(i).setX2(e).setY2(o)}return this.line&&this.line.setX1(e).setY1(o).setX2(e).setY2(n),this.bottom&&this.bottom.setX(e).setY(o),this.top.setX(e).setY(n),this}},a.prototype=Object.create(i.prototype),a.prototype.updatePos=function(t){if(t){var e=t.L2PX(this.x1),o=t.L2PX(this.x2),n=t.L2PY(this.y);return this.line.setX1(e).setY1(n).setX2(o).setY2(n),this}},n.prototype.hide=function(){function t(t){this[t]&&this[t].hide()}return t.call(this,"vertLine"),t.call(this,"horzLine"),this},n.prototype.remove=function(){return s.call(this,"vertLine"),s.call(this,"horzLine"),this},n.prototype.updatePos=function(t){function e(e){this[e]&&this[e].updatePos(t)}return e.call(this,"vertLine"),e.call(this,"horzLine"),this},n.prototype.setVertLine=function(t){s("vertLine"),this.vertLine=t},n.prototype.setHorzLine=function(t){s("horzLine"),this.horzLine=t},o.prototype.createStairs=function(t,e,o){this.irmStairs=[];var i=function(t){return{x:t.position.x,y:t.crossingY,color:t.color,loopY:t.position.y}},s=e.map(i).concat(o.map(i));s.sort(function(t,e){return t.y-e.y||t.x-e.x});var l,c,d=t.tr,u=t.getForegroundLayer();s.forEach(function(e){void 0===l&&(l=e.loopY);var o=d.L2PY(l),i=d.L2PX(e.x),s=d.L2PY(e.y),f=d.L2PY(e.loopY),h=new n;if(void 0!==c){var p=d.L2PX(c);h.setHorzLine(new a(u,c,e.x,l,p,i,o))}h.setVertLine(new r(u,e.x,l,e.y,e.loopY,i,o,s,f,e.color,t)),this.irmStairs.push(h),l=e.y,c=e.x}.bind(this))},o.prototype.createCrossPoints=function(e,o){this.irmPoints=[],o.forEach(function(o){if(o){var n=new t(e.getLoopsLayer(),o.position.x,o.position.y,4,e.tr,o.color);n.attachLoopData(o.loopData),this.irmPoints.push(n)}}.bind(this))};var m,g=7,v=2;return l.prototype.L2P=function(t,e){if(t)return{x:t.L2PX(e.x),y:t.L2PY(e.y)+g+v}},l.prototype.updatePos=function(t){if(t){var e=this.position,o=this.L2P(t,e),n=o.x,i=o.y;this.items.forEach(function(t){t&&(t.setX(n).setY(i),i+=m)})}},l.prototype.getBoundingRect=function(){var t={x:Number.MAX_VALUE,y:0,width:0,height:0};return this.items.forEach(function(e,o){if(e){var n=e.getBoundingRect();o||(t.y=n.y),t.x=Math.min(t.x,n.x),t.width=Math.max(t.width,n.width),t.height+=m}}),t.x-=5,t.y-=v,t.width+=10,t.height+=v,t},l.prototype.moveX=function(t){this.items.forEach(function(e){e&&e.setX(t)})},l.prototype.moveY=function(t){this.items.forEach(function(e){e&&(e.setY(t),t+=m)})},l.prototype.setFrame=function(t){if(this.items.length){if(!this.frame){var e=this.items[0];this.frame=e.getParent().createRect().before(e).setStyle("stroke: gray; fill: white")}this.frame.setX(t.x).setY(t.y).setWidth(t.width).setHeight(t.height)}},l.prototype.hide=function(){return this.items.forEach(function(t){t&&t.hide()}),this.frame&&this.frame.hide(),this},l.prototype.remove=function(){return this.items.forEach(function(t){t&&t.remove()}),this.items=[],this.frame&&(this.frame.remove(),delete this.frame),this},l.prototype.getLineCount=function(){return this.items.length},c.prototype.mergeWith=function(t){var e;if(this.items.length){var o=this.items[this.items.length-1];e=o.rect.x+o.rect.width+5}t.items.forEach(function(t){void 0!==e&&(t.rect.x=e,e+=t.rect.width+5),this.items.push(t)}.bind(this))},c.prototype.center=function(){if(this.items.length){var t=this.getRect(),e=t.centarValueX-t.width/2-t.x;this.moveX(e)}},c.prototype.moveX=function(t){this.items.forEach(function(e){e.rect.x+=t})},c.prototype.updateLabels=function(){this.items.forEach(function(t){t.label.moveX(t.rect.x+t.rect.width/2),t.label.setFrame(t.rect)})},c.prototype.getRect=function(){if(!this.items.length)return{x:0,y:0,width:0,height:0};var t=this.items[0],e=this.items[this.items.length-1];return{centarValueX:(t.valueX+e.valueX)/2,x:t.rect.x,y:1,width:e.rect.x+e.rect.width-t.rect.x,height:10}},o.prototype.createPointLabels=function(t,e,o){function n(e){var o=[];return e.forEach(function(e){e&&o.push(new l(t.getForegroundLayer(),e.labels,e.position,t.tr))}),o}this.irmLabels=[];var i=n(e),r=n(o);this.irmLabels.push.apply(this.irmLabels,i),this.irmLabels.push.apply(this.irmLabels,r),this.irmLabels.sort(function(t,e){return t.position.x-e.position.x}),this.fixTextOverlappingEx(t.tr)},o.prototype.fixTextOverlappingEx=function(t){var e=t._getClientHeight(),o=!1,n=this.irmLabels.map(function(t){var n=t.getBoundingRect();return o|=u(n,e)<0,{label:t,boundingRect:n}});if(this.irmLabels.length){var i=n.map(function(t){var e=t.boundingRect;return o&&d(t.label,e),new c(t.label,e.x+e.width/2,e)}),r=!1;do{r=!1;for(var a=0;a<i.length-1;){var s=i[a],l=i[a+1];(function(t,e){if(!t||!e)return 0;var o=t.getRect();return e.getRect().x-(o.x+o.width)})(s,l)<5?(r=!0,s.mergeWith(l),s.center(),i.splice(a+1,1)):a++}}while(r);i.forEach(function(t){t.updateLabels()})}},o.prototype.fixTextOverlapping=function(t){function e(t,e){return!t||!e||t.y+t.height<e.y||e.y+e.height<t.y?0:e.x-(t.x+t.width)}function o(t,e,o,n,i){function r(t,e,o){var n=e.x+e.width/2;t.moveX(n+o),e.x+=o}if(t&&e&&o&&n){var a=-i/1.8;r(t,o,-a),r(e,n,a)}}function n(t,n,i,r){if(d(t,n),i){r=r||i.getBoundingRect();var a=e(r,n);a<0&&o(i,t,r,n,a)}}if(t&&this.irmLabels&&this.irmLabels.length){var i,r,a,s,l=t._getClientHeight();this.irmLabels.forEach(function(t){if(t){var c=!1,d=t.getBoundingRect();u(d,l)<0&&(n(t,d,a,s),c=!0);var f=c?a:i;if(f){var h=c?s:r,p=e(h,d);p<0&&(p>-d.width/2||c?o(f,t,h,d,p):(n(t,d,a,s),c=!0))}c?(a=t,s=d):(i=t,r=d)}})}},o.prototype.updateLinePosition=function(t){t&&this.irmLine&&this.irmLine.lineEl&&this.irmLine.lineEl.setPoints(e(this.irmLine.positions,t))},o.prototype.updateCrossPointsPosition=function(t){t&&this.irmPoints&&this.irmPoints.forEach(function(e){e&&e.updatePos(t)})},o.prototype.updateLabelsPosition=function(t){t&&(this.irmLabels&&this.irmLabels.forEach(function(e){e&&e.updatePos(t)}),this.fixTextOverlappingEx(t))},o.prototype.updateStairsPosition=function(t){t&&this.irmStairs&&this.irmStairs.forEach(function(e){e.updatePos(t)})},o.prototype.updatePosition=function(t){this.updateLinePosition(t),this.updateCrossPointsPosition(t),this.updateLabelsPosition(t),this.updateStairsPosition(t)},o.prototype.remove=function(t){function e(t){t&&t.hide().remove()}this.irmLine&&e(this.irmLine.lineEl),this.irmPoints&&this.irmPoints.forEach(e),this.irmLabels&&this.irmLabels.forEach(e),this.irmStairs&&this.irmStairs.forEach(e),this.irmLine=void 0,this.irmLabels=void 0,this.irmPoints=void 0,this.irmStairs=void 0,t&&t.onResize.unsubscribe(this,this.updatePosition)},{create:function(t,e,n){return new o(t,e,n)},getColor:function(t){return f.getColor(t)},clear:function(){p.clear()}}}.apply(e,i),i=[C,h,u,S,E,d,l,k,R,g,A,M],I=function(t,e,o,n,i,r,a,s,l,c,d,u){function f(t){return d.getColor(s.getLoopMemoryLevel(e.getMemoryLevelPrefix(t)))}function h(t){return d.getColor(l.getRoofMemoryLevel(t))}function p(t,e,o,n,i){function r(t,e){return e-t}function a(t,e){return t+e}function c(t,e){var o=0,n=Number.MAX_VALUE;t.forEach(function(t){t>o&&(o=t),t>=e&&t<n&&(n=t)});var i={};return o>0&&(i.max=o),n<Number.MAX_VALUE&&(i.nearest=n),i}function d(t){return t&&t.name?l.getRoofMemoryLevel(t.name):""}if(t){var u=0,f=0,h=0,p=[],m=[],g=[];t.forEach(function(t){t.hidden||(t.isMem?(t.val>u&&(u=t.val),d(t)===s.getLoopMemoryLevel(e)&&p.push(a(o,t.val))):l.isScalarRoof(t)?(t.val>f&&(f=t.val),m.push(t.val)):(t.val>h&&(h=t.val),g.push(t.val)))});var v=i?g:g.concat(m),_=i?h:Math.max(f,h);v=v.filter(function(t){return r(u,t)<o&&t>=n}),p=p.filter(function(t){return t<_&&t>=n});var y,b=c(p,n),x=c(v,n),w={};y=function(t,e,o,n){var i=t[n],r=e[n];if(void 0!==i&&void 0!==r){var a=Math.max(i,r);return a>o?o:a}return void 0!==o?o:void 0!==i?i:r}(b,x,b.max,"max"),void 0!==y&&(w.max=y);var C=function(t,e,o,n){var i=t[o],r=e[o];return void 0!==i&&void 0!==r?n(i,r):void 0!==i?i:r}(b,x,"nearest",Math.min);return void 0!==C&&(w.nearest=C),w}}function m(t,o){function n(t){var o=[];if(t){var n=s.getLoopMemoryLevelCaption(e.getMemoryLevelPrefix(t));o.push(n);var i=e.getRooflineData4Loop(t),r=i.attrs[V];r&&void 0!==t[V]&&o.push(a.simpleFormat(t[V],3,!0)+" "+r.measure)}return o}function i(t){if(t){var o=t.position,n=t.loopData,i=e.getMemoryLevelPrefix(n),r=p(l,i,o.x,o.y,n.vec);return function(t){return t.nearest}(r)}}function r(t,o,r){r=r||function(){};var a=[];return e.forEachLoopsSimple(o,function(o){if(!(c&&o.filtered||e.getLoopKey(o)!==t)){var s={loopData:o,labels:n(o),color:f(o)};r(s),s.position=e.getLoopPosition(s.loopData),s.crossingY=i(s),a.push(s)}}),a}if(t){var l=e.getRoofs(),c=e.isFiltered(),u=r(t,e.getLoops()),h=r(t,function(){return e.getExtraData(Y)||[]}(),function(t){t&&o&&(t.loopData.state=o)});A=d.create(T,u,h)}}function g(t){A&&(t&&A.remove(T),A=void 0)}function v(t){function e(t){if(t){var e=h(t),o=e+" !important;";return{line:"stroke:"+o,text:"fill:"+o}}}t?function(){i.representations.forEach(function(t){t.roofData&&t.roofData.isMem&&t.setStyle(e(t.caption))})}():function(){i.representations.forEach(function(t){t.roofData&&t.roofData.isMem&&t.clearStyle(e(t.caption))})}()}function _(t,o,n){var i=e.isFiltered();e.forEachLoopsSimple(e.getLoops(),function(r,a,s){i&&r.filtered||r.rooflinePoint&&(e.getLoopKey(r)===t?o(r.rooflinePoint):n(r.rooflinePoint))})}function y(t){function e(t){t&&t.loopData&&t.setFillColor(f(t.loopData))}function o(t){t&&t.addClass("loop_inactive_result")}t&&_(t,e,o)}function b(t){function e(t){t&&t.remClass("loop_inactive_result")}_(t,n.updateLoopVisualisation.bind(n),e)}function x(){I&&(g(!0),b(I)),I=void 0}function w(t,e){I=t,t&&(m(t,e),v(t),y(t))}function C(){return!!e.getExtraData(Y)&&!!D.getState().linkAllMemoryLevels}function L(t){C()&&(x(),function(t){var o=t&&!t.isHidden()&&t.loopData&&!t.loopData.resIndex;return o&&e.isFiltered()&&(o=!t.loopData.filtered),o}(t)&&w(e.getLoopKey(t.loopData),t.loopData.state))}function k(t){var e=t.target;e&&e.roofLinePoint?L(e.roofLinePoint):x()}function S(t){if(32===t.keyCode||13===t.keyCode){var e=T.currentPoint;e&&(I?x():L(e))}}function P(t){T&&T.centralPart.body.removeEventListener("dblclick",k),(T=t)&&T.centralPart.body.addEventListener("dblclick",k)}function R(){C()&&v(I)}function E(){function t(){return{caption:!1===z.value?o.getMessage("roofline_menu_dumbbelled_enable"):o.getMessage("roofline_menu_dumbbelled_disable"),command:function(){z.value=!z.value,D.save(B)},type:"guidance"}}var e=D.getState();z={settingName:B,imageUrl:"icons/guidances-preview-2-170x110.png",imageOrder:2,defaultVal:!1,caption:"roofline_toolbar_guidance_dumbbelled",expl:"roofline_toolbar_guidance_dumbbelled_expl"},e&&void 0!==e[B]?z.value=e[B]:z.value=z.defaultVal,u.addGuidanceContextMenuProcessor(t),D.addProcessor(B,{apply:function(t){var e=z.defaultVal;t&&void 0!==t[B]&&(e=t[B]),z.value=e,M(z.value)},saveState:function(t){t[B]=z.value,M(z.value)}})}function M(t){t?I=void 0:(v(),x(),I=void 0)}var T,A,I,z,D=c.get(),B="linkAllMemoryLevels",V="selfMem",Y="shadowLoops";return t.recv("rooflineCleared",function(){C()&&g(!1),I=void 0,d.clear()}),t.recv("currentPointChanged",x),window.addEventListener("keydown",S),t.recv("zoomFrameChanged",R),t.recv("rooflineResized",R),t.recv("loopChangingPosition",function(t){e.getLoopKey(t)===I&&g(!0)}),t.recv("loopChangedPosition",function(t){e.getLoopKey(t)===I&&(m(I,t.state),t.rooflinePoint&&t.rooflinePoint.setFillColor(f(t)))}),r.addConsumer("rooflineAdditionalDataLoopData",{noStackErrors:0,process:function(o){o&&(o.loops||(o.loops=[]),o.memoryLevelPref&&o.loops.forEach(function(t){t&&!t.memoryLevelPref&&(t.memoryLevelPref=o.memoryLevelPref)}),e.setExtraData(Y,o.loops),e.setWholeView(!0),t.send("rooflineDataUpdated",{isOldData:!0}),void 0===z&&E(),t.send("rooflineExtraDataUpdated"))}}),{setRoofline:P,setOn:M,getGuidanceInfo:function(){return!z&&e.getExtraData(Y)&&E(),z}}}.apply(e,i),i=[C,h,R,c,u,g,d,M,s],z=function(t,e,o,n,i,r,a,s,l){function c(t){return t&&t.parentNode&&t.parentNode.owner&&t.parentNode.owner.isZoneCaption}function d(t){if(c(t))return t.parentNode.owner.textDescription}function u(t){_.refresh()}function f(){function t(){return{caption:!1===p.value?i.getMessage("roofline_menu_show_zones_enable"):i.getMessage("roofline_menu_show_zones_disable"),command:function(){p.value=!p.value,v.save(g)},type:"guidance"}}var e=v.getState();p={settingName:g,imageUrl:"icons/guidances-preview-0-170x110.png",imageOrder:0,defaultVal:!0,caption:"roofline_toolbar_guidance_zones",expl:"roofline_toolbar_guidance_zones_expl"},e&&void 0!==e[g]?p.value=e[g]:p.value=p.defaultVal,s.addGuidanceContextMenuProcessor(t),v.addProcessor(g,{apply:function(t){var e=!0;t&&void 0!==t[g]&&(e=t[g]),p.value=e,u(p.value)},saveState:function(t){t[g]=p.value,u(p.value)}})}var h,p,m=1,g="useZoneColoring",v=r.get(),_=function(){function r(t,e,o,n,i,r,a){this.textTop=t,this.textBottom=e,this.textDescription=o,this.textRect=void 0,this.points=void 0,this.fillColor=n,this.opacity=i,this.textLineElemTop=void 0,this.textLineElemBottom=void 0,this.poly=void 0,this.textGradient=void 0,this.textGradientId="EllipsisGradient"+D(),this.calcPoints=r,this.calcRect=a}function s(t,e,n){function i(t,e){var o=h.getBackgroundLayer().createText(t);return o&&e&&o.addSpan("?").addClass("idvcchart_roofline_explanation").setStyle("font-size: 80%").setAttr("dy","-7").activate(),o}function r(t,e){t.getBoundingRect().width<a?function(t,e){t.setStyle("text-anchor: middle;opacity:"+z).setAttr("fill",I).setX(l+a/2).setY(c-e).front()}(t,e):(this.textGradient||(this.textGradient=function(t){return o.roofDefs.get(h).createLinearGradient(t).useAbsoluteCoords().setY1("0").setY2("0").addStop("70%",I,z).addStop("100%",I,"0")}(this.textGradientId)),function(t,e,o){t.setStyle("text-anchor: start;").setAttr("fill",t.localUrl(o)).setX(l).setY(c-e).front()}(t,e,this.textGradientId))}if(t&&2===t.length){var a=t[1][0]-t[0][0];if(a<=Number.EPSILON)return!1;if(a>10*m){if(this.textLineElemTop?this.textLineElemTop.show():this.textLineElemTop=i(e),this.textLineElemBottom?this.textLineElemBottom.show():(this.textLineElemBottom=i(n,!0),this.textLineElemBottom.isZoneCaption=!0,this.textLineElemBottom.textDescription=this.textDescription),!this.textLineElemTop||!this.textLineElemBottom)return;var s=4*m,l=t[0][0]+s,c=t[1][1]-s;this._captionTextHeight||(this._captionTextHeight=h.centralPart.canvas.getTextHeight({className:"idvcchart_roofline_text"})),r.call(this,this.textLineElemTop,2*this._captionTextHeight),r.call(this,this.textLineElemBottom,this._captionTextHeight),this.textGradient&&this.textGradient.setX1(l).setX2(l+a)}else this.textLineElemTop&&this.textLineElemTop.hide(),this.textLineElemBottom&&this.textLineElemBottom.hide();return!0}}function l(t){this.poly||(this.poly=h.getBackgroundLayer().createPolygon().setAttr("fill",this.fillColor).setStyle("opacity:"+this.opacity)),this.poly.setPoints(t).back()}function c(){if(!1===v.getState().useZoneColoring)return!1;var t=!1,o=e.getRooflineData();if(o&&(t=void 0!==o.minIntens&&void 0!==o.maxIntens&&void 0!==o.minPerf&&void 0!==o.maxPerf),!t)return!1;var n=e.getRoofs();return n.some(function(t){return t.isMem})&&n.some(function(t){return!t.isMem})}function d(){var t,o,n,i,r=e.getRooflineData();if(r){var a=r.minIntens,s=r.maxIntens,l=r.minPerf,c=r.maxPerf;intens=s-a,perf=c-l,t=a-X*intens,o=s+X*intens,n=l-X*perf,i=c+X*perf}return{minIntens:t,maxIntens:o,minPerf:n,maxPerf:i}}function u(t){if(t){var e=d(),o=e.minPerf,n=e.minIntens;return t.forEach(function(t){if(t&&!t.hidden&&t.isMem){var e=t.val+n;e>o&&(o=e)}}),o}}function f(t){return t&&t.getMin(o.getTopSelectedRoof(e.getRoofs(),!1))}function p(t){return t&&t.getMax(o.getTopSelectedRoof(e.getRoofs(),!1))}function g(t){return t&&t.getMin(o.getBottomComputeRoof(e.getRoofs(),!0))}function _(t){return t&&t.getMin(o.getTopSelectedRoof(e.getRoofs(),!1,!0))}function y(t){return t&&t.getMax(o.getBottomComputeRoof(e.getRoofs(),!1))}function b(t){return t&&t.getMax(o.getTopSelectedRoof(e.getRoofs(),!1,!0))}function x(t){var o=t&&t.getLeftBottom(),n=u(e.getRoofs());if(o&&n){var i=d(),r=[o.x,o.y],a=[i.minIntens,i.minPerf],s=[i.minIntens,n];if(V===B.vector){var l=g(t);if(!l)return;r=[l.x,l.y]}return[[a[0],a[1]],[a[0],s[1]],[r[0],r[1]],[r[0],a[1]]]}}function w(t){var e=t&&t.getLeftBottom(),o=f(t),n=p(t);if(V===B.vector)e=g(t),o=_(t),n=b(t);else if(V===B.scalar){var i=y(t);i&&(n=i,o=i)}else o=_(t),n=b(t);if(e&&o&&n){var r=d(),a=r.minPerf;return[[e.x,a],[e.x,e.y],[o.x,o.y],[n.x,n.y],[n.x,a]]}}function C(t){var n,i=p(t);if(V===B.scalar?n=o.getBottomComputeRoof(e.getRoofs(),!1):i=b(t),i){var r=i.y;n&&(r=n.val);var a=[i.x,r];if(V===B.scalar){var s=y(t);if(i=p(t),s&&i){var l=i.y;s&&(l=s.y),a=[s.x,l]}}var c=d(),u=c.minPerf;return[[a[0],u],a,[c.maxIntens,r],[c.maxIntens,u]]}}function L(t){if(t&&!(t.length<4))return[[t[0][0],t[2][1]],[t[2][0],t[0][1]]]}function k(t){if(t&&!(t.length<5))return[[t[1][0],t[1][1]],[t[4][0],t[4][1]]]}function S(t){if(t&&!(t.length<4))return[[t[1][0],t[1][1]],[t[3][0],t[3][1]]]}function P(t){Y.forEach(function(e){e&&e.clear(t)})}function R(){var t=new o.RoofsCrossingManager(e.getRoofs());Y.length||(Y=[new r(i.getMessage("roofline_zone_theoretically"),i.getMessage("roofline_zone_memory_bound"),i.getMessage("roofline_zone_memory_description"),"rgb(240, 50, 50)",.06,x,L),new r(i.getMessage("roofline_zone_mixed_line1"),i.getMessage("roofline_zone_mixed_line2"),i.getMessage("roofline_zone_mixed_description"),"rgb(200, 40, 40)",.1,w,k),new r(i.getMessage("roofline_zone_theoretically"),i.getMessage("roofline_zone_compute_bound"),i.getMessage("roofline_zone_compute_description"),"rgb(160, 30, 30)",.14,C,S)]),Y.forEach(function(e){e&&e.calculate(t)})}function E(t){(t||c())&&Y.forEach(function(t){t&&t.draw()})}function M(){Y&&3==Y.length&&(V===B.vector?(Y[0].setTopText(i.getMessage("roofline_zone_vector_memory_line1")),Y[2].setTopText("")):V===B.scalar?(Y[0].setTopText(""),Y[2].setTopText(i.getMessage("roofline_zone_scalar_compute_line1"))):(Y[0].setTopText(""),Y[2].setTopText("")))}function T(){E(!1)}function A(t){V="1"==t?B.vector:"2"==t?B.scalar:B.none,M(),O.refresh()}var I="rgb(160, 0, 0)",z=.6,D=function(){var t=1;return function(){var e=t;return t<Number.MAX_SAFE_INTEGER?t++:t=1,e}}(),B={scalar:"scalar",vector:"vector",none:"none"},V=B.none;r.prototype.calculate=function(t){this.calcPoints&&this.calcRect&&(this.points=this.calcPoints(t),this.textRect=this.calcRect(this.points))},r.prototype.setTopText=function(t){void 0!==this.textTop&&(this.textTop=t,this.textLineElemTop&&this.textLineElemTop.setText(t))},r.prototype.draw=function(){function t(t){if(t)return t.map(function(t){if(t&&2===t.length)return[h.tr.L2PX(t[0]),h.tr.L2PY(t[1])]}).filter(function(t){return!!t})}if(!this.points||this.points.length<3||!h||!h.tr)return void this.clear(!0);s.call(this,t(this.textRect),this.textTop,this.textBottom)?l.call(this,t(this.points)):this.clear(!0)},r.prototype.clear=function(t){t&&(this.poly&&this.poly.remove(),this.textLineElemTop&&this.textLineElemTop.remove(),this.textLineElemBottom&&this.textLineElemBottom.remove(),this.textGradient&&this.textGradient.remove()),this.textLineElemTop=void 0,this.textLineElemBottom=void 0,this.poly=void 0,this.textGradient=void 0};var Y=[],X=n.getChartAreaPadding(),O={refresh:function(){c()?(R(),M(),E(!0)):P(!0)},clear:P};return t.recv("rooflineCleared",O.clear,O),t.recv("rooflineResized",T,O),t.recv("roofsCreated",O.refresh,O),t.recv("roofsUpdated",O.refresh,O),t.recv("roofVisibilityChanged",O.refresh,O),t.recv("roofSelectionChanged",O.refresh,O),a.addConsumer("changePerspective",{process:A}),O}();return n.addTooltipProcessor({accept:c,getText:d}),{setRoofline:function(t){h=t},setScale:function(t){m=t},setOn:u,getGuidanceInfo:function(){return p||f(),p}}}.apply(e,i),i=[C,h,l,c,k,u,s],D=function(t,e,o,n,i,r,a){function s(t,e,o,n,i){if(!(t.length<2)){var r=t[0].x,a=t[0].y,s=t[1].x,c=t[1].y;this.line=v.getForegroundLayer().addLine(r,a,s,c,i.line),this.line.setStyle("marker-end:"+this.line.localUrl(e.arrow)),this.text=v.getForegroundLayer().createText(o).setClass(i.caption).setStyle("text-anchor: middle;").activate(),l(this.text,r,a,s,c),this.text.el.tooltip=n}}function l(t,e,o,n,i){if(t){if(e>n){var r=[n,e];e=r[0],n=r[1];var a=[i,o];o=a[0],i=a[1]}var s,l=Math.atan2(i-o,n-e),u=4*_,f=u*Math.sin(l),h=u*Math.cos(l),p=(e+n)/2+f,m=(o+i)/2-h,g=t.getBoundingRect().width,v=Math.sqrt(Math.pow(n-e,2)+Math.pow(i-o,2));if(g>v){c();s=d(Math.floor(v/g*10)/10)}t.setX(p).setY(m).setTransform("rotate("+function(t){return 180*t/Math.PI}(l)+" "+p+","+m+")"),s?t.setAttr("fill",t.localUrl(s)):t.setAttr("fill",y)}}function c(){C||(v.centralPart.graphicsRoot.createDefs("TextEllipsisTemplateDefs").createLinearGradient("TextEllipsisTemplate").setY1("0").setY2("0").setX1("0").setX2("1").addStop("0%",y,"0").addStop("20%",y,"1").addStop("85%",y,"1").addStop("100%",y,"0"),C=!0)}function d(t){t<.1&&(t=.1);var e="TextEllipsis_"+Math.floor(10*t);if(!L.has(e)){var o=(1-t)/2,n=v.centralPart.graphicsRoot;n.getDefs("TextEllipsisDefs").createLinearGradient(e).setTransform("translate("+o+"),scale("+t+")").setRef(n.localRef("TextEllipsisTemplate")),L.add(e)}return e}function u(t,e,n,i){if(void 0!==t&&void 0!==e){t=i(t),e=i(e);var r=t-e,a=r>0?"+":"";return{percent:a+o.simpleFormat(100*r/Math.max(t,e),2)+"%",formula:a+o.simpleFormat(r)+" "+n+" = "+t+" "+n+" - "+e+" "+n}}}function f(t,n){var i={caption:"",tooltip:""};if(!t||!n)return i;var s=e.getRooflineData4Loop(t);if(!s)return i;var l=void 0!==t.y1&&void 0!==n.y1,c=u(l?n.y1:n.y,l?t.y1:t.y,s.measureY,o.formatVal),d=u(n.totalTime,t.totalTime,"s",o.formatTime);if(!c||!d)return i;var f=s.measureY.replace(/giga|g/i,""),h=a.format(r.getMessage("roofline_matching_loops_delta"),f,c.percent,c.formula),p=a.format(r.getMessage("roofline_matching_loops_delta"),"t",d.percent,d.formula),m=l?s.namePref1+" ":"",g=h+"<br/>\n      "+a.format(r.getMessage("roofline_matching_loops_delta_description"),m+s.nameY,s.measureY)+"\n      <br/><br/>\n      "+p+"<br/>\n      "+a.format(r.getMessage("roofline_matching_loops_delta_description"),"Total Time","seconds");return{caption:c.percent,tooltip:g}}function h(t){t&&t.rooflinePoint&&!t.rooflinePoint.isHidden()&&!t.rooflineConnectedMatching&&e.forEachMatchingLoops(t,function(e){if(e.rooflinePoint&&!e.rooflinePoint.isHidden()){t.rooflineConnectedMatching||(t.rooflineConnectedMatching=[]);var o=e.rooflineConnectedMatching;if(!o||!o.find(function(e){return e&&e.loop==t})){i.setLoopPointFront(e.rooflinePoint,v);var n=f(t,e),r=new s(i.getLoopPoints(t,e),{arrow:b},n.caption,n.tooltip,{line:w,caption:x});t.rooflineConnectedMatching.push({loop:e,line:r})}}},this)}function p(t){t&&t.rooflineConnectedMatching&&t.rooflineConnectedMatching.forEach(function(e){return e.line.update(i.getLoopPoints(t,e.loop))})}function m(t,e){t&&t.rooflineConnectedMatching&&(e&&t.rooflineConnectedMatching.forEach(function(t){return t.line.remove()}),delete t.rooflineConnectedMatching)}function g(t){t||(C=!1,L.clear()),e.forEachLoopsSimple(e.getLoops(),function(e){return m(e,t)})}var v,_=1,y="black",b="loops_matching_arrow",x="loops_matching_label",w="loops_matching_line";s.prototype.update=function(t){if(!(t.length<2)){var e=t[0].x,o=t[0].y,n=t[1].x,i=t[1].y;this.line.setX1(e).setY1(o).setX2(n).setY2(i),l(this.text,e,o,n,i)}},s.prototype.remove=function(){this.line&&this.line.remove(),delete this.line,this.text&&this.text.remove(),delete this.text};var C=!1,L=new Set;return n.addTooltipProcessor({accept:function(t){return t&&t.classList.contains(x)},getText:function(t){return t.tooltip}}),t.recv("rooflineCleared",g),t.recv("pointsSelectionChanged",function(t){g(!0),t&&t.reverse().forEach(function(t){return t&&!t.filtered&&h(t)})}),t.recv("rooflineResized",function(t){t&&v.selectedPoints.forEach(function(t){return t&&t.loopData&&!t.loopData.filtered&&p(t.loopData)})}),t.recv("loopsCreating",function(){n.createLineArrowMarker(b,"loops_matching_arrow",v,_)}),t.recv("loopChangingPosition",function(t){m(t,!0)}),t.recv("loopChangedPosition",h),{setRoofline:function(t){v=t},setScale:function(t){_=t}}}.apply(e,i),i=[T,I,z,D],B=function(){function t(t,o){e.forEach(function(e){e[t]&&e[t](o)})}var e=[].slice.call(arguments);return{setRoofline:function(e){t("setRoofline",e)},setScale:function(e){t("setScale",e)},setConfiguration:function(e){t("setConfiguration",e)},getGuidanceInfo:function(){return e.map(function(t){var e;return t&&t.getGuidanceInfo&&(e=t.getGuidanceInfo()),e}).filter(function(t){return!!t})}}}.apply(e,i),i=[g,m,l,d,h,S,E,B,c,C,s,b,y],V=function(t,e,o,n,i,r,a,s,l,c,d,u,f){function h(t,e,o){var n=R/2;t.createMarker(e).setMarkerWidth(E).setMarkerHeight(R).setRefX(1).setRefY(n).setOrient("auto").setMarkerUnits("userSpaceOnUse").createPath().moveToAbs(0,0).lineToAbs(0,R).lineToAbs(E,n).lineToAbs(0,0).setD().setClass(o)}function p(){f.DefValueRepresentation.call(this)}function m(t,e,o){t.setStyle("stroke: transparent; stroke-width:"+R+"; marker-start:"+t.localUrl(e)),C&&C.centerMarker&&(o?C.centerMarker.activate():C.centerMarker.deactivate())}function g(t){if(C&&t.length){C.onSelectionChanged.unsubscribe(null,w),C.clearSelectedPoints();var e=t.shift();e&&(C.currentPoint=e.rooflinePoint),t.forEach(function(t){t&&C.addSelectedPoint(t.rooflinePoint)}),w(void 0,void 0,!0),C.onSelectionChanged.subscribe(null,w)}}function v(t){function e(t){var e="id";return"rvas"===t?e="rva":"locations"===t&&(e=function(t,e){return t.locat+t.name===e}),e}function o(t,e,o,n){function i(e){return"string"==typeof o?e[o]===t:"function"==typeof o&&o(e,t)}t&&e&&o&&n&&C.points[e](function(t){return!!i(t.loopData)&&(n(t),!0)})}if(C){var n=t.shift();if(C.onSelectionChanged.unsubscribe(null,w),C.clearSelectedPoints(),C.currentPoint=void 0,t.length){o(t.shift(),"some",e(n),function(t){C.currentPoint=t});var i=[],r=!1;t.forEach(function(t){void 0!==t?(r&&(i=[],r=!1),o(t,"ids"!==n?"forEach":"some",e(n),function(t){C.addSelectedPoint(t),i.push(t)})):r=!0}),w(void 0,void 0,!0),C.onSelectionChanged.subscribe(null,w),A(i)}}}function _(t,e,o){e=e||function(t){return t},t.push(C.currentPoint&&!C.currentPoint.loopData.filtered?e(C.currentPoint.loopData):o),C.selectedPoints.forEach(function(o){o&&o.loopData&&!o.loopData.filtered&&t.push(e(o.loopData))})}function y(t){var o=!(!t||!t.isOldData),n=!(!t||!t.isNewRoofs),s=!(!t||!t.movingZoomFrame),u=!(!t||!t.changingZoomFrame),f=!(!t||!t.changingRoofs),m=!o||!!C.centralPart.selection,v=s||u||f,y=(o||!(!t||!t.keepSelection))&&!v,x=i.getRooflineData();if(x){var w=d.disableElement(document.body,"Processing...",function(){var t=i.getLoops();return t&&t.length>250||!o});o=o&&!n;try{var R=function(t,e,o,n,i){function r(o){o>t&&o<e&&(i.addValue(o),s++)}for(var a=Math.round((n-o)/(e-t)),s=0,l=Math.floor(o),c=l;c<n;c++){r(c);for(var d=Math.pow(10,c),u=10*d,f=(u-d)/(3*a),h=d+f;h<u;)r(Math.log10(h)),h+=f}return s},E=function(t,e,o){o.addValue(t),t!==e&&o.addValue(e)},A=function(t){var e,o=t.val;if(t.isMem){o=t.val+K;var n=Z?W:nt;n<=o&&(n=nt);e=[o,n-t.val,n]}else{var i;i=G?t.val-j:K,e=[i,o]}return e},I=function(t){var e=t.canvas.createDefs();h(e,T,"total_value_tick"),h(e,M,"total_value_tick_active")},z=[];y&&_(z),v?(C.horzAxis.clear(),C.vertAxis.clear()):c.send("rooflineCleared"),L=e.get(i.isHierarchical()),r.setZoomer(L),o||S.apply(),S.disableSaving();var D=i.getRoofs()||[];if(x.loops=x.loops||[],o||function(t){function e(e,o){function n(e){return e&&t&&t[e]?t[e]:""}var i=n(e),r=n(o);return i+(r?' (<span class="axis_caption_expl">'+r+"</span>)":"")}var o=d.getElementById("roofline_vert_axis_caption");o&&(o.innerHTML=e("measureY"));var n=d.getElementById("roofline_horz_axis_caption");n&&(n.innerHTML=e("measureX","nameX"))}(x),document.body.classList.remove("data_loading"),x.noDataMessage){var B=document.getElementsByClassName("no_data_message");if(B.length){l.hideStdTooltip(),C.centralPart.hideTooltip(),document.body.classList.add("no_data");var V=B[0];return V.firstElementChild.innerHTML=x.noDataMessage.title,void(V.lastElementChild.innerHTML=x.noDataMessage.descr)}}else document.body.classList.remove("no_data"),i.isHierarchical()?document.body.classList.remove("plain_data"):document.body.classList.add("plain_data");i.applySavedHierarchy(x.loops),D.length?document.body.classList.remove("no_roofs"):document.body.classList.add("no_roofs");var Y=s?t.movingZoomFrame:L.getMinMax(!0),X=Y.minX,O=Y.maxX,H=Y.minY,N=Y.maxY,W=-Number.MAX_VALUE,F=Number.MAX_VALUE,U=Number.MAX_VALUE,j=-Number.MAX_VALUE,G=0,Z=0;D.forEach(function(t){t.hidden||(t.isMem?(U=Math.min(U,t.val),j=Math.max(j,t.val),G++):(W=Math.max(W,t.val),F=Math.min(F,t.val),Z++))});var Q=n||f||void 0===x.minIntens||void 0===x.maxIntens||void 0===x.minPerf||void 0===x.maxPerf,J=s?t.movingZoomFrame:L.getCurrentZoom();if((Q||!J)&&Z&&G){var q=W-U;O=Math.max(O,q),X=Math.min(X,q),q=F-j,X=Math.min(X,q)}var $=O-X;O===X&&($=Math.abs(X));var K=X-P*$,tt=O+P*$;!Q&&J||(Z&&(H=Math.min(H,F),N=Math.max(N,W)),G&&(H=Math.min(H,U+K),(N=Math.max(N,j+K))===j+K&&(N=j+(K+tt)/2)));var et=N-H;N===H&&(et=Math.abs(H)),!Q&&J||(x.minIntens=X,x.maxIntens=O,x.minPerf=H,x.maxPerf=N,L.saveMinMax(x)),Q&&J&&(X=Y.minX,O=Y.maxX,H=Y.minY,N=Y.maxY,$=O-X,et=N-H,K=X-P*$,tt=O+P*$);var ot=H-P*et,nt=N+P*et,it=100*k;C.setViewbox(K,ot,tt,nt,it,it),J?(E(X,O,C.horzAxis),R(X,O,x.minIntens,x.maxIntens,C.horzAxis),E(H,N,C.vertAxis),R(H,N,x.minPerf,x.maxPerf,C.vertAxis)):(R(K,tt,K,tt,C.horzAxis)||E(X,O,C.horzAxis),R(ot,nt,ot,nt,C.vertAxis)||E(H,N,C.vertAxis)),x.programTotal&&(I(C.vertAxis),I(C.horzAxis),C.vertAxis.addValue(x.programTotal.y,void 0,p),C.horzAxis.addValue(x.programTotal.x,void 0,p),b(C.vertAxis,x.programTotal.x,x.programTotal.y),b(C.horzAxis,x.programTotal.x,x.programTotal.y)),C.addGridLines(),C.vertAxis.layoutValues(),C.horzAxis.layoutValues(),v?(a.recalculateRoofs(D,A),d.refreshSize(C.centralPart.body,{movingZoomFrame:!0})):(m&&C.centralPart.createFreeSelection(),a.fillRoofsPatterns(),r.fillLoops(x.loops),r.fillSettings(),r.fillHistogramChart("roofline_legend"),a.fillRoofs(D,A),x.programTotal&&C.setCenterMarker(x.programTotal.x,x.programTotal.y,k)),y&&g(z)}finally{S.enableSaving(),w.end()}}}function b(t,e,o){if(t&&t.values&&t.values.length){var n=t.values[t.values.length-1],i=n.representation.line;i&&i.setAttr(l.tooltipAttr,"<b>Program Total</b><br>"+x(e,o))}}function x(t,e){var n,r=i.getRooflineData();return C&&C.tr&&r&&(n=r.nameY+o.pref+o.formatVal(e)+o.post+r.measureY+"<br>"+r.nameX+o.pref+o.formatVal(t)+o.post+r.measureX),n}function w(t,e,o){I||(I=setTimeout(function(){I=void 0;var t=[];_(t),t.shift(),c.send("pointsSelectionChanged",t),t=[],_(t,function(t){return t.resIndex?"-1":t.id},"-1"),c.send("loopsSelectionChanged",{points:t,quiet:o})},50))}var C,L,k=1,S=t.get(),P=l.getChartAreaPadding();c.recv("rooflineCleared",function(){C&&C.clear(),document.body.classList.remove("no_data"),document.body.classList.add("data_loading")}),c.recv("rooflineDataUpdated",y),c.recv("loopHighlighted",function(t){if(t){var e=t.rooflinePoint;e&&setTimeout(A,50,[e])}}),p.prototype=Object.create(f.DefValueRepresentation.prototype);var R=10,E=6,M="TotalValueActive",T="TotalValue";p.prototype.create=function(t,e,o,n,i){f.DefValueRepresentation.prototype.create.call(this,t,e,o,n,i),m(this.line,T),this.line.activate(),this.line.on("mouseenter",m.bind(this,this.line,M,!0)),this.line.on("mouseleave",m.bind(this,this.line,T,!1)),this.text.setClass("").setAttr("fill","none")},p.prototype.getBoundingRect=function(){var t=f.DefValueRepresentation.prototype.getBoundingRect.call(this);return t.width=t.height=0,t},p.prototype.show=p.prototype.hide=function(){},p.prototype.getGridLineClassName=function(){return"idvcroofline_total_line"};var A=function(){function t(){r=0,a=0,s=!0}function e(){o(n,!0,!0),n=[]}function o(t,e,o){t.forEach(function(t){t.hasClass("no_loop_position")&&(o?t.remClass("flashed"):t.addClass("flashed")),e?t.remAttr("opacity"):t.setAttr("opacity","0")})}var n=[],r=0,a=0,s=!0;return function(l){var c=l.map(function(t){for(var e=t;e&&e.el&&e.el.isHidden();){var o=e.loopData;if(!o||!i.getParent(o))break;e=i.getParent(o).rooflinePoint}return e}).filter(function(t,e,o){return t&&o.indexOf(t)==e}).map(function(t){return t.el}),u=n.length>0;u&&e(),c.length?(t(),n=c,u||d.animate(function(t){return!(a>=10)&&(t-r>=100&&(a++,r=t,s=!s,o(n,s)),a<10)},e)):a=10}}();n.addConsumer("selectedLoops",{process:v}),l.addDefTooltipProcessor({accept:function(){return!0},getText:function(t,e,o){return x(e,o)}});var I;return{createRoofline:function(t){return i.setPointConstructors([u.SquarePoint,u.TrianglePoint,u.DiamondPoint]),C=u.create(t,"0"),C.onResize.subscribe(void 0,c.send.bind(c,"rooflineResized")),C.centralPart.ontooltiptext=l.getTooltipText,C.centralPart.ontooltipattrs=function(t,e,o,n){return{autoHideDelay:e.length>100?1e4:5e3}},r.setRoofline(C),a.setRoofline(C),s.setRoofline(C),C.onSelectionChanged.subscribe(null,w),C.onCurrentPointChanged.subscribe(null,c.send.bind(c,"currentPointChanged")),C.horzAxis.onformat=function(t,e,n){return" "+o.formatVal(t,e,n)+" "},C.vertAxis.onformat=o.formatVal,C},setScale:function(t){k=t,r.setScale(k),a.setScale(k),s.setScale(k)},setConfiguration:function(t){t&&(r.setConfiguration(t.loops),a.setConfiguration(t.roofs),s.setConfiguration(t))}}}.apply(e,i),new Promise(function(t){t()}).then(function(){var t=[m,g,V,l,d,h,c,w,u,P,v,C,R,B,s,b];(function(t,e,o,n,i,a,s,l,c,d,u,f,h,p,m,g){function v(t){return document.body.classList.contains(t)}function _(){return v("data_loading")}function y(){return v("no_data")}function b(t){return!!t&&H.some(function(e){return t.endsWith(e)})}function x(t){t&&t.stopMoving||(R(),M(),f.send("rooflineDataUpdated",{isOldData:!0,changingZoomFrame:!0}),f.send("zoomFrameChanged"))}function w(){mt&&s.flashElement(function(){mt.splitterDiv.classList.add("roofline_flash")},function(){mt.splitterDiv.classList.remove("roofline_flash"),mt.removeSash(),mt.addSash(),mt.splitterDiv.setAttribute(s.tooltipAttr,Z()),mt.sashDiv.setAttribute(s.tooltipAttr,Z())},2e3)}function C(){R(),l.refresh()}function L(t){i.sendNotification(t)}function k(t){L("loadcompare-"+(t||""))}function S(t){L("changeRoofs-"+t)}function P(t,e){e?m.removeClass(t,"disabled"):m.addClass(t,"disabled")}function R(){var t={undo:!1,redo:!1,cancel:!1};a.getRooflineData()&&(t=G.getZoomState()),P(et,t.undo),P(ot,t.redo),P(nt,t.cancel)}function E(t){if(a.getRooflineData()){var e={},o={},i=gt.selectedPoints;if(i&&i.length>0){var r=0,s=0;i.forEach(function(t){var e=t.loopData;r+=e.selfElapsedTime||e.selfTime,s+=e.totalElapsedTime||e.totalTime});var l=a.getRooflineData();e.attr=l.attrs.selfElapsedTime||l.attrs.selfTime,o.attr=l.attrs.totalElapsedTime||l.attrs.totalTime,e.attr&&(e.val=n.formatTime(r)),o.attr&&(o.val=n.formatTime(s))}at.update("self",e.val,e.attr),at.update("total",o.val,o.attr),at.refresh(),t||at.flash()}}function M(t){function e(t,e){e?m.addClass(t,"pressed"):m.removeClass(t,"pressed")}if(!this.classList||!this.classList.contains("disabled")){if(!t){var o={undo:!1,redo:!1,cancel:!1};a.getRooflineData()&&(o=G.getZoomState()),lt!==st.move||o.cancel||(t=st.zoom),P(tt,o.cancel)}var n,i=t&&t!==lt;i&&(n=lt,lt=t),dt.forEach(function(t){e(t.btn,lt===t.type),i&&n===t.type&&t.off&&t.off(),lt===t.type&&(i&&t.on&&t.on(),gt.centralPart.body.style.cursor=t.cursor||"default")})}}function T(t){if((!this.classList||!this.classList.contains("disabled"))&&a.getRooflineData()&&G){G.getZoomState()[t]&&G[t+"Zoom"]()}}function A(){var t={},e=a.getRooflineData();return m.copyObject(e,t,function(t,e){return!("object"===(void 0===t?"undefined":X(t))&&t.el||0===e.indexOf("rooflineConnected")||0===e.indexOf("matchingLoops")||"resultInfo"===e)}),t}function I(t){var e=t&&t.width||ut,o=t&&t.height||ft,n=document.getElementById("roofline_content");if(n){var i=function(t){var e=t.children[0].innerHTML;return encodeURI(e.replace(g,""))},r=mt.splitterDiv.offsetWidth+mt.secondaryDiv.offsetWidth-1;r<0&&(r=0),n.style.width=e+r+"px",n.style.height=o+"px",m.refreshSize(n);var s='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 %whole_width% %whole_height%">\n<style>\n  svg { font : caption; }\n    .idvcchart_axis { fill: none; stroke: gray; stroke-width: 1; vector-effect: non-scaling-stroke; shape-rendering: crispEdges; }\n    .idvcchart_axis_text { fill: #333; font-size: 95%25; stroke: none; stroke-width: 1; vector-effect: non-scaling-stroke; }\n    .idvcchart_roofline_text { fill: gray; font-size: 90%25; }\n    .idvcchart_roofline_text.selected { fill: #000; }\n    .idvcchart_roofline_text.hidden { fill: none; }\n    .idvcchart_roofline_explanation { fill: none; }\n    .idvcchart_roofline_center_marker { stroke: #000; stroke-width: 1 }\n    .roofline_child_line { stroke: none; fill: none; }\n    .roofline_parent_line { stroke: none; fill: none; }\n    .roofline_child_arrow { stroke: none; fill: none; }\n    .roofline_parent_arrow { stroke: none; fill: none; }\n    .roofline_loop { stroke: #000; stroke-width: 1; vector-effect: non-scaling-stroke; shape-rendering: geometricPrecision; fill: lightgray; }\n    .roofline_loop.no_loop_position { stroke: darkgray; fill: #eee; }\n    .roofline_loop.loop_inactive_result { opacity: 0.4; }\n    .idvcroofline_line { stroke: #999; stroke-dasharray: 4,4; fill: none; stroke-width: 1; vector-effect: non-scaling-stroke; shape-rendering: crispEdges; }\n    .idvcroofline_grid_line { stroke: #ddd; fill: none; stroke-width: 1; vector-effect: non-scaling-stroke; shape-rendering: crispEdges; }\n    .idvcroofline_line.selected { stroke: #000; shape-rendering: auto; stroke-dasharray: none; }\n    .line_hotarea { stroke: none; fill: none; }\n    .roofline_roofs_cross { stroke: none; fill: none; }\n    .roofline_coord_line { stroke: none; fill: none; stroke-width: 1; vector-effect: non-scaling-stroke; shape-rendering: crispEdges; }\n    .roofline_coord_line.selected { stroke: gray; stroke-dasharray: none !important; }\n    .roofline_expander { stroke: none; fill: none; }\n    .roofline_expander_vert_line { stroke: none; fill: none; }\n    .roofline_expander_horz_line { stroke: none; fill: none; }\n    .roof_crossing { stroke: none; fill: none; }\n    .roof_crossing_line { stroke: none; fill: none; }\n    .roof_crossing_label { stroke: none; fill: none; }\n    .loops_matching_line { stroke: black; stroke-dasharray: 4,4; fill: none; vector-effect: non-scaling-stroke; shape-rendering: crispEdges; }\n    .loops_matching_arrow { stroke: #000; fill: black; vector-effect: non-scaling-stroke; shape-rendering: geometricPrecision; }\n    .loops_matching_label { font-size: 100%25; }\n    .total_value_tick_active { stroke: none; fill: none; }\n    .total_value_tick { stroke: none; fill: none; }\n    .stairs_delta_line {stroke-width: 2;vector-effect: non-scaling-stroke;shape-rendering: geometricPrecision;}\n    .stairs_connection_line {stroke: black;stroke-width: 1;stroke-dasharray: 2,2;vector-effect: non-scaling-stroke;shape-rendering: geometricPrecision;}\n    .stairs_delta_ends {stroke-width: 3;vector-effect: non-scaling-stroke;shape-rendering: geometricPrecision;}\n    .idvc_hidden { stroke: none !important; fill: none !important; }\n</style>\n<g>\n  <svg id="vert_axis" viewBox="0 0 %vert_axis_width% %content_height%" width="%vert_axis_width%" height="%content_height%">\n    %vert_axis_content%\n  </svg>\n</g>\n<g transform="translate(%vert_axis_width%, %content_height%)">\n  <svg id="horz_axis" viewBox="0 0 %content_width% %horz_axis_height%" width="%content_width%" height="%horz_axis_height%">\n    %horz_axis_content%\n  </svg>\n</g>\n<g transform="translate(%vert_axis_width%, 0)">\n  <svg id="roofline_content" viewBox="0 0 %content_width% %content_height%" width="%content_width%" height="%content_height%">\n    %roofline_content%\n  </svg>\n</g>\n</svg>',l=n.children[0],c=l.children[0],d=l.children[1],u=l.children[2],f=a.getRooflineData(),h='<text x="2" y="2" style="font-size: 90%25; writing-mode: tb; dominant-baseline: text-after-edge">'+f.measureY+"</text>",p='<text x="'+(c.offsetWidth-4)+'" y="'+(c.offsetHeight-2)+'" style="font-size: 90%25; text-anchor: end; dominant-baseline: text-after-edge"><tspan>'+f.measureX+'</tspan><tspan style="font-size: 90%25;"> ('+f.nameX+")</tspan></text>",g=/data-\w+\s*=\s*"[^"]*"/gi,v=c.children[0].innerHTML;v=encodeURI(v.replace(g,"").replace(/<(tspan)[^<>]*>\?<\/\1>/gi,"").replace(/<(\w+)[^<>]*idvc_hidden[^<>]*>[^<>]*<\/\1>/gi,""));var _={};_["%vert_axis_width%"]=d.offsetWidth,_["%horz_axis_height%"]=u.offsetHeight,_["%content_width%"]=c.offsetWidth,_["%content_height%"]=c.offsetHeight,_["%whole_width%"]=c.offsetWidth+d.offsetWidth,_["%whole_height%"]=c.offsetHeight+u.offsetHeight,_["%vert_axis_content%"]=i(d),_["%horz_axis_content%"]=i(u),_["%roofline_content%"]=v+h+p;var y=s.replace(/%\w+%/g,function(t){return _[t]});return n.style.width="",n.style.height="",m.refreshSize(n),y}}function z(t){if(!t||t.classList.contains("selected"))return!1;t.classList.add("selected");var e="";e=t.childNodes.length?t.childNodes[0].textContent:t.innerHTML,it.setAttribute(s.tooltipAttr,e);var o=t,n=0;do{(o=o.previousElementSibling)&&(o.classList.remove("selected"),n++)}while(o);ht.index=n,o=t;do{(o=o.nextElementSibling)&&o.classList.remove("selected")}while(o);return!0}function D(){L("ready4data-"+(F.getState().rooflineType||Y))}function B(t){return!(!t||"li"!==t.nodeName.toLowerCase())}function V(t){if(t){var e=parseInt(t.getAttribute("data-index"));if(e>=0)return e}return-1}var Y,O,H=["advixeexp","advixeexpz"],N="data-noValue",W="data-noValueCaption",F=e.get(),U={stateLoaded:!1,initialized:!1,initStateManager:function(){this.stateLoaded=!0,this._send()},setInitialized:function(){this.initialized=!0,this._send()},_send:function(){this.stateLoaded&&this.initialized&&L("contentLoaded")}},j=function(){var t;return function(){return void 0===t&&(t=document.body.classList.contains("report")),t}}();F.init(U.initStateManager.bind(U),L);var G;i.addConsumer("refreshRooflineView",{process:function(t){t=t||1;var e=a.getRooflineData();e&&(!e.updatedView||t>100)&&(e.updatedView=!0,setTimeout(function(){f.send("rooflineDataUpdated",{isOldData:!0}),a.isHierarchical()&&t<=100&&mt&&mt.isSecondaryFolded()&&w()},100))}});var Z=function(){var t;return function(){return t||(t=c.getMessage("roofline_show_callstack_tooltip")),t}}();i.addConsumer("threadsInfo",{process:function(t){function e(t){return t>0?t:1}if(t){var o=e(t.physicalCoreCount),n=e(t.usedNumberOfThreads),i=e(t.processorPackageCount),r=function(t,e){return t>1&&(t+=t%2),t<e?t:e}(n,o);at.update("cores",o),at.update("used_threads",n),at.refresh(),yt.init(r,o,i);var a=document.querySelector(".roofs_strategy_setting");s.setVisible(a,!0)}}}),i.addConsumer("rooflineData",{showNoDataToCompare:function(t){var e;e=t?m.format(c.getMessage("roofline_compare_nodata_found_in_result"),t):c.getMessage("roofline_compare_nodata_found_general"),s.toast(e)},showNoDataToCompareBadFileType:function(t){var e=t.split("/").pop();e=e||t;var o=H.map(function(t){return"*."+t}).join(", "),n=m.format(c.getMessage("roofline_compare_wrong_file_type"),e,o);s.toast(n)},noStackErrors:0,process:function(e){var o=a.isFiltered(),n=!1,i=F.getState(),r=!!i.useSTRoofsStrategy,s=h.getRoofsConfiguration(a.getThreadCount(),r,a.getPackageCount()),c=_()||y(),d=!0;if(e){if(d=!e.loops||!e.loops.length,o&&!e.isFiltered&&(e.isFiltered=!0),e.resultInfo){var p=_t.getCaption(e.resultInfo.path);p&&(e.resultInfo.caption=p),e.loading?(e.resultInfo.loading=!0,delete e.loading):e.comparing&&(e.resultInfo.comparing=!0,delete e.comparing)}n=a.isNewData(e),s.isNewData=Number(n);var m=!0;if(e.resultInfo&&e.resultInfo.path&&(m=b(e.resultInfo.path)),!n&&d&&!m)return void this.showNoDataToCompareBadFileType(e.resultInfo.path);a.setRooflineData(e,s.threadCount,h.getRoofsStrategyId(r),s.packageCount),n&&a.setWholeView(i.viewMode&&"fittoview"!==i.viewMode)}G=t.get(a.isHierarchical()),G.zoomChanged.subscribe(void 0,x),G.undoListChanged.subscribe(void 0,C),G.clearDataUndo(),R(),l.fill(null),u.clear();var g;if(mt&&(mt.splitterDiv.classList.remove("roofline_flash"),a.isHierarchical()?pt.get()?mt.isSecondaryFolded()&&mt.unfold():(mt.isSecondaryFolded()&&!mt.isSplitterHidden()||mt.foldSecondary(),g=mt.isSecondaryFolded()):mt.isSecondaryFolded()&&mt.isSplitterHidden()||mt.foldSecondary(!0)),xt.init(),_t.init(),!n||0!==a.getRoofs().length||e.noDataMessage){f.send("rooflineDataUpdated",{isOldData:!n,isNewRoofs:!0});var v=a.getResultCount();e&&!e.noDataMessage&&(n&&(c&&q.refreshSize(),mt&&g&&w()),j()&&v<=1&&_t.hide()),(!n||v>1)&&_t.update()}else g&&mt&&(mt.flashSplitter=!0),S(s.str());this.noStackErrors=0},onerror:function(t,e){e&&e.resultInfo?this.showNoDataToCompare():t.stack||this.noStackErrors?(this.noStackErrors=0,d.showMessage(d.getMessage(t))):(this.noStackErrors=1,setTimeout(f.send.bind(f,"rooflineDataUpdated"),100))}});var Q=[],J=[];i.addConsumer("comparisonInfo",{process:function(t){if(!t||!t.path1||!t.path2||void 0===t.isLastComparison)return void console.error("Wrong format of comparisonInfo format");if(!(t.comparison&&t.comparison.length||"current"!=t.path1&&"current"!=t.path2)){var e=a.getResultIndex("current"===t.path1?t.path2:t.path1),o=a.getResultCaption(e);o&&(a.isResultEmpty(e)?J.push(o):Q.push(o))}var n=[];t.isLastComparison&&(Q.length&&n.push(m.format(c.getMessage("roofline_compare_no_matched_data"),Q.join(", "))),J.length&&n.push(m.format(c.getMessage("roofline_compare_nodata_found_in_result"),J.join(", "))),Q=[],J=[]),n.length&&s.toast(n.join(s.lineBreak)),a.updateComparisonResults(t)&&(_t.update(),a.isFiltered()&&f.send("rooflineDataUpdated",{isOldData:!0}))}}),i.addConsumer("changedRoofs",{process:function(t){if(t){var e=_();a.addRoofs(t.roofs),f.send("rooflineDataUpdated",{isOldData:!t.isNewData,isNewRoofs:!0}),e&&q.refreshSize(),t.isNewData&&mt&&mt.flashSplitter&&(w(),delete mt.flashSplitter);for(var o=a.getResultCount(),n=1;n<o;n++){var i=a.getResultInfo(n);i&&b(i.path)&&k(i.path)}}}}),i.addConsumer("clearRoofline",{process:function(){f.send("rooflineCleared")}}),i.addConsumer("endRooflineCopy",{process:function(){var t=document.querySelectorAll(".hidden4copy");[].forEach.call(t,function(t){t.style.display="block"}),vt&&(vt.style.display="block")}}),i.addConsumer("uiInfo",{process:function(t){if(t){if(t.fontSize&&(document.body.style.fontSize=t.fontSize),t.scale){var e=t.scale;"string"==typeof e?o.setScale(parseFloat(e)):"number"==typeof e&&o.setScale(e)}t.configuration&&o.setConfiguration(t.configuration),Array.isArray(t.i18n)&&t.i18n.length&&i.receiveData("i18n",t.i18n);var n=m.getElementById("roofline_type_bar");t.defaultRooflineType&&(Y=t.defaultRooflineType),t.defaultRooflineHrType&&(O=t.defaultRooflineHrType),t.dataOptions||t.enableIntRoofline?(n.style.display="",bt.init(t.dataOptions),o.setConfiguration({loops:{integratedRooflineType:t.dataOptions.groups.length>2}}),void 0!==t.useHierarchicalData&&bt.setOption("0",!!t.useHierarchicalData)):(n.style.display="none",void 0!==t.useHierarchicalData&&(F.getState().rooflineType=t.useHierarchicalData?O:Y)),D()}}}),i.addConsumer("simpleRooflineView",{process:function(){document.body.classList.add("simple_view"),$.click()}}),i.addConsumer("hierarchy",{process:function(t){a.setHierarchicalData(t)}}),i.addConsumer("loopsths",{process:function(t){var e=F.getState();e&&!e.loopsThs&&(e.loopsThs=t,F.apply(void 0,"loopsThs"))}}),i.addConsumer("rooflineState",{process:function(t){var e=t.rooflineStateProcessorId;e&&delete t.rooflineStateProcessorId,F.apply(t,e)}}),i.addConsumer("onClose",{process:function(){F.onClose()}}),i.addConsumer("useHierarchicalData",{process:function(t){var e=!!t;bt.setOption("0",e)&&D()}});var q=function(){function t(t){if(window.rooflineActiveSelect&&!(t&&t.target&&t.target.classList.contains("no_close_popup")||t&&i.isRequestClick(t.target))){var e=window.rooflineActiveSelect;delete window.rooflineActiveSelect;var o=e.firstElementChild;o&&(o.style.left&&(o.style.left="",o.style.right=""),o.style.minWidth&&(o.style.minWidth="")),e.classList.remove("pressed"),window.removeEventListener("click",arguments.callee,!1)}}function e(t,e){t&&e&&(t.idvcBtnSpan||(t.idvcBtnSpan=m.createElement("","idvcjs_span",void 0,t,"div")),t.idvcBtnSpan.style.top||(t.idvcBtnSpan.style.top=e.offsetTop-1+"px"))}function o(e){window.rooflineActiveSelect&&t(),window.rooflineActiveSelect=e,window.addEventListener("click",t,!1)}var n=s.addExpansion({expansionClassName:"toolbar_expansion roofline_popup_shadow",bodyId:"roofline_zoom_toolbar",expandBtnId:"expand_toolbar_content"},function(){return!y()});return{refreshSize:function(){n.refreshSize()},connect:function(t,e,o){var n=m.getDomElement(t);n&&(e=e||n.onclick)&&(n.onclick="",o?s.setAnimatedClick(n,e,o):(n.classList.add("simple_click"),n.onclick=e))},defSelectBtnProc:function(n){var i=n.currentTarget;if(!(n&&n.target&&n.target.classList.contains("no_close_popup"))&&i)if(i.classList.toggle("pressed"),n.stopPropagation(),n.preventDefault(),i.classList.contains("pressed")){o(i);var r=i.firstElementChild,a=m.getElementPos(r);if(a.x<0){var s=m.getElementPos(i);r.style.left="-"+s.x+"px",r.style.right="auto"}e(i,r)}else t()},popupProc:function(t){var n=t.currentTarget;if((!n||!n.classList.contains("disabled"))&&n&&!n.classList.contains("pressed")){n.classList.add("pressed"),t.stopPropagation(),t.preventDefault(),o(n);var i=n.firstElementChild;s.updatePopupWidth(n,i),s.updatePopupPos(n,i),e(n,i)}},createInput:function(t,e,o){if(t&&e){var n=document.createElement("input");n.type=e.groupName?"radio":"checkbox",e.groupName&&(n.name=e.groupName),n.value=e.value,n.rooflineCaption=e.caption,n.className=e.inputClassName,n.onchange=e.onChange,o&&(n.setAttribute(N,o.value),n.setAttribute(W,o.caption));var i=document.createElement("label");if(i.className=e.labelClassName,e.disabled&&(n.disabled=!0,i.style.display="none"),e.style&&(i.style=e.style),i.appendChild(n),i.appendChild(document.createTextNode(e.caption)),e.expl){m.createElement("?","explanation_symbol hierarchy_item_caption no_close_popup",void 0,i,"label").setAttribute(s.tooltipAttr,e.expl)}t.appendChild(i)}}}}(),$=document.getElementById("select_point"),K=document.getElementById("select_zoom"),tt=document.getElementById("select_hand"),et=document.getElementById("undo_zoom"),ot=document.getElementById("redo_zoom"),nt=document.getElementById("cancel_zoom"),it=document.getElementById("copy_content"),rt=document.getElementById("copy_content_select"),at=function(t){var e={},o=null,n=document.getElementById("roofline_summary");if(n){o=s.addExpansion({expansionClassName:"summary_expansion roofline_popup_shadow",bodyId:"roofline_summary",expandBtnId:"expand_summary_content"}),e=Array.from(n.querySelectorAll("[name=summary_item]")||[]).reduce(function(t,e){return t[e.id]=e,t},{});for(var i in e)s.setVisible(e[i],!1);return{refresh:function(t){return o&&o.refreshSize()},update:function(t,o,n){var i=e[t];if(i){var r=void 0!=o;if(s.setVisible(i,r),r){var a=Array.from(i.children||[]),l=a.find(function(t){return"value"===t.id});l&&(l.innerHTML=o),n&&a.forEach(function(t){return t.id in n&&(t.innerHTML=n[t.id])})}}},flash:function(){n&&(n.classList.remove("summary_updated"),setTimeout(function(){n.classList.add("summary_updated"),setTimeout(function(){n.classList.remove("summary_updated")},1500)},50))}}}}(),st={zoom:"zoom",point:"point",move:"move"},lt=st.zoom,ct={x:void 0,y:void 0,processing:!1,lastFrame:void 0,centralPartPos:void 0,startDragging:function(t,e){this.x=t,this.y=e,this.lastFrame=void 0,this.processing=!0,this.centralPartPos=gt.centralPart.body.getBoundingClientRect(),gt.centralPart.body.style.cursor=m.Consts.browserPrefix+"grabbing",gt.centralPart.enableTooltip(!1),f.send("zoomFrameMoved",!0)},stopDragging:function(t,e){this.processing&&this.lastFrame&&(G.setZoom(this.lastFrame,{stopMoving:!0}),this.processing=!1),gt.centralPart.body.style.cursor=m.Consts.browserPrefix+"grab",gt.centralPart.enableTooltip(!0),f.send("zoomFrameMoved",!1)},dragging:function(t,e){if(this.processing&&this._isIn(t,e)){var o=gt.centralPart.screenP2LX(this.x),n=gt.centralPart.screenP2LY(this.y),i=gt.centralPart.screenP2LX(t),r=gt.centralPart.screenP2LY(e),a=G.moveCurrentZoomFrame(o-i,n-r);a&&!a.isWrongZoom&&this._isNewFrame(a)&&(this.lastFrame=a,f.send("rooflineDataUpdated",{isOldData:!0,movingZoomFrame:a}))}},_isNewFrame:function(t){return!this.lastFrame||this.lastFrame.minX!==t.minX||this.lastFrame.maxX!==t.maxX||this.lastFrame.minY!==t.minY||this.lastFrame.maxY!==t.minX},_isIn:function(t,e){return t>=this.centralPartPos.left&&t<=this.centralPartPos.right&&e>=this.centralPartPos.top&&e<=this.centralPartPos.bottom}},dt=[{type:st.point,btn:$},{type:st.zoom,btn:K},{type:st.move,btn:tt,cursor:m.Consts.browserPrefix+"grab",on:function(){gt.centralPart.setDragProcessor(ct)},off:function(){gt.centralPart.createFreeSelection()}}];q.connect($,M.bind($,st.point)),q.connect(K,M.bind(K,st.zoom)),q.connect(tt,M.bind(tt,st.move));q.connect(et,T.bind(et,"undo"),"pressing"),q.connect(ot,T.bind(ot,"redo"),"pressing"),q.connect(nt,T.bind(nt,"cancel"),"pressing"),q.connect(it,function(){var t=ht.getMessage();setTimeout(L.bind(window,t),100)},"pressing"),q.connect(rt,q.defSelectBtnProc);var ut=1485,ft=1050,ht=function(){return{items:[{name:"htmlexport",id:"export_as_html",getMessage:function(t){var e=t,o=A();o.allRoofs="%allRoofs%";var n=a.getCompareData();return n&&n.length&&(o.compareData=n),e+="-"+JSON.stringify({rooflineData:o,rooflineState:F.getState({}),threadsInfo:"%threadsInfo%",summaryInfo:"%summaryInfo%",currentZoom:G?G.getCurrentZoom():null}).replace(/\"%(\w+)%\"/g,"$$$1$")}},{name:"svgexport",id:"export_as_svg",getMessage:function(t){if(this._initInputs(),this.widthEdit&&this.heightEdit)return this._checkInputValues(),t+"-"+I({width:parseInt(this.widthEdit.value),height:parseInt(this.heightEdit.value)})},apply:function(t){this._initInputs(),this.widthEdit&&this.heightEdit&&t&&(this.widthEdit.value=t.svgWidth||ut,this.heightEdit.value=t.svgHeight||ft)},saveState:function(t){function e(e,o,n){var i=parseInt(e);i&&i!==n?t[o]=i:delete t[o]}this._initInputs(),this.widthEdit&&this.heightEdit&&t&&(e(this.widthEdit.value,"svgWidth",ut),e(this.heightEdit.value,"svgHeight",ft))},_initInputs:function(){function t(t){t&&(m.disableDragging(t),t.hasAttribute("width")?this.widthEdit=t:this.heightEdit=t,t.onkeypress=s.filterNumberInput)}if(!this.widthEdit||!this.heightEdit){var e=document.getElementById(this.id);if(e){var o=e.querySelectorAll("input");[].forEach.call(o,t,this)}}},_checkInputValues:function(){function t(t,e){parseInt(t.value)||(t.value=e)}t(this.widthEdit,ut),t(this.heightEdit,ft)}}],index:0,apply:function(t){if(t){if(t.copyContentIndex>0){var e=this.items[t.copyContentIndex];e?(z(m.getElementById(e.id)),this.index=t.copyContentIndex):t.copyContentIndex=this.index}this.items.forEach(function(e){e&&e.apply&&e.apply(t)})}},saveState:function(t){t&&(t.copyContentIndex=this.index,this.items.forEach(function(e){e&&e.saveState&&e.saveState(t)}))},getMessage:function(){var t=this.items[this.index];if(t)return t.getMessage(t.name)}}}();F.addProcessor("copyContent",ht),document.getElementById("copy_content_items").addEventListener("click",function(t){t.target&&"li"===t.target.nodeName.toLowerCase()&&(z(t.target)&&F.save("copyContent"),setTimeout(it.click.bind(it),0))}),window.addEventListener("keydown",function(t){function e(t){return"input"===t.nodeName.toLowerCase()&&"number"===t.type||"text"===t.type}if(t.ctrlKey)switch(t.keyCode){case 65:e(t.target)?t.target.select():t.preventDefault();break;case 67:it.click();break;case 107:case 187:t.preventDefault(),G.zoomIn();break;case 109:case 189:t.preventDefault(),G.zoomOut()}else 39!==t.keyCode||e(t.target)||t.preventDefault()},!1),e.addRadioGroupSetting("roofline_view_mode","viewMode",function(t){a.setWholeView("fittoview"!==t),f.send("rooflineDataUpdated",{isOldData:!0})},"fittoview");var pt=e.addBoolSetting("stackViewVisible"),mt=m.createHorzSplitter("roofline_content",40,{splitterSize:.4});mt.setSize("80%"),mt.addSash(),mt.afterUnfold=function(){var t;gt&&gt.currentPoint&&(t=gt.currentPoint.loopData),l.fill(t),pt.set(!0),mt.splitterDiv.removeAttribute(s.tooltipAttr),mt.sashDiv.removeAttribute(s.tooltipAttr)},mt.afterFoldSecondary=function(){a.isHierarchical()&&pt.get()&&pt.set(!1)},mt.secondaryDiv.setAttribute("data-caption","%roofline_callstack_caption%"),mt.secondaryDiv.classList.add("roofline_stack_view"),f.recv("loopsSelectionChanged",function(t){if(t){var e=!!t.quiet,o=t.points;E(e),!e&&o&&o.length&&L(o.join(";"))}});var gt=o.createRoofline(mt.primaryDiv),vt=m.createElement("","legend_area","roofline_legend",mt.primaryDiv);vt.addEventListener("click",function(t){"roofline_legend"===t.target.id&&(vt.classList.toggle("collapsed"),vt.classList.add("user_activity"))},!1),m.createElement("","axis_caption vert vert_text","roofline_vert_axis_caption",mt.primaryDiv),m.createElement("","axis_caption horz","roofline_horz_axis_caption",mt.primaryDiv);l.create(mt.secondaryDiv,f.send.bind(f,"loopHighlighted"),void 0,f.send.bind(f,"loopStateChanged"));gt.centralPart.onselectionchanged=function(t,e,o,n){if(lt===st.zoom){var i={minX:t,maxX:o,minY:e,maxY:n};G.setZoom(i)}else lt===st.point&&gt.selectPoints(t,e,o,n);gt.centralPart.hideSelection()},gt.onCurrentPointChanged.subscribe(null,function(t){mt.isSecondaryFolded()||l.fill(t?t.loopData:void 0)}),M(),window.saveLocalProperty=function(t,e){e=e||"",t&&L(t+"-"+JSON.stringify(e))},u.addProcessor({process:function(t){a.isHierarchical()&&t&&(t.length&&t.push({caption:"-"}),t.push({caption:mt.isSecondaryFolded()?c.getMessage("roofline_menu_show_callstack"):c.getMessage("roofline_menu_hide_callstack"),command:function(){mt.isSecondaryFolded()?mt.unfold():mt.foldSecondary()}}))}});var _t=function(){function t(t){var e;(e=t>0?m.format(c.getMessage("roofline_compare_data_label"),t.toString()):c.getMessage("roofline_compare_nodata_label"))&&(w.innerHTML=e)}function e(t){t.origR=t.getR(),t.setR(t.origR+1.5)}function o(t){t.origR&&(t.setR(t.origR),delete t.origR)}function n(t){a.forEachLoops(a.getLoops(),function(n){if(!a.isFiltered()||!n.filtered){var i=n.rooflinePoint;if(i){(n.resIndex||0)===t?(i.remClass(p),e(i)):(i.addClass(p),o(i))}}})}function r(){a.forEachLoops(a.getLoops(),function(t){if(!a.isFiltered()||!t.filtered){var e=t.rooflinePoint;e&&(e.remClass(p),o(e))}})}function l(t){var e=-1;return t&&(B(t)||(t=t.parentElement),t&&t.classList&&!t.classList.contains(h)&&(e=V(t))),e}function d(t){var e;return t&&(t.caption||t.path)&&(e={caption:t.caption},t.path&&(e.path=t.path),t.unsaved&&(e=void 0)),e}function u(t){return!!t}var h="loading",p="loop_inactive_result",v=document.getElementById("roofline_compare_control"),_=document.getElementById("delete_compare"),y=document.getElementById("load_compare"),b=document.getElementById("loaded_compare_items"),x=document.getElementById("ready_compare_items"),w=document.getElementById("roofline_compare_content"),C=function(){return function(){var t=c.getMessage("roofline_compare_noitems_label");b.setAttribute("data-noitems",t),x.setAttribute("data-noitems",t)}}();q.connect(v,q.popupProc),q.connect(y,function(){k()},"pressing"),q.connect(_,function(){a.clearCompareData(),f.send("rooflineDataUpdated",{isOldData:!0}),R.update()}),x.addEventListener("click",function(t){if(B(t.target)){var e=V(t.target);e>=0&&k(S.items[e].path)}}),b.addEventListener("click",function(t){var e=t.target;if(e){var o;if(e.parentElement&&B(e.parentElement)&&(o=V(e.parentElement))>=1){var n=a.getResultInfo(o);if(n){n.compareItem&&(delete n.compareItem.added,delete n.compareItem),n.added&&delete n.added;var i=e.parentElement.classList;L(i.contains(h)||i.contains("comparing")?"cancelcompareloading-"+n.path:"unloadcompare-"+n.path)}a.removeResult(o),f.send("rooflineDataUpdated",{isOldData:!0}),R.update()}}}),b.addEventListener("mouseover",function(t){var e=t.target;if(e){var o=l(e);o>=0&&n(o)}},!1),b.addEventListener("mouseout",function(t){var e=t.target;if(e){l(e)>=0&&r()}},!1);var S={items:[],addItem:function(t,e){var o=this.items.find(function(o){var n=t.path&&o.path===t.path;return n&&!e&&t!==o&&(t.compareItem=o),n});return o?(e||(o.added=!0),!1):(e||(t.added=!0),this.items.unshift(t),!t.unsaved&&this.items.length>40&&this.items.pop(),!0)},clearAdded:function(){this.items.forEach(function(t){t.added&&delete t.added})},getCaption:function(t){var e=this.items.find(function(e){return t&&e.path===t});if(e)return e.caption},apply:function(t){if(t&&t.compareItems){var e=this.items.length,o=t.compareItems.map(d).filter(u);this.items=this.items.filter(function(t){return!(!t||!t.unsaved)}),this.items=this.items.concat(o),e!==this.items.length&&R&&R.update()}},saveState:function(t){t&&(t.compareItems=this.items.map(d).filter(u))}};i.addConsumer("addCompare",{process:function(t){function e(t){t&&(t.unsaved=!0,S.addItem(t,!0))}Array.isArray(t)?t.forEach(e):e(t),R.update()}});F.addProcessor("compareItems",S);var R={update:function(){var e=a.getResultCount();if(e>1){P(_,!0);var o,n="";for(o=0;o<e;o++){var i=a.isResultEmpty(o),r=a.getResultInfo(o),l=r.loading,c=r.comparing,d='"Loading: '+r.path+'"',u='"Comparing '+r.path+' with loaded results"',f='"'+r.path+'"';n+="<li"+function(t){var e="";return t.forEach(function(t){t.fl&&(e+=t.cl+" ")}),' class="'+e+'no_close_popup"'}([{fl:i,cl:"empty"},{fl:l,cl:h},{fl:c,cl:"comparing"}])+' data-index="'+o+'" '+(r.path?s.tooltipAttr+"="+(l?d:c?u:f):"")+' style="background-image:'+g.getPointIcon(r.pointConstructor||g.CirclePoint)+'">'+a.getResultCaption(o)+(o>0&&!j()?'<span class="zoom_button icon cross no_close_popup clear_compare"></span>':"")+"</li>"}b.innerHTML=n;var p=!1;for(o=1;o<e;o++)p=S.addItem(a.getResultInfo(o))||p;p&&F.save("compareItems")}else P(_,!1),m.removeAllChildren(b),S.clearAdded();n="",S.items.forEach(function(t,e){t.added||(n+='<li class="no_close_popup" data-index="'+e+'" '+s.tooltipAttr+'="'+t.path+'">'+t.caption+"</li>")}),x.innerHTML=n,t(b.childElementCount);var y=x.offsetParent;s.updatePopupWidth(v,y),s.updatePopupPos(v,y),q.refreshSize()},getCaption:function(t){return S.getCaption(t)},init:C,hide:function(){v.parentElement.style.display="none"}};return R}(),yt=function(){function t(t){if(!v)return b;var e=v.children[t];return e?parseInt(e.innerHTML,10):b}function e(t,e){function o(t){t.disabled=!0,m.addClass(t.parentElement,"disabled")}function n(t){t.disabled=!1,m.removeClass(t.parentElement,"disabled")}if(_&&y){a.setThreadCount(t);if(y.querySelectorAll("input")){var i=y.querySelector('input[value="'+x+'"]'),r=y.querySelector('input[value="'+w+'"]');if(!r||!i)return void(_.innerHTML=t);t>d?(n(r),o(i),e=u):1===t?(n(i),o(r),e=1):(n(i),n(r)),void 0===e&&(e=i.checked?1:u),p=e,i.checked=!(p==u),r.checked=p==u,_.innerHTML=m.format(c.getMessage("roofline_N_threaded_per_socket_roofs"),t,p),a.setPackageCount(p)}}}function o(){a.getRoofs().length?f.send("rooflineDataUpdated",{isOldData:!0,isNewRoofs:!0}):S(h.getRoofsConfiguration(a.getThreadCount(),F.getState().useSTRoofsStrategy,a.getPackageCount()).str())}function n(t){e(t),o()}function i(){e(a.getThreadCount()),F.save(k),o()}function r(t){if(!C){var e=g.getBoundingClientRect(),o=_.getBoundingClientRect();C=o.left-e.left,[].forEach.call(v.children,function(t){t.style.paddingLeft=C+"px"})}q.popupProc(t)}var l,d,u,p,g=document.getElementById("roofline_cores_control"),v=document.getElementById("core_number_items"),_=document.getElementById("roofline_cores_content"),y=document.getElementById("roofline_cores_select_items"),b=1,x="bind",w="spread";v.addEventListener("click",function(t){var e=t.target;if(e){var o;B(e)&&(o=V(e))>=0&&(l=o,F.save(L),n(parseInt(e.innerHTML,10)),F.save(k))}});var C=0;q.connect(g,r);var L="threadCount4RoofIdx";F.addProcessor(L,{apply:function(o){l=o&&void 0!==o[L]?o[L]:0,e(t(l))},saveState:function(t){t[L]=l}});var k="packageCount";return F.addProcessor(k,{apply:function(o){p=o&&void 0!==o[k]?o[k]:void 0,e(t(l),p)},saveState:function(t){t[k]=p}}),{init:function(o,n,r){function a(t,e,o){return'<li data-index="'+o+'" '+function(){var t="",o=[];return e&&o.push("font-weight:bold;background-color:#eee;color:black"),C&&o.push("padding-left:"+C+"px"),o.length&&(t='style="'+o.join(";")+'"'),t}()+">"+t+"</li>"}if(g&&s.setVisible(g.parentElement,!0),g&&y){!function(){if(v&&y){m.removeAllChildren(v),v.classList.remove("scrolled"),v.classList.remove("splitter");var t;if(y&&y.childElementCount>1)for(t=y.firstElementChild.nextElementSibling;t&&"core_number_items"!=t.id;){var e=t;t=t.nextElementSibling,y.removeChild(e)}}}(),innerHTML=a(1,1===o,0);for(var f=2,h=1;f<=n;f+=2,h++)innerHTML+=a(f,f===o,h);v.innerHTML=innerHTML,d=n/r,u=r,l=F.getState().threadCount4RoofIdx,(void 0===l||l>n/2)&&(l=Math.floor(o/2),F.save(L)),r>1?(!function(){v.classList.add("scrolled"),v.classList.add("splitter"),q.createInput(y,{disabled:!0});var t={groupName:"cores_radio_group",caption:c.getMessage("roofline_N_threaded_per_socket_bind_option"),value:x,labelClassName:"radio_settings_item no_close_popup",inputClassName:"toolbar_item_input",style:"padding:0.3em",onChange:i,expl:c.getMessage("roofline_N_threaded_per_socket_bind_option_expl")};q.createInput(y,t);var e={groupName:"cores_radio_group",caption:m.format(c.getMessage("roofline_N_threaded_per_socket_spread_option"),r.toString()),value:w,labelClassName:"radio_settings_item no_close_popup",inputClassName:"toolbar_item_input",style:"padding:0.3em",onChange:i,expl:c.getMessage("roofline_N_threaded_per_socket_spread_option_expl")};q.createInput(y,e)}(),_.style.fontWeight="normal",p=F.getState().packageCount,p||(p=1),F.save(k)):p=void 0,e(t(l),p),q.refreshSize()}}}}(),bt=function(){function t(t,e){d=t,d===Y&&u&&(e=u),p.innerHTML=e,v.disabled=d===Y}function e(){var t;if(g&&g.childElementCount>1)for(t=g.firstElementChild.nextElementSibling;t;){var e=t;t=t.nextElementSibling,g.removeChild(e)}}function o(){_.disabled=!1}function n(){var t=this;if(t){var e=t.querySelectorAll("input:checked");1===e.length?e[0].disabled=!0:[].forEach.call(e,function(t){t.disabled=!1})}}function i(t,e){return(t?"; ":"")+e}function r(t,e){var o=!1,n=g.querySelector('input[value="'+t+'"]');return n&&n.checked!==e&&(n.checked=e,o=!0),o}function a(e){if(e){[].forEach.call(c,function(t){t.checked=!1});var o=e.split("-"),r="";o.forEach(function(t){if(t){var e=g.querySelector('input[value="'+t+'"]');e?(e.checked=!0,r+=i(r,e.rooflineCaption)):(e=g.querySelector("input["+N+'="'+t+'"]'))&&(r+=i(r,e.getAttribute(W)))}}),x.forEach(function(t){n.call(t)}),t(e,r)}}function l(){var e="",o="",n="";[].forEach.call(c,function(t){t&&t.offsetParent&&(t.checked?(e+=i(e,t.rooflineCaption),o+=n+t.value):"checkbox"===t.type&&t.hasAttribute(N)&&t.hasAttribute(W)&&(o+=n+t.getAttribute(N),e+=i(e,t.getAttribute(W)))),o&&!n&&(n="-")}),t(o,e),q.refreshSize(),F.save(w)}var c,d,u,f=document.getElementById("roofline_type_control"),h=f.firstElementChild,p=h.nextElementSibling,g=h.firstElementChild,v=g.nextElementSibling.firstElementChild,_=v.nextElementSibling,y=_.nextElementSibling,b=0,x=[],w="rooflineType";return q.connect(f,q.popupProc),v.disabled=!0,_.disabled=!0,v.onclick=function(){!v.disabled&&Y&&(v.disabled=!0,a(Y),_.onclick())},_.onclick=function(){_.disabled=!0,l(),D()},y.onclick=function(){_.disabled||(_.disabled=!0,a(d))},{init:function(t){t&&t.groups&&Array.isArray(t.groups)&&(s.setVisible(f.parentElement,!0),e(),u=t.defConfigurationCaption,b=0,x=[],t.groups.forEach(function(t){if(t){var e;t.isRadio&&(b++,e="roofline_radio_group_"+b);var i=m.createElement("","roofline_type_group no_close_popup","",g);if(t.caption&&(i.classList.add("with_caption"),i.setAttribute("data-caption",t.caption)),t.isCertainValue&&(i.addEventListener("change",n.bind(i),!1),x.push(i)),Array.isArray(t.options))for(var r=t.isTwoStates?2:1,a=0,s=t.options.length;a<s;a+=r)if(t.options[a]){var l={groupName:e,caption:t.options[a].caption,value:t.options[a].value,labelClassName:"roofline_type_select_caption no_close_popup",inputClassName:"toolbar_item_input no_close_popup",onChange:o,expl:t.options[a].expl};q.createInput(i,l,2===r?t.options[a+1]:void 0)}}}),c=g.querySelectorAll("input"),F.addProcessor(w,{apply:function(t){a(t?t[w]||Y:Y)},saveState:function(t){t[w]=d}}),F.apply(void 0,w))},setValue:function(t){t!==d&&a(t)},setOption:function(t,e){var o=r(t,e);return o&&l(),o}}}(),xt=function(){function t(t){d&&(h.disabled=!0,d.forEach(function(e){var o=s.querySelector("input[value='"+e.settingName+"']"),n=l.querySelector("#"+u+e.settingName);o&&n&&(!0===t?e.value=!!o.checked:o.checked=!!e.value,n.style.display=!0===o.checked?"block":"none",h.disabled=h.disabled&&e.value==e.defaultVal)}))}function o(){g.disabled=!1,d&&d.forEach(function(t){var e=s.querySelector("input[value='"+t.settingName+"']"),o=l.querySelector("#"+u+t.settingName);e&&o&&(o.style.display=!0===e.checked?"block":"none")})}function n(){d.forEach(function(t){return F.save(t.settingName)})}function i(){if(l){var t=[];t[1]={id:"no_guidance",url:"icons/guidances-preview-1-170x110.png",imageClass:"no_close_popup roofline_toolbar_image_base"},d.forEach(function(e){e&&void 0!==e.imageOrder&&(t[e.imageOrder]={id:u+e.settingName,url:e.imageUrl,imageClass:"no_close_popup roofline_toolbar_image_top"})}),t.forEach(function(t){if(t.id&&t.url){var e=document.createElement("div");e.id=t.id,e.style="background-image:url("+t.url+")",e.className=t.imageClass,l.appendChild(e)}})}}function r(){if(g.disabled=!0,d=p.getGuidanceInfo()){m.removeAllChildren(s),m.removeAllChildren(l);F.getState();q.createInput(s,{disabled:!0}),d.forEach(function(t){var e={caption:c.getMessage(t.caption),value:t.settingName,labelClassName:"no_close_popup",onChange:o,inputClassName:"toolbar_item_input no_close_popup",style:"display:block; padding-left:0.4em; padding-top:0.4em",expl:c.getMessage(t.expl)};q.createInput(s,e)}),i(),t(),q.refreshSize()}}var a=document.getElementById("roofline_guidance_control"),s=document.getElementById("roofline_guidance_select_body"),l=document.getElementById("roofline_guidance_image_body"),d=[],u="image_",h=document.getElementById("roofline_guidance_buttons_body").firstElementChild,g=h.nextElementSibling,v=g.nextElementSibling;return q.connect(a,q.popupProc),h.onclick=function(){h.disabled||(h.disabled=!0,d.forEach(function(t){t.value=t.defaultVal}),t(),n())},g.onclick=function(){g.disabled=!0,t(!0),n()},v.onclick=function(){g.disabled||(g.disabled=!0,t())},e.onChangeSettings.subscribe(this,function(e){d.find(function(t){return e===t.settingName})&&t()}),f.recv("rooflineExtraDataUpdated",r),{init:r}}();new Promise(function(t){t()}).then(function(){var t=[r];(function(){window.ondblclick=L.bind(window,"refresh"),U.setInitialized()}).apply(null,t)}).catch(U.setInitialized.bind(U).bind(this))}).apply(null,t)}).catch(o.oe),void 0!==(Y=function(){}.call(e,o,e,t))&&(t.exports=Y),t.exports={I18n:u,StateManager:g,Utils:s,Request:d,Zooming:m,Data:h,Events:C}},function(t,e){function o(t){throw new Error("Cannot find module '"+t+"'.")}o.keys=function(){return[]},o.resolve=o,t.exports=o,o.id=17},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),o.d(e,"uiInfo",function(){return i});var n=o(19),i={i18n:n.xmc.catalog[0].msg.map(function(t){return{id:t.$.name,message:t._}})}},function(t,e){t.exports={xmc:{$:{version:"1.1"},catalog:[{$:{name:"discclient.roofline",lang:"en"},msg:[{_:"Roofline data is not available",$:{name:"roofline_collect_trc_title"}},{_:"Roofline report depends on the FLOP data, which is unavailable.<br/><br/>To collect the FLOP data, select the <b>FLOP</b> checkbox under the <b>Find Trip Counts and FLOP</b> analysis section in the <b>Workflow</b> pane, and then run the Trip Counts and FLOP analysis.",$:{name:"roofline_collect_trc_descr"}},{_:"Roofline report depends on the FLOP and Integer Operations data, which is unavailable.<br/><br/>To collect the FLOP and Integer Operations data, select the <b>FLOP</b> checkbox under the <b>Find Trip Counts and FLOP</b> analysis section in the <b>Workflow</b> pane, and then run the Trip Counts and FLOP analysis.",$:{name:"roofline_collect_trc_descr_int"}},{_:"Roofline data with callstacks is not available",$:{name:"roofline_collect_trc_title_topdown"}},{_:"Roofline report with callstacks depends on the FLOP data, which is unavailable<br/><br/>To collect the FLOP data, select the <b>FLOP</b> and <b>Enable Roofline with Callstacks</b> checkboxes in the <b>Workflow</b> pane, and then run the Trip Counts and FLOP analysis.",$:{name:"roofline_collect_trc_descr_topdown"}},{_:"Roofline report with callstacks depends on the FLOP and Integer Operations  data, which is unavailable<br/><br/>To collect the FLOP and Integer Operations data, select the <b>FLOP</b> and <b>Enable Roofline with Callstacks</b> checkboxes in the <b>Workflow</b> pane, and then run the Trip Counts and FLOP analysis.",$:{name:"roofline_collect_trc_descr_topdown_int"}},{_:"Roofline data is not available",$:{name:"roofline_no_data_title"}},{_:"No floating-point operations detected.",$:{name:"roofline_no_data_descr"}},{_:"No integer operations detected.",$:{name:"roofline_no_data_descr_int"}},{_:"Roofline data is not available",$:{name:"roofline_filtered_out_title"}},{_:'FLOPS data is available, yet filtered out. To see the results, reset all filters in Survey report and select "Loops And Functions" mode.',$:{name:"roofline_filtered_out_descr"}},{_:'INTOPS data is available, yet filtered out. To see the results, reset all filters in Survey report and select "Loops And Functions" mode.',$:{name:"roofline_filtered_out_descr_int"}},{_:"Save roofline image",$:{name:"roofline_dlg_save_image"}},{_:"Open roofs file",$:{name:"roofline_dlg_open_roofs"}},{_:"Save roofs file",$:{name:"roofline_dlg_save_roofs"}},{_:"Open loops colors file",$:{name:"roofline_dlg_open_loops_colors"}},{_:"Save loops colors file",$:{name:"roofline_dlg_save_loops_colors"}},{_:"Load compare data",$:{name:"roofline_dlg_open_compare"}},{_:"Save compare data",$:{name:"roofline_dlg_save_compare"}},{_:"Export Roofline as HTML",$:{name:"roofline_dlg_html_export"}},{_:"Export Roofline as SVG",$:{name:"roofline_dlg_svg_export"}},{_:"Bitmap files (*.bmp)|*.bmp",$:{name:"roofline_dlg_bmp_filter"}},{_:"Json files (*.json)|*.json|Any files (*.*)|*.*",$:{name:"roofline_dlg_def_filter"}},{_:"HTML files (*.html)|*.html",$:{name:"roofline_dlg_html_filter"}},{_:"Roofline results (*.advixeexp;*.advixeexpz)|*.advixeexp;*.advixeexpz|Json files (*.json)|*.json|Any files (*.*)|*.*",$:{name:"roofline_dlg_compare_filter"}},{_:"SVG files (*.svg)|*.svg",$:{name:"roofline_dlg_svg_filter"}},{_:"with Callstacks",$:{name:"roofline_compare_callstacks_postfix"}},{_:"Integer",$:{name:"roofline_compare_integer_postfix"}},{_:"Mixed",$:{name:"roofline_compare_mixed_postfix"}},{_:"Compared results",$:{name:"roofline_compare_results_label",meta:"unofficial"}},{_:"Ready for comparison",$:{name:"roofline_compare_recent_label",meta:"unofficial"}},{_:"Compare",$:{name:"roofline_compare_nodata_label"}},{_:"{1} Compared Results",$:{name:"roofline_compare_data_label",meta:"unofficial"}},{_:"No Items",$:{name:"roofline_compare_noitems_label",meta:"unofficial"}},{_:"Result:",$:{name:"roofline_compare_tooltip_result_label"}},{_:"Current",$:{name:"roofline_compare_current_result_label"}},{_:"No roofline data found in the selected result.",$:{name:"roofline_compare_nodata_message"}},{_:"No Data",$:{name:"roofline_compare_nodata_caption"}},{_:"<b>Δ{1}: {2}</b> ({3})",$:{name:"roofline_matching_loops_delta",meta:"unofficial"}},{_:"- the difference in <b>{1}</b> between two matching loops as percentage of the maximum value, measured in {2}",$:{name:"roofline_matching_loops_delta_description",meta:"unofficial"}},{_:"No loops/functions found in {1}.",$:{name:"roofline_compare_nodata_found_in_result"}},{_:"No loops/functions found.",$:{name:"roofline_compare_nodata_found_general"}},{_:"{1} has no loops/functions that can be matched against the Current snapshot.",$:{name:"roofline_compare_no_matched_data"}},{_:"This file type cannot be loaded for comparison: {1}.<br/>Suggestion: Use a {2} file type.",$:{name:"roofline_compare_wrong_file_type"}},{_:"Filter In Selection",$:{name:"roofline_filter_in_label"}},{_:"Filter Out Selection",$:{name:"roofline_filter_out_label"}},{_:"Filter In Selection With Subtree",$:{name:"roofline_filter_in_subtree_label"}},{_:"Clear Filters",$:{name:"roofline_filter_clear_label"}},{_:"Self Elapsed Time",$:{name:"roofline_self_elapsed_time"}},{_:"Self Time",$:{name:"roofline_self_time"}},{_:"Total Elapsed Time",$:{name:"roofline_total_elapsed_time"}},{_:"Total Time",$:{name:"roofline_total_time"}},{_:"s",$:{name:"roofline_time_sec"}},{_:"loop self elapsed time / program total elapsed time * 100",$:{name:"roofline_legend_caption"}},{_:"Physical Cores",$:{name:"roofline_physical_cores_count"}},{_:"Number of Physical CPU cores",$:{name:"roofline_cores_expl"}},{_:"App Threads",$:{name:"roofline_used_threads_count"}},{_:"Number of CPU threads used in Application",$:{name:"roofline_threads_expl"}},{_:"Arithmetic Intensity",$:{name:"roofline_ai_axis_caption"}},{_:"FLOP/Byte",$:{name:"roofline_ai_axis_measure"}},{_:"Performance",$:{name:"roofline_perf_axis_caption"}},{_:"GFLOPS",$:{name:"roofline_perf_axis_measure"}},{_:"Arithmetic Intensity",$:{name:"roofline_ai_axis_caption_int"}},{_:"INTOP/Byte",$:{name:"roofline_ai_axis_measure_int"}},{_:"Performance",$:{name:"roofline_perf_axis_caption_int"}},{_:"GINTOPS",$:{name:"roofline_perf_axis_measure_int"}},{_:"GB/sec",$:{name:"roofline_mem_roof_measure"}},{_:"GFLOPS",$:{name:"roofline_calc_roof_measure"}},{_:"Self ",$:{name:"roofline_value_prefix"}},{_:"Total ",$:{name:"roofline_value_prefix1"}},{_:"Callstack:",$:{name:"roofline_callstack_caption"}},{_:"Click to show callstack",$:{name:"roofline_show_callstack_tooltip"}},{_:"{1} loop total",$:{name:"roofline_histogram_loop"}},{_:"{1} loops total",$:{name:"roofline_histogram_loops"}},{_:"{1}% - {2} loop",$:{name:"roofline_histogram_tooltip_loop"}},{_:"{1}% - {2} loops",$:{name:"roofline_histogram_tooltip_loops"}},{_:"Roofline with Callstacks",$:{name:"roofline_with_callstacks"}},{_:"Roofline with Callstacks provides aggregated data for outermost loops and functions. It also separates the data for the cases when the same loop is invoked from different caller functions. This mode enables Roofline Callstack view and provides synchronization with program Top-Down call tree.",$:{name:"roofline_with_callstacks_expl"}},{_:"Cores:",$:{name:"roofline_N_threaded_roofs"}},{_:"\r\n      Roof values represent peak performance for your code on the host machine. Choose the appropriate number of CPU cores to scale roof values up or down:<ul>\r\n      <li>1 – if your code is single-threaded.</li>\r\n      <li>Number of cores equal or close to number of threads – if your code has fewer threads than available CPU cores.</li>\r\n      <li>Maximum number of cores – if your code has more threads than available CPU cores.</li></ul>\r\n    ",$:{name:"roofline_N_threaded_roofs_expl",meta:"unofficial"}},{_:" {1} on {2} socket(s)",$:{name:"roofline_N_threaded_per_socket_roofs"}},{_:"Bind cores to 1 socket",$:{name:"roofline_N_threaded_per_socket_bind_option"}},{_:"Choose if your application binds memory to one socket. For example: Choose for MPI applications structured as one rank per socket. NOTE: This option may be disabled if you choose a number of CPU cores exceeding the maximum number of cores available on one socket.",$:{name:"roofline_N_threaded_per_socket_bind_option_expl"}},{_:"Spread cores between all {1} sockets",$:{name:"roofline_N_threaded_per_socket_spread_option"}},{_:"Choose if your application binds memory to all sockets. For example: Choose for non-MPI applications.",$:{name:"roofline_N_threaded_per_socket_spread_option_expl"}},{_:"Apply",$:{name:"roofline_configuration_apply"}},{_:"Cancel",$:{name:"roofline_configuration_cancel"}},{_:"Default",$:{name:"roofline_configuration_default"}},{_:"Collapse",$:{name:"roofline_menu_collapse"}},{_:"Expand",$:{name:"roofline_menu_expand"}},{_:"Collapse Root",$:{name:"roofline_menu_collapse_root"}},{_:"Expand All",$:{name:"roofline_menu_expand_all"}},{_:"Show Callstack",$:{name:"roofline_menu_show_callstack"}},{_:"Hide Callstack",$:{name:"roofline_menu_hide_callstack"}},{_:"Enable Roofline Boundaries",$:{name:"roofline_menu_show_zones_enable"}},{_:"Disable Roofline Boundaries",$:{name:"roofline_menu_show_zones_disable"}},{_:"Enable Memory Level Relationships",$:{name:"roofline_menu_dumbbelled_enable"}},{_:"Disable Memory Level Relationships",$:{name:"roofline_menu_dumbbelled_disable"}},{_:"Enable Roof Rulers",$:{name:"roofline_menu_ruler_enable"}},{_:"Disable Roof Rulers",$:{name:"roofline_menu_ruler_disable"}},{$:{name:"roofline_zone_theoretically"}},{_:"Memory bound",$:{name:"roofline_zone_memory_bound"}},{_:"Vectorized",$:{name:"roofline_zone_vector_memory_line1"}},{_:"Memory bound",$:{name:"roofline_zone_vector_memory_line2"}},{_:"Bound by compute",$:{name:"roofline_zone_mixed_line1"}},{_:"and memory roofs",$:{name:"roofline_zone_mixed_line2"}},{_:"Scalar",$:{name:"roofline_zone_scalar_compute_line1"}},{_:"Compute bound",$:{name:"roofline_zone_scalar_compute_line2"}},{_:"Compute bound",$:{name:"roofline_zone_compute_bound"}},{_:"Kernels in this zone are fundamentally memory bound: the upper roofs are memory roofs",$:{name:"roofline_zone_memory_description"}},{_:"Vectorized kernels in this zone are fundamentally memory bound: the upper roofs are memory roofs",$:{name:"roofline_zone_vector_memory_description"}},{_:"Kernels in this zone are fundamentally compute bound, but also have upper memory roofs",$:{name:"roofline_zone_mixed_description"}},{_:"Scalar kernels in this zone are fundamentally compute bound: the upper roofs are compute roofs",$:{name:"roofline_zone_scalar_compute_description"}},{_:"Kernels in this zone are fundamentally compute bound: upper roofs are compute roofs",$:{name:"roofline_zone_compute_description"}},{_:"Roofs Settings",$:{name:"roofline_settings_roofs_caption",meta:"unofficial"}},{_:"Use single-threaded benchmark results to build roofs",$:{name:"roofline_settings_use_single_thread_strategy"}},{_:"\r\n      Select this checkbox to build roofs according to single-threaded benchmark results.<br/>\r\n      Roof values in the chart will be based on single-threaded benchmark results scaled up to the <b>Cores used for roof modeling</b>.<br/>\r\n      By default, all roof values are based on multi-threaded benchmark result scaled down by the <b>Cores used for roof modeling</b>.\r\n    ",$:{name:"roofline_settings_use_single_thread_strategy_expl"}},{_:"Roof Name",$:{name:"roofline_settings_roof_name"}},{_:"Visible",$:{name:"roofline_settings_roof_visible"}},{_:"Selected",$:{name:"roofline_settings_roof_selected"}},{_:"Value",$:{name:"roofline_settings_roof_value"}},{_:"Default",$:{name:"roofline_settings_roof_default"}},{_:"Load...",$:{name:"roofline_settings_roof_load"}},{_:"Save...",$:{name:"roofline_settings_roof_save"}},{_:"Loop Weight Representation",$:{name:"roofline_settings_loop_caption"}},{_:"Cancel",$:{name:"roofline_settings_loop_cancel"}},{_:"Default",$:{name:"roofline_settings_loop_default"}},{_:"Size",$:{name:"roofline_settings_loop_size"}},{_:"Color",$:{name:"roofline_settings_loop_color"}},{_:"Visible",$:{name:"roofline_settings_loop_visible"}},{_:"Fixed",$:{name:"roofline_settings_loop_color_fixed"}},{_:"Time",$:{name:"roofline_settings_loop_color_time"}},{_:"Vectorization",$:{name:"roofline_settings_loop_color_vectorization"}},{_:"Default loop color",$:{name:"roofline_settings_loop_color_default"}},{_:"No self time loop color",$:{name:"roofline_settings_loop_color_nst"}},{_:"Roofline View Settings",$:{name:"roofline_settings_guidance_caption"}},{_:"Roofline View Settings",$:{name:"roofline_settings_representation_caption"}},{_:"Show optimal scale for each Roofline view",$:{name:"roofline_settings_fit_to_view"}},{_:"Adjusts the view size to the optimal value that best fits all dots on the current Roofline chart. In other words, the x and y axes change depending on the type of data displayed (Roofline for integers, Roofline with callstacks, etc.). This option is good for examining each Roofline view, but less suitable for comparing different Roofline views.",$:{name:"roofline_settings_fit_to_view_expl"}},{_:"Show one scale that accommodates all Roofline views",$:{name:"roofline_settings_one_view"}},{_:"Adjusts to the widest/tallest view to fit all dots on all possible Roofline views for this specific Roofline analysis. In other words, the x and y axes remain constant regardless of the type of data displayed (Roofline for integers, Roofline with callstacks, etc.). This option is good for visually comparing different Roofline views, but less suitable for examining a specific Roofline view.",$:{name:"roofline_settings_one_view_expl"}},{_:"Selects Loops By Mouse Rect",$:{name:"roofline_toolbar_select_point"}},{_:"Zoom By Mouse Rect",$:{name:"roofline_toolbar_select_zoom"}},{_:"Move View By Mouse",$:{name:"roofline_toolbar_select_move"}},{_:"Undo",$:{name:"roofline_toolbar_undo"}},{_:"Redo",$:{name:"roofline_toolbar_redo"}},{_:"Cancel Zoom",$:{name:"roofline_toolbar_cancel_zoom"}},{_:"Copy To Clipboard",$:{name:"roofline_toolbar_copy_clipboard"}},{_:"Save To File",$:{name:"roofline_toolbar_save_file"}},{_:"Save For Comparison",$:{name:"roofline_toolbar_save_compare"}},{_:"Clear comparison result(s)",$:{name:"roofline_toolbar_clear_compare"}},{_:"Load result for comparison",$:{name:"roofline_toolbar_load_compare"}},{_:"Export as HTML",$:{name:"roofline_toolbar_html_export"}},{_:"Export as SVG",$:{name:"roofline_toolbar_svg_export"}},{_:"Width:",$:{name:"roofline_toolbar_svg_width"}},{_:"Height:",$:{name:"roofline_toolbar_svg_height"}},{_:"Show memory level relationships",$:{name:"roofline_toolbar_guidance_dumbbelled"}},{_:"Visually emphasize the relationships among displayed memory levels and roofs for a selected loop/function.",$:{name:"roofline_toolbar_guidance_dumbbelled_expl"}},{_:"Show Roofline boundaries",$:{name:"roofline_toolbar_guidance_zones"}},{_:"Color the roofline zones to make it easier to see if enclosed loops/functions are fundamentally memory bound, compute bound, or bound by compute and memory roofs.",$:{name:"roofline_toolbar_guidance_zones_expl"}},{_:"Display roof rulers",$:{name:"roofline_toolbar_guidance_ruler"}},{_:"Show a vertical line from a selected loop/function to the nearest and topmost performance ceilings. Intersections are labeled to show hardware performance limits at both roofs.",$:{name:"roofline_toolbar_guidance_ruler_expl"}},{_:"Guidance",$:{name:"roofline_toolbar_guidance_label"}},{_:"; processes  data type(s)",$:{name:"roofline_vectorization_types"},arg:[{$:{name:"%1"}}]},{_:"Synchronize zoom with Roofline chart without callstacks",$:{name:"roofline_zoom_synchronize"}},{_:"Please, Wait for Data Loading...",$:{name:"roofline_loading"}},{_:"Program metrics",$:{name:"roofline_summary_program_metrics"}},{_:"Loop metrics",$:{name:"roofline_summary_loop_metrics"}},{_:"Platform information",$:{name:"roofline_summary_platform_info"}},{_:"Advisor result location",$:{name:"roofline_path_to_results"}},{_:"Intel Advisor Website",$:{name:"roofline_product_link_title"}},{_:"Collected on:",$:{name:"roofline_collected_on"}},{_:"Performance Metrics Summary",$:{name:"roofline_summary_result"}},{_:"Roofline data is not available",$:{name:"roofline_no_data_generic_report_error_title"}},{_:"No data provided for Roofline chart from Advisor",$:{name:"roofline_no_data_generic_report_error_descr"}},{_:"There is no roofline data for the currently selected memory level. Suggestion: Select another memory level in the Roofline toolbar.",$:{name:"roofline_no_data_mem_level_report_error_descr"}},{_:"Microsoft Internet Explorer* {1} browser detected",$:{name:"roofline_no_data_wrong_browser_error_title"}},{_:"This Intel&reg; Advisor feature is not supported in the Internet Explorer* browser.",$:{name:"roofline_no_data_wrong_browser_error_descr"}},{_:"Memory Level",$:{name:"roofline_options_mem_levels"}}]}]}}},function(t,e,o){function n(t){return o(i(t))}function i(t){var e=r[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}var r={"./guidances-preview-0-170x110.png":21,"./guidances-preview-1-170x110.png":22,"./guidances-preview-2-170x110.png":23,"./guidances-preview-3-170x110.png":24};n.keys=function(){return Object.keys(r)},n.resolve=i,t.exports=n,n.id=20},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKoAAABuCAYAAAC3D4ggAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYxIDY0LjE0MDk0OSwgMjAxMC8xMi8wNy0xMDo1NzowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDoxMTg1NzIzN0YxNEVFOTExQTNCQkZCRThGM0I1QUMyOSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo4NzhBODMxNDU1RkQxMUU5QTk4NUJBNjJENTk5RTMyMSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo4NzhBODMxMzU1RkQxMUU5QTk4NUJBNjJENTk5RTMyMSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1LjEgV2luZG93cyI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkE2MTA4MDYzNTI1NUU5MTE5NjJGRjU1OTE4QUM5OUVCIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjExODU3MjM3RjE0RUU5MTFBM0JCRkJFOEYzQjVBQzI5Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+UF+tawAAA/xJREFUeNrs3d2LVVUYx/FzxpnGsfEliMQLRXtzCpSY8s8wUYKELkK6CAqK7oJCwZtuKii1EnuB8O8R7Ea9Uqc7L5thOznU6Xk4a2AgSc0Zfc7x84WHBXLOHs/aX9Zvr7X22ac/GAx6QHUmdAGIChAVRAWIChAVRAWIChAVRAWIChAVRAWICqICVZnUBY+eO7dubYrmpag/ok4vd917esWIWk3SvdFsizocdS2KpEbUUoJua4I+H3Um6lW9QtRqkr4czWLUl1Fv6xGiVhN0dzRLUUeiTkbN6hWiVhL06Wi2twmTmCdqSUlfiKaL+lrME7WioLuiuR11TMwTtaKgM9HsiJqLOivmiVpR0r3RrER9JeaJWlHQ57KJOh71mZgnasWY3xp1IOpc1H69QtRqkuaa6F9R30S9pUeIWk3QZ6P5M+odMU/UioJO94Z78wfFPFGrSppron0xT9Sqgj7TGy43vSvmiVpR0KnecG8+Y/47MU/UipLu7A1vIP9WzBO1oqC5HprPhT8h5olaUdAcPXNv/jUxT9Sqkuaa6JSYJ2pVQbf0hstN70d9KuaJWlHSXHJ6Per7qBedcqJWFHS6XYcedaqJWk3QzdHkAx4+aLP5GaeZqNUkzdn8fNR5MU/UioLmrtLmdh0q5olaTtCn2mf4MOpzMT++9Ef9R3tD1pH/1eHlrmPiuI2og6Wl3PqcWem6H8Q8USsKmjtKUy3mT4p5olYdRXPR/oLZPFErCjrbRs7zYp6o1WP+lJjHZEFJcxR9Q8yjpKghaN7hNNsEfdOpQSlRQ9Dcl8+bRz4ym0dJUdsoeijqRzGPcqKGoLkvv7UJKuZRS9QQdGJNzJvNo56oIelMi/mfxDzKiRqC5h1O28U8HoaJDZY0r0U/ibpJUpQbUUPQ6Rbzv4h5lBO1bX3moxp/NoKiZPS3mP846neSotyIuibmf43ap0tRStQQNN+7o8X8YV2JctHflpwy5hdIinIjahM0b8G7KOZRTtR2h1PGfO4qHdFtKBf9IWl/zWyepKg1orY77fN357/oDZ/KDNQRdc33lfIOJ08fQT1RQ9IcQXNN1PeVUE9U31dC+clUkzRj/gZJUXlEvSzmUX5EJSlGRVSAqABRQVSAqABRQVSAqABRQVSAqABRQVSAqCAqQFSAqCAqQFTgPpgc9w945erV+37tK3Nz/3rP3f7tQVk9BoyoICowQtH/26VLD/3HDs7P3/NYq6/B+nJ9YWHdjrVvz557HnP1Na5RN/D68G7vcZ0p+gEj6n/N/v/PjP5B3mMUfgyirue1o+vQR896XzNu1DFFP1yjAhtN/+/FxcEo/sdXum5sTsLyGH0WIyqIChAVICqeFP4RYACN9im1ifojWAAAAABJRU5ErkJggg=="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKoAAABuCAYAAAC3D4ggAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYxIDY0LjE0MDk0OSwgMjAxMC8xMi8wNy0xMDo1NzowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDoxMTg1NzIzN0YxNEVFOTExQTNCQkZCRThGM0I1QUMyOSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo3RTg1MUVDMjU1RkQxMUU5QkZCQ0YyNjIyQTI0OEYxQSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo3RTg1MUVDMTU1RkQxMUU5QkZCQ0YyNjIyQTI0OEYxQSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1LjEgV2luZG93cyI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkE2MTA4MDYzNTI1NUU5MTE5NjJGRjU1OTE4QUM5OUVCIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjExODU3MjM3RjE0RUU5MTFBM0JCRkJFOEYzQjVBQzI5Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+LaFqeQAABfNJREFUeNrsnU9oXFUUh+/YjKUUpiEFIwSkTDcdhzQhLjTFNiIEC124lXajVhcWMy0Wi9BFoRAQRahPSIsQopCIoigIWYkLx4UbjUkljUq1QQiYSgsdraEEiefMu4NjOjNJk8mbe9/7PjhMZ95Lebn5zfndc96fm1pZWTEArnMfQwAIFQChAkIFQKgACBUQKgBCBUCogFABECoAQgWECoBQIZG0MQTrp1AoNPu/fFzifYkso4tQXeRBiTcknpQ4FwTBKEOC9bvENomTEpclfpfYJ4FIyahOoTY/IvGHxBMSVxgShOqqzZ+W+Ighwfpdt3lESkbF5hEqYPMtJsXt0punUCiozb8scVbiPYnzQRD85ZUQUil92SNxTOKIRJ/ElMSkxITEfCu1glA3L9Jqmx8SgXpp8yJUFenws4fM0Wf6jTkoM+qvfzTmw2/km1c0H+iXULQyj/X7J9CKzQ9InBGB+m7zx1Skl543Zns6/OCp/TLBzpX/eVTEql/AYap+j2xe4hVbzS9I5KMWqbXpDW+vwxHNpBWRVtD3+rmdDlBMeSLSAWvzKtCDItCfWnEca03XNjid61O7r4X9vM8boW7BRRlOIcJrZPNvmbDtdFr2+ySGv/6UzEn71e5Xo3NVW1iRUR2u5k/aav5da/MbrubVkutlu0bbImJSCqd+nZNW2/+d5bCgstU/QnXc5g80w+YbCdGB7suEFEwPa+FUp+qfQKjuVfP3bPOOZ8v1MK/OodW9RM0+aisP7p76qDGfo662+WHfmvZxhowa0nSbB4TaTLys5teaSlT6qHE665jUhr/avDbtZyV+02pewnuRVgs0bqfGk5hR/2fzEl7ZvOOdA4TabJv3JYNCcqz//iqbv7ZVNt/o/PoGz71DgjKqXsD8jp2HPipxlT85QnWJLmvzet3PKYnPmDti/a7Z/KsmvARPs+e+KETqancgTlOROGXURNj8ek/Vxi3Dx0Gokdt8K0nqFMNn68fmKaa8sPkvq96ftVEmCIKak7BCoVA35fAzbv+Mb1dPbanN17vCv5lzR4i39Ttv87SnsH6a9uC0UBNVzYN/1l+x+e+p5sHVjDooccGEF48cwObBNaE+ZG3+EWvzn8dxsOkM+Gv9avOvSXxrwmeI5uMqUjoD/mbUQVvNX8XmwUWhJsLmwV/rT5TNg58ZFZsHp4WKzYPT1o/N14AbAN3KqNh8HWhPuSFUbB6ctn5sHpzPqIdNeG5eH4ujl+BdY0jBpYyqNv+pnYvq43GejoNItaDR6O3tPZHNZr/r6Oj4u62tbUVf9b1+XtmH4sftjFq5BE8fkfO2CVd5W4rTgOTz+YsLN+4cT3cNpjsfGzDZzpy5vTi349avX/X9uVDslu3ds7OzL7WgW7DHOLqqXiRj0OgXXHWP1GGbQa/YYil2Nl8sFk+ISC9k9j+X7sjdvazSzblJU7o8tty1e/up6enpkQiFqiJ1dlW9SDLqOm7Y2yvxpkS3FehkXAejVCqVM2ktkSr6+dKNX9Kl618cN+GjK6PC6VX1XLD+FyQuSZzXwQqCYCnOgzE+Pp5Tu2/EruyAWfz541zEh9ZwVT27OEQihVrdE31RYiwJE3bJqDt0TtqInbJd94v40JxeVa8VVX+tnuiY3u++mXvefSGTySxJ4dRwH92u+0V8aFN29by7cGFVvaiFqqc+9b55fSKznvo8F7eKfi3a29vnpLpvuI9u1/0iPjRdVa+8il41rqyqF5X1c+rzv4w6qi2om3N761b9ywvF5Qd2Z0YjPjSnV9WLpPMxNDR0XV4vSrxeL4MmwfbLg5FKlfuoi7f+ker/UFoLp51hH7WcSVWknbu2jVb6qFH1LumjhhmVK5yqUBH29PT8oC0ore61cNI5qdq9ZtKZmZmRqI/JinDeVvbDSfy7pLi8DHys+gEQKgBCBYQKgFABECogVACECoBQAaECIFRAqAAIFQChAkIFQKgACBUQKgBCBUCogFABECoAQgWECoBQAaECIFQAhAoIFQChAiBUQKgACBUAoYJv/CvAAGVKavghWYetAAAAAElFTkSuQmCC"},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKoAAABuCAYAAAC3D4ggAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYxIDY0LjE0MDk0OSwgMjAxMC8xMi8wNy0xMDo1NzowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDoxMTg1NzIzN0YxNEVFOTExQTNCQkZCRThGM0I1QUMyOSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo4REVCMjRCQjU1RkQxMUU5QkE1OUM0OTE0OUY2RDUxRiIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo4REVCMjRCQTU1RkQxMUU5QkE1OUM0OTE0OUY2RDUxRiIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1LjEgV2luZG93cyI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkE2MTA4MDYzNTI1NUU5MTE5NjJGRjU1OTE4QUM5OUVCIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjExODU3MjM3RjE0RUU5MTFBM0JCRkJFOEYzQjVBQzI5Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+70IlNAAAA0JJREFUeNrs2TFoE1EcwOGXohYUFFw6dLOLXewsrQouQt0KgoNDcXJyEN3dFQcnhyIODoKQTcFFUFuc6xKXunXoIigotIXG90+v5RpimrbxWsP3wWtI7vo8L79c7q61ZrOZ4KgbsgsQKggVoYJQQagIFYQKQkWoIFQQKkIFoSJUECoIFaGCUEGoCBWECkJFqCBUhApCBaEiVBAqCBWhglBBqAgVhApCRaggVIQKQgWhIlQQKggVoYJQQagIFYSKUEGoIFSECkIFoSJUECoIFaGCUEGoCPX/UqvVymMmj7k8GnmsFY9zxevb61Hh+9NsNu2FItRsJI/7edz7y4d4I48neTzOY6WKfVf6QEzlMZPH1TzG82jk8T6Peh7zscIgv5cDG2q8wb3837bWK4J4FKEOnx5NZ8evpzPnrqRTI+Pp10oj/fj2IX1vvEmrP5dTEeqDCkO9lcfDPMY6rLJULHsp1OriavZzu7bmy3PVuh2tilDjaPU6Rzo0OnW3FWq7CHV5/mnEGkfWG/n36hXskziSvohIZy+ndPNiSpfOp/Tpa0qvPucFH7djnc3bM+8ctcJIq5ovAi19IKZjf0SgnSINpWVDxfpVmNmK9NntlK5dSOnkic3HeB6vF0faGRdTAxhpB5PxI77uuyktn6xo98Q5aetIOnx854J4Hq+X1xtUx45QpK2DXIeLiINo7mGu9fgR56TdlJaPtW37PxVf97u8Pu6IWs2RtFacm+57lKfe63zFeV7rwqmb0vKlg2zrHrZrMf6xOCftpPR6Q6gVfN23nS8exnwL8SOu7rspLV+oaFfFLajWhdPq+s4F8TxeL68n1ME7J233No+NuLKP0Ulp2UaxfhXizsJSXN3feZ7Suy8p/V7bfIznpav++iCHemi3p8q3ho7CfO6jCrWnN6O8Hb3erO9lrr3Ml9fr+S9Teb6VKj/QyV+m/Am1QxQRxHRxC2qsOGotFF/39UGPQqiwT4d+H3VxcXHHJ2ViYqLWr7n2O1+nefqxff3aht1UtY0Df9UPQkWo4GIKHFERKggVhIpQQagIFYQKQkWoIFQQKkIFoYJQESoIFaGCUEGoCBWECkJFqCBUECpCBaFC9keAAQBf7bbSU6PxJQAAAABJRU5ErkJggg=="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKoAAABuCAYAAAC3D4ggAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYxIDY0LjE0MDk0OSwgMjAxMC8xMi8wNy0xMDo1NzowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDoxMTg1NzIzN0YxNEVFOTExQTNCQkZCRThGM0I1QUMyOSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo5N0YyNDc5MTU1RkQxMUU5ODhDQUEwMDczQUM0ODFGRCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo5N0YyNDc5MDU1RkQxMUU5ODhDQUEwMDczQUM0ODFGRCIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1LjEgV2luZG93cyI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkE2MTA4MDYzNTI1NUU5MTE5NjJGRjU1OTE4QUM5OUVCIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjExODU3MjM3RjE0RUU5MTFBM0JCRkJFOEYzQjVBQzI5Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+3Do7hAAAApBJREFUeNrs3F1qE1EYgOEZW0UQpSgoIrgDyY0bSHbSNbgOt5TsoJANeKU33ohoqKS20++0Z3BSEmJLmznTPg8ck6beOH395uSnUzdNU0HpHjkECBWEilBBqCBUhApCBaEiVBAqCBWhglARKggVhIpQQaggVIQKQgWhIlQQKkLlirqum1gOhFDLbzWWax0JdSiD1WQVasE6F467mKxiFeoQYq3E2r/9+/4PnM/nK8WNRqN63eMbYq1zoO1krV2m00T1BIuHO1HvYM+KiQobTmf2XFsO0MW2tDFJTVQQKkIFoYJQESoIdVfSS1KOQlm8M7VGfo8/xer1UxO1/Fgr7+0LdSi7gLwVcCSEOowBK1Z71Ftznc+epu9t+0yqz6OaqEPdBqhUqEU/sVrZsyLUIcRKH6czP4AtB8jnUU1UECpCBaGCUBEqCBWhglBBqAgVhArX5kMpmKggVIQKQoUbcKWU/zCZTNJ/6L28ktO8ztb9/el06qCZqL3Ym81my1jHcf9VrBexnjh+Qi3N4/RHeikvYv0ad9/FOhCrUIubqO2dHOs87r4Vq1BLs/JbqDnWI7EKtXhiFeoQY30d61l3i4BQy9kP/LvCX3oV4KlQ747XUW8QZ5qk6XY8Hn+Kh747KiZqMWf5NtKI87CNNU77n+PhRaxfsf5Ul28CYKL25jQCfR+3b2K9vPK9v7GWsU6EaqL2LUX4M9a3WF8i2o+d/elxDnXjW6qYqDubqJ0gf6cVsX6I2+c54mXlIr9CLcBZXied03xaP/Lji/w1Qi0q2vZUv+hMXPtToRY9YdkBv9yHZ/0gVIQKQgWhIlQQKggVoYJQQagIFYSKUEGoIFSECkIFoSJUECoIFaGCUHngzgUYAOuTv5dwOBE4AAAAAElFTkSuQmCC"}]);</script><noscript>Open the exported Intel&reg; Advisor HTML file in your browser. NOTE: The HTML file uses running scripts to provide a full interactive experience.</noscript></body></html>