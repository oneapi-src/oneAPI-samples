if(USE_DEVICE_API)
    set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -fsycl -DWITH_FUSED_BETA=1 -DUSE_DEVICE_API=1 ")
    add_executable (02_sycl_migrated_optimized_device longstaff_schwartz_svd_2.dp.cpp)
    target_link_libraries(02_sycl_migrated_optimized_device sycl)
    add_custom_target (run_device_api cd ${CMAKE_SOURCE_DIR}/02_sycl_migrated_optimized/ && ${CMAKE_RUNTIME_OUTPUT_DIRECTORY}/02_sycl_migrated_optimized_device)
else()
    set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -fsycl -DWITH_FUSED_BETA=1 ")
    add_executable (02_sycl_migrated_optimized_host longstaff_schwartz_svd_2.dp.cpp)
    target_link_libraries(02_sycl_migrated_optimized_host sycl mkl_sycl mkl_core mkl_sequential mkl_intel_ilp64)
    add_custom_target (run_host_api cd ${CMAKE_SOURCE_DIR}/02_sycl_migrated_optimized/ && ${CMAKE_RUNTIME_OUTPUT_DIRECTORY}/02_sycl_migrated_optimized_host)
endif()
include_directories(${CMAKE_SOURCE_DIR}/02_sycl_migrated_optimized/include/)
